[Script Info]
; Script generated by Aegisub 3.2.0
; http://www.aegisub.org/
Title: Default Aegisub file
ScriptType: v4.00+
WrapStyle: 0
ScaledBorderAndShadow: yes
YCbCr Matrix: None

[Aegisub Project Garbage]
Last Style Storage: Default

[V4+ Styles]
Format: Name, Fontname, Fontsize, PrimaryColour, SecondaryColour, OutlineColour, BackColour, Bold, Italic, Underline, StrikeOut, ScaleX, ScaleY, Spacing, Angle, BorderStyle, Outline, Shadow, Alignment, MarginL, MarginR, MarginV, Encoding
Style: yin,冬青黑体简体中文 W3,20,&H00FFFFFF,&HF0000000,&H00000000,&H32000000,0,0,0,0,100,100,0,0,1,1,0,2,5,5,5,134

[Events]
Format: Layer, Start, End, Style, Name, MarginL, MarginR, MarginV, Effect, Text
Dialogue: 0,0:00:05.41,0:00:06.41,yin,,0,0,0,,斯坦福大学\N{\fs12}Stanford University.
Dialogue: 0,0:00:08.62,0:00:13.34,yin,,0,0,0,,欢迎来到2013至2014秋季学期\N{\fs12}Okay, well, welcome then to lecture 10, yes 10,
Dialogue: 0,0:00:13.63,0:00:17.62,yin,,0,0,0,,CS193P第十讲\N{\fs12}of CS193P, fall of 2013/14 academic year,
Dialogue: 0,0:00:17.63,0:00:20.77,yin,,0,0,0,,今天我们要讲的是多线程\N{\fs12}and today, we are going to talk about multithreading.
Dialogue: 0,0:00:20.87,0:00:22.75,yin,,0,0,0,,我只会简单地讲一下\N{\fs12}Okay? I'm only going to talk about it briefly,
Dialogue: 0,0:00:24.43,0:00:26.87,yin,,0,0,0,,因为很多多线程的内容\N{\fs12}but, because you'll learn a lot from multithreading
Dialogue: 0,0:00:26.88,0:00:28.29,yin,,0,0,0,,都会通过实际体验学到\N{\fs12}kind of through experience.
Dialogue: 0,0:00:28.98,0:00:30.48,yin,,0,0,0,,然后我们会讲UIScrollView滚动视图\N{\fs12}Then we're going to talk about UIScrollView,
Dialogue: 0,0:00:30.48,0:00:32.32,yin,,0,0,0,,非常重要的视图\N{\fs12}a very important view that allows you
Dialogue: 0,0:00:32.32,0:00:36.28,yin,,0,0,0,,能够扩大手机小屏幕的范围\N{\fs12}to expand what you can see on that little phone screen,
Dialogue: 0,0:00:36.37,0:00:38.09,yin,,0,0,0,,让你看到更大的内容\N{\fs12}to let you look at larger things.
Dialogue: 0,0:00:38.39,0:00:40.88,yin,,0,0,0,,然后我会做一个示例演示 包含这两项内容\N{\fs12}I'll do a demo that's gonna cover both of those things,
Dialogue: 0,0:00:40.88,0:00:42.17,yin,,0,0,0,,多线程和滚动视图\N{\fs12}multithreading and scrolling.
Dialogue: 0,0:00:42.43,0:00:44.14,yin,,0,0,0,,然后剩下的时间\N{\fs12}And then however much time we'll have left
Dialogue: 0,0:00:44.15,0:00:46.86,yin,,0,0,0,,我们会开始讲下一个主题UITableView表视图\N{\fs12}we'll get started on our next topic which is UITableView,
Dialogue: 0,0:00:46.86,0:00:49.75,yin,,0,0,0,,周三再继续\N{\fs12}we'll continue that on Wednesday.
Dialogue: 0,0:00:51.97,0:00:53.40,yin,,0,0,0,,先来看多线程\N{\fs12}So multithreading, okay.
Dialogue: 0,0:00:54.13,0:00:56.48,yin,,0,0,0,,多线程就是\N{\fs12}The idea with multithreading is
Dialogue: 0,0:00:56.67,0:01:00.80,yin,,0,0,0,,将程序的执行路径\N{\fs12}that you want to divide up the execution paths of your program
Dialogue: 0,0:01:00.81,0:01:04.00,yin,,0,0,0,,分为不同的路径\N{\fs12}into different and distinct paths
Dialogue: 0,0:01:04.01,0:01:06.64,yin,,0,0,0,,可能在同一时间运行\N{\fs12}that are possibly running at the same time.
Dialogue: 0,0:01:06.64,0:01:09.63,yin,,0,0,0,,我说"可能" 因为从程序员的角度看\N{\fs12}Now I say possibly, from your standpoint as a programmer,
Dialogue: 0,0:01:09.63,0:01:11.49,yin,,0,0,0,,各个线程都是同时运行的\N{\fs12}they look like they're all running at the same time.
Dialogue: 0,0:01:11.74,0:01:14.09,yin,,0,0,0,,但是 如果你的电脑或者手机\N{\fs12}But, of course, if you have a computer or a phone
Dialogue: 0,0:01:14.09,0:01:15.72,yin,,0,0,0,,只有一个处理器\N{\fs12}that only has one processor,
Dialogue: 0,0:01:15.90,0:01:17.90,yin,,0,0,0,,根本不可能同时运行\N{\fs12}there's no way for them to run at the same time.
Dialogue: 0,0:01:18.19,0:01:20.42,yin,,0,0,0,,但是操作系统让它们看起来是同时处理的\N{\fs12}But the OS makes it appear that they are
Dialogue: 0,0:01:20.42,0:01:22.26,yin,,0,0,0,,方法主要是时间分片\N{\fs12}by basically time slicing,
Dialogue: 0,0:01:22.27,0:01:24.58,yin,,0,0,0,,分给每个进程一点时间\N{\fs12}giving each one of them a little bit of time
Dialogue: 0,0:01:25.64,0:01:28.16,yin,,0,0,0,,这样看起来它们都是同时运行的\N{\fs12}to make it seem like they're all running at the same time, okay?
Dialogue: 0,0:01:28.78,0:01:33.00,yin,,0,0,0,,如果你确实有多个处理器\N{\fs12}And, so, if you did have a multiprocessor,
Dialogue: 0,0:01:33.00,0:01:35.45,yin,,0,0,0,,它们可能会同时运行 可能不会\N{\fs12}maybe they would actually running at the same time, or maybe not,
Dialogue: 0,0:01:35.46,0:01:36.86,yin,,0,0,0,,但我们不在意也不知道\N{\fs12}but you don't care and you don't know.
Dialogue: 0,0:01:37.14,0:01:39.82,yin,,0,0,0,,不是我们要知道的内容\N{\fs12}Okay? It's totally not for you to know.
Dialogue: 0,0:01:40.01,0:01:41.95,yin,,0,0,0,,我们为什么需要这种行为呢\N{\fs12}Why do we want this kind of behavior
Dialogue: 0,0:01:41.95,0:01:43.69,yin,,0,0,0,,这种多线程执行\N{\fs12}where we have these multiple threads of execution?
Dialogue: 0,0:01:43.69,0:01:45.40,yin,,0,0,0,,有一些原因\N{\fs12}Well, a couple of reasons.
Dialogue: 0,0:01:45.40,0:01:47.26,yin,,0,0,0,,有一个执行线程\N{\fs12}One, we've got one thread of execution
Dialogue: 0,0:01:47.27,0:01:49.39,yin,,0,0,0,,也就是主执行线程\N{\fs12}which is that main thread of execution
Dialogue: 0,0:01:49.50,0:01:51.73,yin,,0,0,0,,用户在其中互动 执行触控事件\N{\fs12}where the user is interacting, doing touch events,
Dialogue: 0,0:01:51.74,0:01:53.74,yin,,0,0,0,,我们希望它有很好的响应能力\N{\fs12}we want thing to be very responsive.
Dialogue: 0,0:01:53.90,0:01:55.85,yin,,0,0,0,,我们想让它始终在监听\N{\fs12}We want that to always be listening,
Dialogue: 0,0:01:55.87,0:01:57.49,yin,,0,0,0,,不想让它停止监听\N{\fs12}we never want that to not be listening.
Dialogue: 0,0:01:58.06,0:01:59.94,yin,,0,0,0,,另外一个原因就是其他执行线程\N{\fs12}The other thing is we have other threads of execution
Dialogue: 0,0:01:59.94,0:02:02.27,yin,,0,0,0,,可能会阻塞\N{\fs12}that actually might block, okay?
Dialogue: 0,0:02:02.27,0:02:03.34,yin,,0,0,0,,为什么会阻塞呢\N{\fs12}Why would they block?
Dialogue: 0,0:02:03.34,0:02:04.25,yin,,0,0,0,,为什么会停下来\N{\fs12}Why would they stop?
Dialogue: 0,0:02:04.32,0:02:06.27,yin,,0,0,0,,比如说执行了一个网络调用\N{\fs12}Well, let's say they do a network call
Dialogue: 0,0:02:06.29,0:02:08.28,yin,,0,0,0,,等待返回网络数据\N{\fs12}and they're waiting for something to come back over the network.
Dialogue: 0,0:02:08.28,0:02:10.71,yin,,0,0,0,,需要等待返回的内容\N{\fs12}Well, they have to wait for that thing to come back.
Dialogue: 0,0:02:10.71,0:02:12.36,yin,,0,0,0,,所以线程会被阻塞 会停住\N{\fs12}So they are blocked, they're stopped.
Dialogue: 0,0:02:12.80,0:02:14.81,yin,,0,0,0,,我们不会希望主线程\N{\fs12}Okay? We would never want that main execution
Dialogue: 0,0:02:14.82,0:02:16.17,yin,,0,0,0,,监听触控事件的主线程\N{\fs12}that's listening for touch events
Dialogue: 0,0:02:16.18,0:02:19.13,yin,,0,0,0,,被停住或被阻塞\N{\fs12}to be stopped, okay, or blocked, right?
Dialogue: 0,0:02:19.18,0:02:21.07,yin,,0,0,0,,但是其他线程阻塞就没关系了\N{\fs12}But these other ones, it's okay if they're blocked.
Dialogue: 0,0:02:21.07,0:02:22.17,yin,,0,0,0,,如果它们在等待返回数据\N{\fs12}If they're waiting for something,
Dialogue: 0,0:02:22.20,0:02:24.01,yin,,0,0,0,,等待就可以了\N{\fs12}they're waiting for something. Okay?
Dialogue: 0,0:02:24.59,0:02:28.02,yin,,0,0,0,,想要理解iOS中多线程的实现方法\N{\fs12}So to understand how we do multithreading, in iOS,
Dialogue: 0,0:02:28.16,0:02:31.19,yin,,0,0,0,,有一点要理解 也就是queue队列\N{\fs12}there's one thing you have to understand and that's queues.
Dialogue: 0,0:02:31.73,0:02:34.92,yin,,0,0,0,,队列和现实世界中的队列是一样的\N{\fs12}Okay? A queue, just like a queue in the real world,
Dialogue: 0,0:02:34.93,0:02:35.95,yin,,0,0,0,,队列表示排成一队\N{\fs12}queue means like a line,
Dialogue: 0,0:02:35.96,0:02:38.01,yin,,0,0,0,,比如你去电影院 人们会排成一队\N{\fs12}like you go to the movie theater and there's a line of people,
Dialogue: 0,0:02:38.02,0:02:38.93,yin,,0,0,0,,这叫做队列\N{\fs12}that's called a queue.
Dialogue: 0,0:02:39.29,0:02:40.52,yin,,0,0,0,,向不知道这个词的同学解释一下\N{\fs12}For those of you who don't know that word.
Dialogue: 0,0:02:41.30,0:02:42.86,yin,,0,0,0,,如果理解了这个队列的意思\N{\fs12}And so you got that queue
Dialogue: 0,0:02:42.87,0:02:46.02,yin,,0,0,0,,iOS多线程这里的队列也是一样的\N{\fs12}and the same thing is happening here with iOS multithreading.
Dialogue: 0,0:02:46.02,0:02:48.10,yin,,0,0,0,,这里也有队列 但在这些队列中\N{\fs12}You have these queues, but in these queues,
Dialogue: 0,0:02:48.10,0:02:51.70,yin,,0,0,0,,不是等着看电影的人 而是block\N{\fs12}instead of people waiting for the theater, there are blocks.
Dialogue: 0,0:02:51.88,0:02:53.99,yin,,0,0,0,,上周我们讲过的block\N{\fs12}Blocks in the way we talked about last week.
Dialogue: 0,0:02:53.99,0:02:56.24,yin,,0,0,0,,用大括号表示的block\N{\fs12}You know, the curly, curly brace thing, okay?
Dialogue: 0,0:02:56.57,0:02:59.10,yin,,0,0,0,,所以这个队列中都是block\N{\fs12}So you got this queue, in line, you have these blocks,
Dialogue: 0,0:02:59.17,0:03:01.72,yin,,0,0,0,,block排着队等着被执行\N{\fs12}and they're all waiting in line to be executed.
Dialogue: 0,0:03:02.11,0:03:04.26,yin,,0,0,0,,根据所在队列的不同\N{\fs12}And depending on which queue they're in,
Dialogue: 0,0:03:04.40,0:03:06.67,yin,,0,0,0,,当轮到它们 排到了队列前面\N{\fs12}when it's their turn, when they get to the front of the line,
Dialogue: 0,0:03:06.82,0:03:09.69,yin,,0,0,0,,它们会被取出队列 开始执行\N{\fs12}they get taken off the queue and they get to run.
Dialogue: 0,0:03:10.56,0:03:13.08,yin,,0,0,0,,可能是在单独的线程中\N{\fs12}Okay? Possibly in a separate thread.
Dialogue: 0,0:03:13.63,0:03:16.31,yin,,0,0,0,,通常情况下\N{\fs12}Okay? Usually there might be
Dialogue: 0,0:03:16.56,0:03:19.21,yin,,0,0,0,,一个队列会分配单个或多个线程\N{\fs12}multiple threads assigned to one queue, or single thread,
Dialogue: 0,0:03:19.22,0:03:20.65,yin,,0,0,0,,同样的 你并不知道会怎样\N{\fs12}again, you don't know what's going on,
Dialogue: 0,0:03:20.65,0:03:23.13,yin,,0,0,0,,你只知道自己将这些block放入了队列\N{\fs12}all you know is you're putting these blocks in a queue
Dialogue: 0,0:03:23.31,0:03:25.79,yin,,0,0,0,,它们会被取出并运行\N{\fs12}and they are being taken off and allowed to run.
Dialogue: 0,0:03:26.02,0:03:29.70,yin,,0,0,0,,队列允许一次放一个人\N{\fs12}And people can be allowed to come off the queue one at a time,
Dialogue: 0,0:03:29.71,0:03:30.67,yin,,0,0,0,,所以在电影院中\N{\fs12}so at the movie theater,
Dialogue: 0,0:03:30.68,0:03:32.83,yin,,0,0,0,,一个人进去看电影\N{\fs12}one person gets to go and watch the whole movie,
Dialogue: 0,0:03:32.95,0:03:34.87,yin,,0,0,0,,他看完之后 后面那个人再进去\N{\fs12}and when they're done, the next person goes in.
Dialogue: 0,0:03:34.96,0:03:36.93,yin,,0,0,0,,这叫做串行队列\N{\fs12}Okay? That's called a serial queue,
Dialogue: 0,0:03:36.93,0:03:38.97,yin,,0,0,0,,这就是我们要讲的队列\N{\fs12}that's what the queues we're going to talk about are,
Dialogue: 0,0:03:38.97,0:03:39.81,yin,,0,0,0,,是一个非常简单的队列\N{\fs12}it's a very simple queue.
Dialogue: 0,0:03:39.98,0:03:41.48,yin,,0,0,0,,但还有一种并发队列\N{\fs12}There's also concurrent queues, however,
Dialogue: 0,0:03:41.49,0:03:43.23,yin,,0,0,0,,可以让一群人进电影院\N{\fs12}where a whole bunch of people get to go into a theater
Dialogue: 0,0:03:43.24,0:03:46.74,yin,,0,0,0,,可以同时做某事\N{\fs12}and they're all get to be doing stuff simultaneously.
Dialogue: 0,0:03:46.86,0:03:48.19,yin,,0,0,0,,这种略微复杂些\N{\fs12}Okay? It's a little more complicated,
Dialogue: 0,0:03:48.19,0:03:49.92,yin,,0,0,0,,因为你得到这个队列 从中取出block\N{\fs12}because you got this queue, you're pulling off these blocks
Dialogue: 0,0:03:49.92,0:03:51.03,yin,,0,0,0,,它们一起运行\N{\fs12}and they're all running together,
Dialogue: 0,0:03:51.04,0:03:53.87,yin,,0,0,0,,如果它们想要共享资源等等\N{\fs12}if they ever want to share resources or something
Dialogue: 0,0:03:53.89,0:03:55.90,yin,,0,0,0,,需要更高级一些的多线程编程\N{\fs12}they need a little more advanced multithreaded programming
Dialogue: 0,0:03:55.93,0:03:57.21,yin,,0,0,0,,我们要用的是简单的队列\N{\fs12}and we're going to do the simple kind
Dialogue: 0,0:03:57.43,0:03:59.40,yin,,0,0,0,,一次只有一个人从队列中出来\N{\fs12}where one person coming out of the queue,
Dialogue: 0,0:03:59.51,0:04:01.59,yin,,0,0,0,,一次只从队列中取出一个block\N{\fs12}one block coming out of the queue at the same time.
Dialogue: 0,0:04:02.05,0:04:03.72,yin,,0,0,0,,这就是大家要理解的内容\N{\fs12}Okay? So that's really what you understand,
Dialogue: 0,0:04:03.72,0:04:05.31,yin,,0,0,0,,多线程的工作原理就是这样的\N{\fs12}is that's how this multithreading works.
Dialogue: 0,0:04:05.36,0:04:07.15,yin,,0,0,0,,由block组成的队列\N{\fs12}Queues of blocks, okay?
Dialogue: 0,0:04:07.47,0:04:10.62,yin,,0,0,0,,有一个很重要的队列 就是主队列\N{\fs12}Now there's a very important queue, which is the main queue,
Dialogue: 0,0:04:10.62,0:04:13.22,yin,,0,0,0,,在这个队列中处理多点触控\N{\fs12}that's the queue on which multi-touch is happening
Dialogue: 0,0:04:13.22,0:04:15.13,yin,,0,0,0,,以及所有UI操作等等\N{\fs12}and all the UI stuff is happening,
Dialogue: 0,0:04:15.44,0:04:17.16,yin,,0,0,0,,它很特殊 原因有两点\N{\fs12}and this is special for two reasons.
Dialogue: 0,0:04:17.16,0:04:20.58,yin,,0,0,0,,一是我们绝不想让它阻塞\N{\fs12}Alright? One is that we never want to block it, okay?
Dialogue: 0,0:04:20.58,0:04:23.04,yin,,0,0,0,,我们不会将需要执行很长时间的线程\N{\fs12}So we never want to do anything that's gonna take very long
Dialogue: 0,0:04:23.47,0:04:24.89,yin,,0,0,0,,放在主队列上\N{\fs12}on that main queue.
Dialogue: 0,0:04:25.13,0:04:27.55,yin,,0,0,0,,二是我们将其用于同步\N{\fs12}And the second thing is we use it for synchronization
Dialogue: 0,0:04:27.72,0:04:30.96,yin,,0,0,0,,所有UI相关内容的同步\N{\fs12}for everything that is UI related, okay?
Dialogue: 0,0:04:31.12,0:04:34.68,yin,,0,0,0,,全部方法 也不是全部 UIKit中大部分方法\N{\fs12}So all the methods, not all, but most of the methods in UIKit,
Dialogue: 0,0:04:34.93,0:04:36.69,yin,,0,0,0,,只能在主线程中调用它们\N{\fs12}you want to call them only on the main queue,
Dialogue: 0,0:04:36.70,0:04:39.49,yin,,0,0,0,,实际上 如果你在其他block中调用它们\N{\fs12}and in fact, if you call them on some other, some block
Dialogue: 0,0:04:39.68,0:04:41.91,yin,,0,0,0,,从其他队列中取出的block中 可能不会正常运行的\N{\fs12}that came off from some other queue probably wouldn't work.
Dialogue: 0,0:04:42.33,0:04:46.21,yin,,0,0,0,,而有一些对象 比如UIImage UIFont UIColor\N{\fs12}Now there's a few, like UIImage, UIFont, UIColor,
Dialogue: 0,0:04:46.39,0:04:49.47,yin,,0,0,0,,它们不在主线程上一样可以正常运行\N{\fs12}a couple of those things, they'll work off the main queue,
Dialogue: 0,0:04:49.58,0:04:53.02,yin,,0,0,0,,但任何能够或可能引起\N{\fs12}but anything that is going to cause the screen to have to change
Dialogue: 0,0:04:53.03,0:04:56.32,yin,,0,0,0,,屏幕改变或同步等的操作\N{\fs12}or synchronize or anything like that, or that might cause that,
Dialogue: 0,0:04:56.48,0:04:57.90,yin,,0,0,0,,都要发生在主队列上\N{\fs12}that all needs to happen on the main queue,
Dialogue: 0,0:04:57.92,0:04:59.00,yin,,0,0,0,,所以我们要用主队列\N{\fs12}so we use that main queue,
Dialogue: 0,0:04:59.16,0:05:02.09,yin,,0,0,0,,不断响应用户操作\N{\fs12}both to have something that's constantly responsive to the user
Dialogue: 0,0:05:02.10,0:05:03.26,yin,,0,0,0,,和进行同步\N{\fs12}and for synchronization,
Dialogue: 0,0:05:03.26,0:05:06.25,yin,,0,0,0,,让一切和UI同步\N{\fs12}to keep everything in sync of what's going on in the UI side.
Dialogue: 0,0:05:06.42,0:05:08.64,yin,,0,0,0,,其他操作可以放在其他队列中执行\N{\fs12}Everything else we could do in other queues,
Dialogue: 0,0:05:08.65,0:05:10.05,yin,,0,0,0,,实际上 令人惊讶的是\N{\fs12}and actually, amazingly,
Dialogue: 0,0:05:10.06,0:05:13.78,yin,,0,0,0,,iOS会在其他队列中执行绘制等操作\N{\fs12}iOS is doing things like actually drawing in another queue.
Dialogue: 0,0:05:14.13,0:05:16.25,yin,,0,0,0,,你并不知道 不知道是什么队列\N{\fs12}Okay, you don't know that, you don't know what queue it is,
Dialogue: 0,0:05:16.25,0:05:18.38,yin,,0,0,0,,你看不到 但实际上是在其他队列中执行的\N{\fs12}you don't see it, but it's actually doing the other queue,
Dialogue: 0,0:05:18.38,0:05:18.97,yin,,0,0,0,,为什么呢\N{\fs12}why?
Dialogue: 0,0:05:19.08,0:05:21.16,yin,,0,0,0,,因为如果绘制某些复杂图形时\N{\fs12}Because if it's drawing something very graphic-intensive
Dialogue: 0,0:05:21.16,0:05:23.21,yin,,0,0,0,,用户在主队列中用了多点触控\N{\fs12}and the user multi-touches in the main queue,
Dialogue: 0,0:05:23.41,0:05:24.91,yin,,0,0,0,,就要切换回主队列\N{\fs12}you want to switch back to that main queue
Dialogue: 0,0:05:24.92,0:05:27.10,yin,,0,0,0,,赋予优先级\N{\fs12}and give it the, the priority
Dialogue: 0,0:05:27.11,0:05:31.26,yin,,0,0,0,,先完成多点触控 绘制稍后执行\N{\fs12}and the drawing can wait a little bit while that multi-touch gets done.
Dialogue: 0,0:05:32.92,0:05:35.43,yin,,0,0,0,,所以不要阻塞主队列\N{\fs12}Okay? So this main queue doesn't want to be blocked,
Dialogue: 0,0:05:35.43,0:05:36.94,yin,,0,0,0,,我们用主队列来进行同步\N{\fs12}it's where we do the synchronization,
Dialogue: 0,0:05:37.04,0:05:40.40,yin,,0,0,0,,我会演示 如何编写代码\N{\fs12}and I'm gonna show you how you can write code
Dialogue: 0,0:05:40.41,0:05:43.37,yin,,0,0,0,,让它运行在其他队列中 但还要更新UI\N{\fs12}that is running on other queues, but needs to do UI,
Dialogue: 0,0:05:43.61,0:05:44.60,yin,,0,0,0,,因为这是个问题对吧\N{\fs12}because that's a problem, right?
Dialogue: 0,0:05:44.60,0:05:47.20,yin,,0,0,0,,如果在其他队列上有block\N{\fs12}If your got a block that's on another queue,
Dialogue: 0,0:05:47.20,0:05:51.08,yin,,0,0,0,,不在主队列上\N{\fs12}non-main thread queue, non-main queue,
Dialogue: 0,0:05:51.13,0:05:52.41,yin,,0,0,0,,然后还要对UI进行操作\N{\fs12}then, and you want to do some UI,
Dialogue: 0,0:05:52.42,0:05:54.07,yin,,0,0,0,,就必须向主队列通信\N{\fs12}you got to somehow talk to that main queue,
Dialogue: 0,0:05:54.07,0:05:56.50,yin,,0,0,0,,要在主队列上放一个block\N{\fs12}you got put a block, basically, on that main queue.
Dialogue: 0,0:05:57.24,0:05:58.40,yin,,0,0,0,,还有其他队列\N{\fs12}There are other queues,
Dialogue: 0,0:05:58.41,0:06:00.68,yin,,0,0,0,,大部分都是iOS在后台创建的\N{\fs12}mostly they're created by iOS behind the scenes,
Dialogue: 0,0:06:00.68,0:06:02.97,yin,,0,0,0,,幻灯片中有个示例\N{\fs12}I'm going to show you an example here in the slides
Dialogue: 0,0:06:03.09,0:06:06.78,yin,,0,0,0,,会介绍一个API中可以看到的队列\N{\fs12}of a queue that is visible to you in the API
Dialogue: 0,0:06:06.90,0:06:08.13,yin,,0,0,0,,以及我们处理的方法\N{\fs12}and how we deal with that.
Dialogue: 0,0:06:08.97,0:06:11.84,yin,,0,0,0,,那么如何在其他队列上执行block呢\N{\fs12}Alright, so how do you execute a block on another queue?
Dialogue: 0,0:06:12.13,0:06:16.19,yin,,0,0,0,,这是C层API 非常底层的API\N{\fs12}Okay? This is a C-level API, it's a very low-level API,
Dialogue: 0,0:06:16.19,0:06:19.02,yin,,0,0,0,,在对象之下 所以在最底这层API中\N{\fs12}below object, so you're not going to see any object stuff
Dialogue: 0,0:06:19.42,0:06:21.10,yin,,0,0,0,,不会看到任何对象内容\N{\fs12}in this lowest level API.
Dialogue: 0,0:06:21.10,0:06:23.16,yin,,0,0,0,,在这层之上 有一个面向对象层\N{\fs12}There is an object-oriented layer on top of it
Dialogue: 0,0:06:23.17,0:06:25.74,yin,,0,0,0,,叫NSOperationQueue\N{\fs12}called NSOperation, NSOperationQueue,
Dialogue: 0,0:06:26.31,0:06:28.07,yin,,0,0,0,,但那是内容很少的面向对象层\N{\fs12}but it's kind of a thin object-oriented layer.
Dialogue: 0,0:06:28.07,0:06:29.49,yin,,0,0,0,,这是核心层\N{\fs12}This is the core layer.
Dialogue: 0,0:06:29.84,0:06:33.23,yin,,0,0,0,,这是最基本的方法\N{\fs12}And this is the fundamental method, dis, or, sorry,
Dialogue: 0,0:06:33.23,0:06:36.34,yin,,0,0,0,,基本的C函数 dispatch_async\N{\fs12}this is fundamental C function, dispatch, underbar, async,
Dialogue: 0,0:06:36.75,0:06:39.95,yin,,0,0,0,,表示将这个block以异步方式\N{\fs12}and that means asynchronously put this block
Dialogue: 0,0:06:40.23,0:06:41.97,yin,,0,0,0,,放入这个队列中\N{\fs12}on this queue, okay?
Dialogue: 0,0:06:42.32,0:06:44.79,yin,,0,0,0,,可以看到 我声明了一个队列 局部变量queue\N{\fs12}So you see I've declared a queue there, local variable queue,
Dialogue: 0,0:06:44.79,0:06:47.73,yin,,0,0,0,,是dispatch_queue_t类型的 是个typedef\N{\fs12}it's a of type dispatch queue t, which is a typedef,
Dialogue: 0,0:06:48.15,0:06:50.70,yin,,0,0,0,,我稍后会介绍如何获取队列\N{\fs12}and I'll, I'll talk about how to get a queue in a second.
Dialogue: 0,0:06:50.84,0:06:52.55,yin,,0,0,0,,然后用dispatch_async\N{\fs12}And then you just say dispatch async,
Dialogue: 0,0:06:52.58,0:06:55.05,yin,,0,0,0,,然后是目标队列和将要加入队列的block\N{\fs12}the queue you want to put the block on and then the block.
Dialogue: 0,0:06:55.05,0:06:57.46,yin,,0,0,0,,block没有参数 无返回值\N{\fs12}And the block takes no arguments and it returns no values,
Dialogue: 0,0:06:57.46,0:07:00.62,yin,,0,0,0,,只是一个block 可以随意加入代码\N{\fs12}it's just a block, and you can put any code you want in there,
Dialogue: 0,0:07:00.82,0:07:03.87,yin,,0,0,0,,block会在队列中找到位置\N{\fs12}and that block will take its place in line on that queue,
Dialogue: 0,0:07:03.87,0:07:06.74,yin,,0,0,0,,队列排到它时 它就会被取出执行\N{\fs12}and when that queue gets around it, it will take it off.
Dialogue: 0,0:07:06.82,0:07:08.38,yin,,0,0,0,,关于主队列 还有一件事\N{\fs12}One thing, by the way, about the main queue,
Dialogue: 0,0:07:08.47,0:07:12.06,yin,,0,0,0,,它只在安静时才会执行队列中的内容\N{\fs12}it never takes anything out of its queue to run until its quiet,
Dialogue: 0,0:07:12.30,0:07:14.45,yin,,0,0,0,,安静指的是当前没有触控事件\N{\fs12}meaning whatever current touch events
Dialogue: 0,0:07:14.51,0:07:15.83,yin,,0,0,0,,正在被处理\N{\fs12}have been processed, okay?
Dialogue: 0,0:07:15.84,0:07:17.69,yin,,0,0,0,,它不会在处理触控事件时\N{\fs12}It's not going to right in the middle of a touch event
Dialogue: 0,0:07:17.76,0:07:18.95,yin,,0,0,0,,从队列中获取某个block\N{\fs12}take something off its queue
Dialogue: 0,0:07:18.95,0:07:19.99,yin,,0,0,0,,然后去执行它\N{\fs12}and go do something, right?
Dialogue: 0,0:07:20.29,0:07:23.41,yin,,0,0,0,,主队列会等到安静一些时\N{\fs12}So the main queue waits till its a little quieter
Dialogue: 0,0:07:23.41,0:07:25.12,yin,,0,0,0,,再从队列中获取操作并执行\N{\fs12}and then it'll take things off the queue and run it,
Dialogue: 0,0:07:25.17,0:07:27.56,yin,,0,0,0,,所以你可以向主队列中增加任意操作\N{\fs12}so you can always post things on the main queue
Dialogue: 0,0:07:27.57,0:07:30.25,yin,,0,0,0,,肯定不会打断用户操作\N{\fs12}and be sure that it's not gonna interrupt the user in anyway.
Dialogue: 0,0:07:31.35,0:07:33.83,yin,,0,0,0,,那么我们如何获取一个队列\N{\fs12}Alright, so how do we get a queue to send this,
Dialogue: 0,0:07:33.83,0:07:35.34,yin,,0,0,0,,来执行这个dispatch_async呢\N{\fs12}to do this dispatch async with?
Dialogue: 0,0:07:35.65,0:07:37.18,yin,,0,0,0,,先来讲讲如何获取主队列\N{\fs12}Well, let's talk about the main queue first
Dialogue: 0,0:07:37.18,0:07:38.56,yin,,0,0,0,,因为要分派操作\N{\fs12}because that's the most important queue
Dialogue: 0,0:07:38.69,0:07:40.19,yin,,0,0,0,,它是最重要的队列\N{\fs12}that we need to dispatch things,
Dialogue: 0,0:07:40.29,0:07:41.21,yin,,0,0,0,,方法是\N{\fs12}and the way you do that
Dialogue: 0,0:07:41.22,0:07:43.97,yin,,0,0,0,,dispatch_get_main_queue\N{\fs12}is dispatch underbar get, underbar main, underbar queue,
Dialogue: 0,0:07:43.97,0:07:45.69,yin,,0,0,0,,这个方法会返回主队列\N{\fs12}that will return the main queue to you
Dialogue: 0,0:07:45.95,0:07:49.36,yin,,0,0,0,,然后可以对它调用带block参数的dispatch_async\N{\fs12}and then you can call dispatch async with a block on that.
Dialogue: 0,0:07:49.56,0:07:52.45,yin,,0,0,0,,在更高的NSOperationQueue层上\N{\fs12}At the higher level, that NSOperationQueue level,
Dialogue: 0,0:07:52.45,0:07:55.28,yin,,0,0,0,,可以使用NSOperationQueue mainQueue 它是个类方法\N{\fs12}you can do NSOperation mainQueue, it's a class method,
Dialogue: 0,0:07:55.34,0:07:57.58,yin,,0,0,0,,会返回NSOperationQueue对象\N{\fs12}it'll return NSOperationQueue object,
Dialogue: 0,0:07:57.58,0:07:58.89,yin,,0,0,0,,代表主队列\N{\fs12}which represents the main queue.
Dialogue: 0,0:07:59.17,0:08:01.08,yin,,0,0,0,,它只是内容很少的面向对象层\N{\fs12}Again, it's just a thin object-oriented layer,
Dialogue: 0,0:08:01.37,0:08:03.72,yin,,0,0,0,,在C层上\N{\fs12}pretty much, on this C layer,
Dialogue: 0,0:08:03.73,0:08:05.97,yin,,0,0,0,,我们会讲到它在API中的使用\N{\fs12}and we'll, we'll see where that comes into the API.
Dialogue: 0,0:08:07.43,0:08:09.06,yin,,0,0,0,,如果想要再创建一个队列呢\N{\fs12}What if you wanted to create another queue.
Dialogue: 0,0:08:09.06,0:08:11.53,yin,,0,0,0,,假设你要执行大型数学运算\N{\fs12}Let's say you're gonna do some big math calculation
Dialogue: 0,0:08:11.53,0:08:13.64,yin,,0,0,0,,或者大型图像处理运算\N{\fs12}or some big image processing calculation
Dialogue: 0,0:08:13.66,0:08:17.01,yin,,0,0,0,,而你不想阻塞主队列 主线程\N{\fs12}you don't want to block the main queue, the main thread,
Dialogue: 0,0:08:17.15,0:08:18.67,yin,,0,0,0,,这时你就可以再创建一个队列\N{\fs12}so you can create another queue.
Dialogue: 0,0:08:18.73,0:08:21.78,yin,,0,0,0,,非常简单 只要用dispatch_queue_create\N{\fs12}Very simple, you just say dispatch underbar queue, underbar create,
Dialogue: 0,0:08:22.14,0:08:25.86,yin,,0,0,0,,这个函数的第一个参数是队列的名称\N{\fs12}and the first argument to that function is the name of the queue
Dialogue: 0,0:08:25.87,0:08:27.80,yin,,0,0,0,,它会出现在调试程序等之中\N{\fs12}and that's like going to show up in the debugger and stuff,
Dialogue: 0,0:08:27.81,0:08:29.26,yin,,0,0,0,,是个内部名称\N{\fs12}so this is kind of an internal name,
Dialogue: 0,0:08:29.51,0:08:31.31,yin,,0,0,0,,注意它不是一个NSString\N{\fs12}notice that's not an NSString,
Dialogue: 0,0:08:31.65,0:08:33.33,yin,,0,0,0,,因为这是底层API\N{\fs12}because this is a low-level API,
Dialogue: 0,0:08:33.39,0:08:35.89,yin,,0,0,0,,这是这门课上\N{\fs12}this is about the only non-NSString string
Dialogue: 0,0:08:35.90,0:08:36.92,yin,,0,0,0,,唯一一处使用非NSString字符串的地方\N{\fs12}you're ever going to see in this class,
Dialogue: 0,0:08:36.93,0:08:38.74,yin,,0,0,0,,因为这是我们用到的最底层\N{\fs12}because this is the lowest level we'll go.
Dialogue: 0,0:08:39.21,0:08:40.76,yin,,0,0,0,,它是个const char\N{\fs12}It's a const char star,
Dialogue: 0,0:08:40.98,0:08:43.28,yin,,0,0,0,,这里我就直接用name了\N{\fs12}and here I'm just using the name name, okay?
Dialogue: 0,0:08:43.30,0:08:45.49,yin,,0,0,0,,命名时要选择好辨认的名字\N{\fs12}You just want to give it a name so you can recognize this queue
Dialogue: 0,0:08:45.49,0:08:47.36,yin,,0,0,0,,方便在调试程序等中认出这个队列\N{\fs12}when you see it in the debugger or something like that.
Dialogue: 0,0:08:47.64,0:08:50.25,yin,,0,0,0,,第二个参数代表它是串行队列\N{\fs12}And then the second argument is whether it's a serial queue
Dialogue: 0,0:08:50.25,0:08:51.96,yin,,0,0,0,,还是并发队列\N{\fs12}or a concurrent queue, right?
Dialogue: 0,0:08:52.19,0:08:54.39,yin,,0,0,0,,NULL代表串行队列\N{\fs12}So, NULL means it's a serial queue,
Dialogue: 0,0:08:54.86,0:08:57.43,yin,,0,0,0,,我们要讲的就是这类队列\N{\fs12}and so, that's the kind of queue we're gonna talk about,
Dialogue: 0,0:08:57.49,0:09:00.24,yin,,0,0,0,,一次从队列中出来一个人\N{\fs12}again, so one person comes out of the line at a time.
Dialogue: 0,0:09:01.16,0:09:03.30,yin,,0,0,0,,对于分派回主队列\N{\fs12}And there's kind of an easy mode
Dialogue: 0,0:09:03.30,0:09:05.36,yin,,0,0,0,,有一个简单模式\N{\fs12}for dispatching back to the main queue,
Dialogue: 0,0:09:05.47,0:09:07.68,yin,,0,0,0,,就是用performSelectorOnMainThread\N{\fs12}which is performSelectorOnMainThread,
Dialogue: 0,0:09:07.69,0:09:09.56,yin,,0,0,0,,它是一个NSObject方法\N{\fs12}it's an NSObject method.
Dialogue: 0,0:09:09.77,0:09:11.15,yin,,0,0,0,,可以将它发给任意NSObject\N{\fs12}You can send it to any NSObject.
Dialogue: 0,0:09:11.38,0:09:14.31,yin,,0,0,0,,只要直接传递一个selector和它的参数\N{\fs12}And you just pass a selector and its argument,
Dialogue: 0,0:09:14.31,0:09:16.47,yin,,0,0,0,,withObject参数 可以为nil\N{\fs12}the withObject argument, it could be nil
Dialogue: 0,0:09:16.47,0:09:18.01,yin,,0,0,0,,代表没有参数 是可以的\N{\fs12}and then it has no arguments, that's fine.
Dialogue: 0,0:09:18.89,0:09:21.23,yin,,0,0,0,,waitUntilDone代表是否要等待\N{\fs12}And the waitUntilDone is whether you're gonna wait
Dialogue: 0,0:09:21.24,0:09:23.29,yin,,0,0,0,,调用它的这个线程执行之后\N{\fs12}until this thing gets pulled off the main queue
Dialogue: 0,0:09:23.30,0:09:25.65,yin,,0,0,0,,再将它从主队列调出\N{\fs12}and run on the main queue and then finishes
Dialogue: 0,0:09:25.66,0:09:29.80,yin,,0,0,0,,并在主队列上运行\N{\fs12}before this thread, that's calling this, goes or not,
Dialogue: 0,0:09:29.82,0:09:32.48,yin,,0,0,0,,waitUntilDone通常设为NO 不需要等待\N{\fs12}usually waitUntilDone you would say no, we don't need to wait,
Dialogue: 0,0:09:32.48,0:09:35.31,yin,,0,0,0,,我们会在主队列上调用这个方法\N{\fs12}we're going to put this, call this method on the main queue,
Dialogue: 0,0:09:35.64,0:09:38.53,yin,,0,0,0,,轮到它执行时就执行\N{\fs12}and whenever it executes is when it executes.
Dialogue: 0,0:09:38.53,0:09:41.12,yin,,0,0,0,,这个performSelectorOnMainThread方法\N{\fs12}So, this performSelectorOnMainThread is just
Dialogue: 0,0:09:41.14,0:09:44.34,yin,,0,0,0,,就相当于对主队列调用dispatch_async\N{\fs12}like saying dispatch async onto the main queue,
Dialogue: 0,0:09:44.61,0:09:46.34,yin,,0,0,0,,一个调用了该方法的block\N{\fs12}a block that just calls that method.
Dialogue: 0,0:09:47.48,0:09:48.87,yin,,0,0,0,,这个方法就是这样\N{\fs12}Okay? That's all it is really,
Dialogue: 0,0:09:49.22,0:09:50.23,yin,,0,0,0,,基本上算是个简易模式\N{\fs12}bascially it's kind of an easy mode,
Dialogue: 0,0:09:50.24,0:09:51.59,yin,,0,0,0,,看起来很好用\N{\fs12}it looks nice, and so, you know,
Dialogue: 0,0:09:51.75,0:09:53.72,yin,,0,0,0,,不用再用dispatch_async方法了\N{\fs12}you don't have to do the dispatch async business,
Dialogue: 0,0:09:54.00,0:09:56.15,yin,,0,0,0,,可以直接调用一个方法\N{\fs12}but you got to be able to have one method to call,
Dialogue: 0,0:09:56.45,0:09:58.54,yin,,0,0,0,,将所有要执行的操作放到一个方法中\N{\fs12}put all the stuff you want to do on one method.
Dialogue: 0,0:10:00.04,0:10:01.73,yin,,0,0,0,,我们看一个使用它的例子\N{\fs12}So let's look at an example that uses this, okay?
Dialogue: 0,0:10:01.77,0:10:04.77,yin,,0,0,0,,通过示例演示 更容易理解\N{\fs12}This is more understandable, probably much more by example.
Dialogue: 0,0:10:04.91,0:10:10.19,yin,,0,0,0,,这个例子是要下载网上某个URL\N{\fs12}So, this example is I want to download the contents of an URL
Dialogue: 0,0:10:10.37,0:10:11.40,yin,,0,0,0,,对应的内容\N{\fs12}from somewhere on the internet.
Dialogue: 0,0:10:11.79,0:10:14.79,yin,,0,0,0,,我有一个URL http://或者其他格式\N{\fs12}So I have a URL, http:// something or other,
Dialogue: 0,0:10:14.98,0:10:16.79,yin,,0,0,0,,我想要将它从网上下载下来\N{\fs12}and I want to download that from the internet.
Dialogue: 0,0:10:16.79,0:10:18.75,yin,,0,0,0,,可能我用的是蜂窝移动网\N{\fs12}Well, I might be on cellular,
Dialogue: 0,0:10:18.77,0:10:21.58,yin,,0,0,0,,甚至目前不在网络范围\N{\fs12}I might even be out of network range right now,
Dialogue: 0,0:10:21.58,0:10:22.98,yin,,0,0,0,,下载会花费很长时间\N{\fs12}that could take a very long time.
Dialogue: 0,0:10:22.98,0:10:24.38,yin,,0,0,0,,可能要几分钟\N{\fs12}It could take minutes, okay,
Dialogue: 0,0:10:24.38,0:10:27.02,yin,,0,0,0,,我当然不希望在等待获取URL内容时\N{\fs12}well clearly I don't want my user interface, for example,
Dialogue: 0,0:10:27.02,0:10:28.90,yin,,0,0,0,,我的用户界面\N{\fs12}to be blocked waiting for the network
Dialogue: 0,0:10:28.96,0:10:30.55,yin,,0,0,0,,被卡主 无法操作\N{\fs12}to give me that URL back. Okay?
Dialogue: 0,0:10:30.57,0:10:34.65,yin,,0,0,0,,所以在调用下载操作时\N{\fs12}So I have to, basically, call this, do this download,
Dialogue: 0,0:10:34.66,0:10:37.14,yin,,0,0,0,,要将网络下载操作放到另一个队列中执行\N{\fs12}network download, in a different queue,
Dialogue: 0,0:10:37.14,0:10:39.48,yin,,0,0,0,,另一个线程 而非主队列\N{\fs12}in a different thread, not the main queue. Okay?
Dialogue: 0,0:10:39.97,0:10:43.44,yin,,0,0,0,,iOS中有一个API可以实现这个操作\N{\fs12}So there's an API in iOS for doing exactly this,
Dialogue: 0,0:10:43.44,0:10:46.25,yin,,0,0,0,,给它一个URL 它就会在另一个线程中执行\N{\fs12}you give it a URL and it will go do it in a different thread.
Dialogue: 0,0:10:46.53,0:10:49.70,yin,,0,0,0,,当它完成时 需要再调用你\N{\fs12}Now, when it's done though, it needs to call you back,
Dialogue: 0,0:10:49.80,0:10:51.72,yin,,0,0,0,,告诉你说 我下好这个URL了\N{\fs12}and tell you hey, I got that URL,
Dialogue: 0,0:10:51.73,0:10:53.26,yin,,0,0,0,,方法很酷\N{\fs12}and the way it does that is kind of cool,
Dialogue: 0,0:10:53.41,0:10:55.92,yin,,0,0,0,,它会将URL内容下载到一个本地文件中\N{\fs12}it downloads the URL to a local file,
Dialogue: 0,0:10:56.12,0:10:57.14,yin,,0,0,0,,然后再调用你\N{\fs12}and then it calls you back
Dialogue: 0,0:10:57.53,0:10:59.44,yin,,0,0,0,,给你一个本地文件的URL\N{\fs12}and gives you a URL to the local file.
Dialogue: 0,0:10:59.60,0:11:00.77,yin,,0,0,0,,这样就变成本地操作了\N{\fs12}So now it's all local,
Dialogue: 0,0:11:00.85,0:11:02.77,yin,,0,0,0,,你可以打开文件做各种操作\N{\fs12}and so now you can open up the file and do all you want
Dialogue: 0,0:11:02.78,0:11:04.07,yin,,0,0,0,,不会阻塞用户界面操作\N{\fs12}and it's not going to be blocking
Dialogue: 0,0:11:04.09,0:11:06.52,yin,,0,0,0,,因为这时不涉及网络因素了\N{\fs12}because you, the network is not a part of it anymore,
Dialogue: 0,0:11:06.52,0:11:08.24,yin,,0,0,0,,已经下载好了URL的内容\N{\fs12}it's download the contents of the URL.
Dialogue: 0,0:11:08.68,0:11:09.93,yin,,0,0,0,,这是它的具体方法\N{\fs12}Okay, so here's how that works.
Dialogue: 0,0:11:10.21,0:11:11.95,yin,,0,0,0,,先创建一个URL请求\N{\fs12}First we create a URL request,
Dialogue: 0,0:11:11.97,0:11:14.21,yin,,0,0,0,,URL请求是URL的封装\N{\fs12}a URL request is just a wrapper on URL,
Dialogue: 0,0:11:14.23,0:11:15.32,yin,,0,0,0,,是这样创建的\N{\fs12}you can see I created there,
Dialogue: 0,0:11:15.34,0:11:19.89,yin,,0,0,0,,requestWithURL:[NSURL urlWithString以及某个URL\N{\fs12}requestWithURL, NSURL, object, urlWithString, some URL.
Dialogue: 0,0:11:19.90,0:11:21.60,yin,,0,0,0,,这就是创建URL请求的方法\N{\fs12}Okay? So that's how we create a URL request.
Dialogue: 0,0:11:21.82,0:11:24.07,yin,,0,0,0,,URL请求比URL功能更多\N{\fs12}A URL request is a little more than URL
Dialogue: 0,0:11:24.09,0:11:26.70,yin,,0,0,0,,你可以为请求指定其他内容\N{\fs12}because you can specify some other things about that request,
Dialogue: 0,0:11:26.70,0:11:27.45,yin,,0,0,0,,其他操作\N{\fs12}things you want to do,
Dialogue: 0,0:11:27.46,0:11:29.34,yin,,0,0,0,,我们通常会直接创建 就像这里一样\N{\fs12}and most of the time we just create it, just like this,
Dialogue: 0,0:11:29.35,0:11:30.68,yin,,0,0,0,,请求没有其他内容了\N{\fs12}and we don't do anything else to the request.
Dialogue: 0,0:11:30.68,0:11:35.91,yin,,0,0,0,,现在我们得到了一个URL请求\N{\fs12}So now we have a request, a URL, a URL request, and,
Dialogue: 0,0:11:35.91,0:11:38.97,yin,,0,0,0,,抱歉 我发不好URL这个音\N{\fs12}I apologize in advance for URL, I have trouble saying that,
Dialogue: 0,0:11:38.97,0:11:41.34,yin,,0,0,0,,后面我要说好多遍\N{\fs12}I'm gonna be saying that 100 times in the next few slides.
Dialogue: 0,0:11:42.19,0:11:43.81,yin,,0,0,0,,然后是Configuration配置部分\N{\fs12}Then we have this configuration thing,
Dialogue: 0,0:11:43.81,0:11:45.22,yin,,0,0,0,,现在不用担心这部分\N{\fs12}don't worry about that for now.
Dialogue: 0,0:11:45.65,0:11:48.74,yin,,0,0,0,,然后创建的是URLSession会话\N{\fs12}And then we have, we create what's called a URLSession.
Dialogue: 0,0:11:49.06,0:11:54.31,yin,,0,0,0,,URLSession是一个对象 用来管理一个会话的时间\N{\fs12}So URLSession is an object that manages a session of time
Dialogue: 0,0:11:54.43,0:11:55.82,yin,,0,0,0,,开始与网络通信\N{\fs12}that goes out and talks to the internet
Dialogue: 0,0:11:55.83,0:11:57.20,yin,,0,0,0,,得到答案等等\N{\fs12}and gets the answer and all this stuff,
Dialogue: 0,0:11:57.21,0:11:59.25,yin,,0,0,0,,session会话就是这里要做的主要内容\N{\fs12}so the session is the main thing that it's doing here
Dialogue: 0,0:11:59.26,0:12:00.93,yin,,0,0,0,,我们会讲讲创建的方法\N{\fs12}and we're going to talk about how we create that,
Dialogue: 0,0:12:00.93,0:12:05.04,yin,,0,0,0,,因为创建NSURLSession的方法\N{\fs12}because how we create the NSURLSession determines where,
Dialogue: 0,0:12:05.17,0:12:09.61,yin,,0,0,0,,决定了代码会在哪个线程队列上执行\N{\fs12}what thread, which queue, our code is gonna be executed on,
Dialogue: 0,0:12:10.01,0:12:12.94,yin,,0,0,0,,现在我们创建了session 我们可以请求它\N{\fs12}and so now we have a session and we can ask the session,
Dialogue: 0,0:12:12.94,0:12:16.53,yin,,0,0,0,,请创建一个任务 下载该URL\N{\fs12}please create us a task which downloads that URL,
Dialogue: 0,0:12:16.88,0:12:19.58,yin,,0,0,0,,非常简单 就用downloadTaskWithRequest方法\N{\fs12}very simple downloadTaskWithRequest,
Dialogue: 0,0:12:19.74,0:12:20.90,yin,,0,0,0,,给它一个URL请求\N{\fs12}you give it the URLRequest,
Dialogue: 0,0:12:21.16,0:12:22.95,yin,,0,0,0,,然后是一个完成处理程序completionHandler\N{\fs12}and then you give it a completionHandler.
Dialogue: 0,0:12:23.15,0:12:25.26,yin,,0,0,0,,理解这个completionHandler很重要\N{\fs12}Now that completion handler very important to understand,
Dialogue: 0,0:12:25.26,0:12:27.49,yin,,0,0,0,,可以看到 它是一个block 对吧\N{\fs12}you can see that it's a block. Right?
Dialogue: 0,0:12:27.82,0:12:29.29,yin,,0,0,0,,block的参数\N{\fs12}The arguments to that block,
Dialogue: 0,0:12:29.39,0:12:31.20,yin,,0,0,0,,第一个参数最重要\N{\fs12}the first argument is the most important argument,
Dialogue: 0,0:12:31.39,0:12:33.87,yin,,0,0,0,,是本地文件URL\N{\fs12}that's the URL of the local file
Dialogue: 0,0:12:33.87,0:12:35.56,yin,,0,0,0,,网络URL的保存地址\N{\fs12}that it put the URL into for you.
Dialogue: 0,0:12:36.14,0:12:38.32,yin,,0,0,0,,它将URL内容从网上下载下来\N{\fs12}So it downloaded this URL off your internet
Dialogue: 0,0:12:38.33,0:12:41.44,yin,,0,0,0,,保存在本地文件中 再返回文件URL\N{\fs12}and it put it in a local file and now it's giving you a file URL,
Dialogue: 0,0:12:41.44,0:12:45.19,yin,,0,0,0,,不是http:// 而是file:文件URL\N{\fs12}not an http// URL, but a file, colon, URL, right?
Dialogue: 0,0:12:45.20,0:12:46.74,yin,,0,0,0,,指向本地文件的URL\N{\fs12}URL that points to a local file.
Dialogue: 0,0:12:47.00,0:12:49.58,yin,,0,0,0,,还有错误和响应参数\N{\fs12}And then the other arguments are about errors and responses,
Dialogue: 0,0:12:49.58,0:12:50.29,yin,,0,0,0,,不用担心\N{\fs12}don't worry about those,
Dialogue: 0,0:12:50.30,0:12:52.77,yin,,0,0,0,,主要就是得到这个本地文件\N{\fs12}the main thing is you got this local file.
Dialogue: 0,0:12:53.01,0:12:55.29,yin,,0,0,0,,然后 在block中\N{\fs12}And then inside this block, okay,
Dialogue: 0,0:12:55.85,0:12:59.19,yin,,0,0,0,,如果要在这里做UI操作呢\N{\fs12}what if you wanted to do UI things here? Okay?
Dialogue: 0,0:12:59.68,0:13:03.61,yin,,0,0,0,,如果这个block是在主队列上被执行的\N{\fs12}Well, if this block is being executed on the main queue,
Dialogue: 0,0:13:03.79,0:13:04.66,yin,,0,0,0,,你就可以这样做\N{\fs12}you're good to go.
Dialogue: 0,0:13:05.14,0:13:06.92,yin,,0,0,0,,但如果是在其他队列上执行的\N{\fs12}But if it's being executed on some other queue,
Dialogue: 0,0:13:06.92,0:13:08.75,yin,,0,0,0,,都不能这样做\N{\fs12}any other queue, you're not good to go,
Dialogue: 0,0:13:08.76,0:13:11.11,yin,,0,0,0,,需要向主队列通信\N{\fs12}you're gonna have to talk back to the main queue.
Dialogue: 0,0:13:11.28,0:13:12.78,yin,,0,0,0,,我们来看一下这两个示例\N{\fs12}So let's look at those two examples.
Dialogue: 0,0:13:13.03,0:13:15.19,yin,,0,0,0,,先看一下session会话的创建方法\N{\fs12}First of all, let's look at creating the session
Dialogue: 0,0:13:15.85,0:13:19.16,yin,,0,0,0,,用这个方法 sessionWithConfiguration\N{\fs12}using this method, sessionWithConfiguration,
Dialogue: 0,0:13:19.16,0:13:20.42,yin,,0,0,0,,这里也不用考虑配置部分\N{\fs12}again, don't worry about configuration,
Dialogue: 0,0:13:20.60,0:13:24.87,yin,,0,0,0,,delegate:nil delegateQueue:某个队列\N{\fs12}delegate, colon, nil, delegateQueue, colon, some queue.
Dialogue: 0,0:13:25.55,0:13:29.60,yin,,0,0,0,,这个NSURLSession有一个委托\N{\fs12}Okay? So this NSURLSession thing, it has a delegate.
Dialogue: 0,0:13:29.60,0:13:32.53,yin,,0,0,0,,还记得委托吗 我们逐渐熟悉了委托\N{\fs12}Remember delegates, we're just getting used to delegates now,
Dialogue: 0,0:13:32.53,0:13:35.87,yin,,0,0,0,,希望大家还记得我们用过的动力动画者委托\N{\fs12}hopefully you are, remember the dynamic animator delegate that we set
Dialogue: 0,0:13:36.01,0:13:38.80,yin,,0,0,0,,它可以告诉我们动画在何时停止\N{\fs12}and it told us when all the animation stopped
Dialogue: 0,0:13:38.81,0:13:40.90,yin,,0,0,0,,然后将方块炸飞\N{\fs12}and then we blew up the blocks? Okay?
Dialogue: 0,0:13:40.93,0:13:44.74,yin,,0,0,0,,我们将动画者的一个委托设为控制器\N{\fs12}So we just set a delegate of the animator to be the controller
Dialogue: 0,0:13:44.77,0:13:46.07,yin,,0,0,0,,控制器实现方法\N{\fs12}and the controller implemented the method.
Dialogue: 0,0:13:46.07,0:13:46.83,yin,,0,0,0,,这里也是一样\N{\fs12}Same thing here.
Dialogue: 0,0:13:46.98,0:13:50.10,yin,,0,0,0,,你可以将自己设为这个URLSession的委托\N{\fs12}You can set yourself as a delegate to this URLSession,
Dialogue: 0,0:13:50.22,0:13:51.89,yin,,0,0,0,,在进行下载时\N{\fs12}and as its doing all its downloading,
Dialogue: 0,0:13:51.98,0:13:54.82,yin,,0,0,0,,它会向你更新状态 我下载了5000字节\N{\fs12}it'll give you updates, oh, I loaded it at 5,000 bytes,
Dialogue: 0,0:13:54.82,0:13:57.87,yin,,0,0,0,,又下载了一些 现在下好了文件\N{\fs12}I just loaded some more bytes, oh, I've got the file now.
Dialogue: 0,0:13:57.87,0:14:00.30,yin,,0,0,0,,我将它保存在了本地磁盘的一个文件中\N{\fs12}Okay, I'm putting it into a file, a local disc,
Dialogue: 0,0:14:00.30,0:14:01.49,yin,,0,0,0,,它会告诉你这些消息\N{\fs12}it'll tell you all these things.
Dialogue: 0,0:14:01.73,0:14:03.13,yin,,0,0,0,,你通常不会在意这些内容\N{\fs12}Usually you don't care about any of that,
Dialogue: 0,0:14:03.14,0:14:04.82,yin,,0,0,0,,只需要它告诉你什么时候完成了\N{\fs12}you just want it to tell you when you're done,
Dialogue: 0,0:14:04.83,0:14:06.52,yin,,0,0,0,,也就是completionHandler的作用\N{\fs12}which is what that completion handler is for.
Dialogue: 0,0:14:06.83,0:14:08.55,yin,,0,0,0,,这里我要将委托delegate设为nil\N{\fs12}So here I'm going to set my delegate to nil.
Dialogue: 0,0:14:08.81,0:14:10.67,yin,,0,0,0,,我不想得到这些杂乱的消息\N{\fs12}I don't even want to hear any of that mess,
Dialogue: 0,0:14:10.67,0:14:12.95,yin,,0,0,0,,我只希望我的完成处理程序\N{\fs12}I just want my completion handler
Dialogue: 0,0:14:13.49,0:14:14.96,yin,,0,0,0,,中间的这个 被调用\N{\fs12}that you see here, called.
Dialogue: 0,0:14:15.56,0:14:18.27,yin,,0,0,0,,而delegateQueue\N{\fs12}But, the delegateQueue, okay,
Dialogue: 0,0:14:18.27,0:14:21.61,yin,,0,0,0,,代表你所有的委托方法\N{\fs12}tells you which queue are all your delegate methods
Dialogue: 0,0:14:21.62,0:14:24.11,yin,,0,0,0,,会在哪个队列上被调用\N{\fs12}going to be called on, okay?
Dialogue: 0,0:14:24.31,0:14:26.60,yin,,0,0,0,,可以指定为主队列 这里就是\N{\fs12}And you can specify the main queue, as we have here,
Dialogue: 0,0:14:26.60,0:14:28.18,yin,,0,0,0,,还可以指定其他队列\N{\fs12}or you can specify some other queue.
Dialogue: 0,0:14:29.15,0:14:31.32,yin,,0,0,0,,这里还可以用nil\N{\fs12}Okay? You can even pass nil here
Dialogue: 0,0:14:31.33,0:14:33.47,yin,,0,0,0,,它会为你随机分配一个队列\N{\fs12}and it'll just make up a queue for you, a random queue.
Dialogue: 0,0:14:34.14,0:14:36.34,yin,,0,0,0,,所以即便这里没有使用委托方法\N{\fs12}So even though we're not doing delegate methods here,
Dialogue: 0,0:14:36.34,0:14:38.05,yin,,0,0,0,,也有完成处理程序\N{\fs12}we are having that completion handler,
Dialogue: 0,0:14:38.05,0:14:39.70,yin,,0,0,0,,它会在委托的那个队列上\N{\fs12}and it calls your completion handler
Dialogue: 0,0:14:39.70,0:14:41.41,yin,,0,0,0,,调用完成处理程序\N{\fs12}on the same queue as the delegates.
Dialogue: 0,0:14:41.49,0:14:43.53,yin,,0,0,0,,所以delegateQueue这行代码\N{\fs12}So that's why that delegateQueue line there
Dialogue: 0,0:14:43.54,0:14:44.34,yin,,0,0,0,,非常重要\N{\fs12}is really important.
Dialogue: 0,0:14:44.61,0:14:47.13,yin,,0,0,0,,这行代码表示调用我的完成处理程序\N{\fs12}What that says is call my completion handler,
Dialogue: 0,0:14:47.18,0:14:48.85,yin,,0,0,0,,如果有委托方法 同样调用\N{\fs12}and all my delegate methods if I had them,
Dialogue: 0,0:14:49.17,0:14:51.61,yin,,0,0,0,,在这个队列上调用我的完成处理程序\N{\fs12}call my completion handler on this queue,
Dialogue: 0,0:14:51.61,0:14:53.45,yin,,0,0,0,,我指定了主队列\N{\fs12}and I've specified the main queue.
Dialogue: 0,0:14:53.81,0:14:55.05,yin,,0,0,0,,代表下面这里\N{\fs12}So that means the code
Dialogue: 0,0:14:55.07,0:14:57.81,yin,,0,0,0,,completionHandler中的代码\N{\fs12}that's inside my completion handler block down there,
Dialogue: 0,0:14:57.89,0:15:00.96,yin,,0,0,0,,黄色部分 写着可以直接做UI操作\N{\fs12}the part in yellow that says yes, can do UI things directly,
Dialogue: 0,0:15:01.23,0:15:02.96,yin,,0,0,0,,这段代码会在主队列上被执行\N{\fs12}that's being executed on the main queue.
Dialogue: 0,0:15:02.96,0:15:05.06,yin,,0,0,0,,它会被放到主队列的待运行队列上\N{\fs12}It gets put in line to run on the main queue,
Dialogue: 0,0:15:05.06,0:15:06.20,yin,,0,0,0,,主队列无操作时\N{\fs12}and when the main queue is quiet,
Dialogue: 0,0:15:06.58,0:15:07.97,yin,,0,0,0,,会抓取这段代码并执行它\N{\fs12}it'll grab it and execute it.
Dialogue: 0,0:15:08.21,0:15:10.33,yin,,0,0,0,,所以我可以在这里做任意UI操作\N{\fs12}So I can do whatever I want UI-wise in here.
Dialogue: 0,0:15:10.33,0:15:11.27,yin,,0,0,0,,因为我在主队列中\N{\fs12}I'm on the main queue.
Dialogue: 0,0:15:11.54,0:15:14.28,yin,,0,0,0,,反过来说 不要在这里做开销大的操作\N{\fs12}Now, conversely, I wouldn't want to do anything expensive here,
Dialogue: 0,0:15:14.28,0:15:16.70,yin,,0,0,0,,比如查看和解析URL\N{\fs12}like, look in the URL and parse it
Dialogue: 0,0:15:16.70,0:15:19.09,yin,,0,0,0,,构建大型数据结构等等\N{\fs12}and build some huge data structure and all this stuff,
Dialogue: 0,0:15:19.09,0:15:21.09,yin,,0,0,0,,有可能会阻塞主队列的操作\N{\fs12}something that might block the main queue, right?
Dialogue: 0,0:15:21.22,0:15:22.72,yin,,0,0,0,,会花费很长时间\N{\fs12}By being, taking a long time.
Dialogue: 0,0:15:23.01,0:15:25.97,yin,,0,0,0,,真的会花费很长时间\N{\fs12}I mean, it would have to really take a long time, but, you know,
Dialogue: 0,0:15:26.19,0:15:27.13,yin,,0,0,0,,你肯定不想在那个block中\N{\fs12}or you certainly wouldn't want
Dialogue: 0,0:15:27.14,0:15:29.89,yin,,0,0,0,,再增加一个网络调用\N{\fs12}to make another network call in that block, okay?
Dialogue: 0,0:15:31.22,0:15:33.14,yin,,0,0,0,,但最重要的是\N{\fs12}But, mostly, most importantly,
Dialogue: 0,0:15:33.15,0:15:35.05,yin,,0,0,0,,可以在这里使用UI调用\N{\fs12}I can make UI calls here, I could update,
Dialogue: 0,0:15:35.05,0:15:38.27,yin,,0,0,0,,如果这是个图片URL 我可以更新UI显示出来\N{\fs12}if this was an image URL, I could update my UI to show the image
Dialogue: 0,0:15:38.27,0:15:39.29,yin,,0,0,0,,或者其他操作\N{\fs12}or whatever I want it to do.
Dialogue: 0,0:15:39.57,0:15:41.89,yin,,0,0,0,,因为我已经指定了它会在主队列上执行\N{\fs12}Because I've specified that it's gonna run in the main queue.
Dialogue: 0,0:15:43.08,0:15:43.73,yin,,0,0,0,,有问题吗\N{\fs12}Okay? Question?
Dialogue: 0,0:15:45.52,0:15:49.71,yin,,0,0,0,,学生提问\N{\fs12}Student:[inaudible]
Dialogue: 0,0:15:49.71,0:15:51.96,yin,,0,0,0,,问题是 队列是否会\N{\fs12}The question is does a queue finish a block
Dialogue: 0,0:15:51.98,0:15:53.76,yin,,0,0,0,,先完成队列中的一个block\N{\fs12}that it takes out of the queue first
Dialogue: 0,0:15:53.77,0:15:55.05,yin,,0,0,0,,然后再抓取下一个\N{\fs12}before it grabs another one?
Dialogue: 0,0:15:55.30,0:15:56.85,yin,,0,0,0,,是的 串行队列是这样的\N{\fs12}Yes. If it's a serial queue,
Dialogue: 0,0:15:56.86,0:15:58.38,yin,,0,0,0,,我们讲的就是这种队列\N{\fs12}which is the kind of queues we're talking about.
Dialogue: 0,0:15:58.71,0:16:00.92,yin,,0,0,0,,会连续地按照顺序执行\N{\fs12}Yes. It, it does them in order, serially.
Dialogue: 0,0:16:02.69,0:16:05.30,yin,,0,0,0,,我们来看另一个例子\N{\fs12}Okay. So now let's look at a different case.
Dialogue: 0,0:16:05.45,0:16:07.45,yin,,0,0,0,,如果创建NSURLSession时\N{\fs12}What if we created NSURLSession
Dialogue: 0,0:16:07.65,0:16:09.58,yin,,0,0,0,,不指定委托队列delegateQueue呢\N{\fs12}that does not specify the delegateQueue?
Dialogue: 0,0:16:09.69,0:16:12.63,yin,,0,0,0,,直接用NSURLSession sessionWithConfiguration\N{\fs12}So I just use NSURLSession, sessionWithConfiguration,
Dialogue: 0,0:16:12.91,0:16:15.22,yin,,0,0,0,,没有delegat或delegateQueue参数\N{\fs12}no delegate, or delegateQueue argument there.
Dialogue: 0,0:16:15.63,0:16:17.82,yin,,0,0,0,,这个例子不用主队列\N{\fs12}This case does not use the main queue,
Dialogue: 0,0:16:17.82,0:16:18.95,yin,,0,0,0,,而是另外一个队列\N{\fs12}it uses a different queue.
Dialogue: 0,0:16:19.37,0:16:20.58,yin,,0,0,0,,没有委托\N{\fs12}Okay? There's no delegate,
Dialogue: 0,0:16:20.80,0:16:25.58,yin,,0,0,0,,所以也不用指定委托方法\N{\fs12}so, there's no need to have the delegate method specified.
Dialogue: 0,0:16:25.78,0:16:28.88,yin,,0,0,0,,但回调函数 这个completionHandler\N{\fs12}But, the callback, okay, this completion handler
Dialogue: 0,0:16:29.03,0:16:32.15,yin,,0,0,0,,会在另一个队列上执行 而不是主队列\N{\fs12}gets executed on a different queue, not on the main queue.
Dialogue: 0,0:16:32.53,0:16:34.03,yin,,0,0,0,,因为我没有指定主队列\N{\fs12}Okay? Because I haven't specified the main queue
Dialogue: 0,0:16:34.03,0:16:35.54,yin,,0,0,0,,为其所在执行队列\N{\fs12}as the queue I want it to execute on.
Dialogue: 0,0:16:36.07,0:16:38.55,yin,,0,0,0,,所以在这个例子中 如果我要做UI操作\N{\fs12}So in this case, if I want to do UI stuff,
Dialogue: 0,0:16:39.06,0:16:42.82,yin,,0,0,0,,需要再增加一个block\N{\fs12}I have to make another block of stuff
Dialogue: 0,0:16:42.97,0:16:45.03,yin,,0,0,0,,将其放到主队列上\N{\fs12}and put it onto the main queue.
Dialogue: 0,0:16:45.70,0:16:47.87,yin,,0,0,0,,我可以用dispatch_async\N{\fs12}And I can do that either with dispatch async,
Dialogue: 0,0:16:47.94,0:16:50.43,yin,,0,0,0,,dispatch_get_main_queue 加一个block\N{\fs12}dispatch_get_main_queue, a block,
Dialogue: 0,0:16:50.55,0:16:52.60,yin,,0,0,0,,里面是要做的UI操作\N{\fs12}with this stuff, UI stuff I want to do,
Dialogue: 0,0:16:52.79,0:16:55.43,yin,,0,0,0,,或者用self performSelectorOnMainThread\N{\fs12}or I could do self performSelectorOnMainThread
Dialogue: 0,0:16:55.59,0:16:57.67,yin,,0,0,0,,加上主队列上的方法\N{\fs12}with some method on the main queue,
Dialogue: 0,0:16:57.97,0:17:00.18,yin,,0,0,0,,或者是要执行的方法\N{\fs12}or method that I want to execute,
Dialogue: 0,0:17:00.18,0:17:01.72,yin,,0,0,0,,它就会在主队列上被调用\N{\fs12}and it'll be called on the main queue.
Dialogue: 0,0:17:02.56,0:17:05.42,yin,,0,0,0,,知道为什么这里我要这样做吗\N{\fs12}Okay? So do you see why I had to do that in this case?
Dialogue: 0,0:17:05.73,0:17:07.23,yin,,0,0,0,,因为这个completionHandler\N{\fs12}Because this completionHandler
Dialogue: 0,0:17:07.34,0:17:08.69,yin,,0,0,0,,不是在主队列上被调用的\N{\fs12}is not being called on the main queue,
Dialogue: 0,0:17:08.70,0:17:10.06,yin,,0,0,0,,是在另外一个队列上\N{\fs12}it's being called on a different queue.
Dialogue: 0,0:17:10.40,0:17:12.78,yin,,0,0,0,,这就是iOS中要理解的一点\N{\fs12}So this is what, what you need to understand in iOS is,
Dialogue: 0,0:17:13.03,0:17:16.62,yin,,0,0,0,,将block传递给某个方法时\N{\fs12}when I have a block that's passed to some method,
Dialogue: 0,0:17:16.88,0:17:18.70,yin,,0,0,0,,要知道它会在哪个队列上被调用\N{\fs12}what queue is it going to be called on.
Dialogue: 0,0:17:18.90,0:17:21.44,yin,,0,0,0,,大多数情况下 向iOS方法传递block时\N{\fs12}Now most time when you pass a block to an iOS method,
Dialogue: 0,0:17:21.50,0:17:23.50,yin,,0,0,0,,会在调用该方法的那个队列上\N{\fs12}it's going to call it on the same queue
Dialogue: 0,0:17:23.65,0:17:24.96,yin,,0,0,0,,调用这个block\N{\fs12}that you called that method on.
Dialogue: 0,0:17:25.15,0:17:27.19,yin,,0,0,0,,调用任意方法 给它一个block\N{\fs12}Whatever method you called and you handed it a block,
Dialogue: 0,0:17:27.44,0:17:29.34,yin,,0,0,0,,大多数情况下 会在同一个队列上进行回调\N{\fs12}it'll call you back on the same queue, most of the time.
Dialogue: 0,0:17:29.82,0:17:32.60,yin,,0,0,0,,但如果是像这里的这个方法一样\N{\fs12}But if the method, like this one,
Dialogue: 0,0:17:32.61,0:17:34.74,yin,,0,0,0,,在执行过程中 在其他队列上做了操作\N{\fs12}goes off and does something in another queue,
Dialogue: 0,0:17:34.84,0:17:37.02,yin,,0,0,0,,就可能会在另一个队列上进行回调\N{\fs12}then it's probably gonna call you back in some other queue,
Dialogue: 0,0:17:37.03,0:17:39.54,yin,,0,0,0,,除非你为其指定了主队列\N{\fs12}unless you specify the main queue, okay?
Dialogue: 0,0:17:40.07,0:17:40.51,yin,,0,0,0,,有问题吗\N{\fs12}Question?
Dialogue: 0,0:17:41.35,0:17:43.93,yin,,0,0,0,,[学生提问]\N{\fs12}[Student: inaudible]
Dialogue: 0,0:17:44.39,0:17:46.91,yin,,0,0,0,,dispatch_async调用是线程安全的吗\N{\fs12}Is the call dispatch async thread safe?
Dialogue: 0,0:17:46.91,0:17:48.30,yin,,0,0,0,,是的\N{\fs12}And the answer is yes it is.
Dialogue: 0,0:17:48.38,0:17:50.85,yin,,0,0,0,,实际上 你可以将其用于线程同步\N{\fs12}And so you can use it for thread synchronization, actually,
Dialogue: 0,0:17:50.95,0:17:52.14,yin,,0,0,0,,因为它是线程安全的\N{\fs12}because it is thread safe.
Dialogue: 0,0:17:52.14,0:17:54.89,yin,,0,0,0,,它是原子调用 是原子的\N{\fs12}It's an atomic call, okay, it happens atomically.
Dialogue: 0,0:17:54.90,0:17:55.93,yin,,0,0,0,,其他操作出现时\N{\fs12}It can't be interrupted
Dialogue: 0,0:17:56.27,0:17:58.00,yin,,0,0,0,,它不会被中断\N{\fs12}by something else coming in and doing it.
Dialogue: 0,0:17:58.16,0:17:59.43,yin,,0,0,0,,这是个好问题\N{\fs12}So, that's a good question.
Dialogue: 0,0:18:00.51,0:18:03.62,yin,,0,0,0,,大家注意到这个task resume了吗\N{\fs12}Notice all, the small thing, you notice I have task resume,
Dialogue: 0,0:18:03.62,0:18:04.68,yin,,0,0,0,,看到这个恢复任务了吗\N{\fs12}you see that task resume?
Dialogue: 0,0:18:04.90,0:18:07.30,yin,,0,0,0,,如果用它创建了一个下载任务\N{\fs12}When you create a download task using this,
Dialogue: 0,0:18:07.47,0:18:10.78,yin,,0,0,0,,开始时会被挂起 也就是暂停下载\N{\fs12}it starts out suspended, in other words, not downloaded.
Dialogue: 0,0:18:11.23,0:18:14.20,yin,,0,0,0,,所以你需要立刻重新开始下载\N{\fs12}So you have to immediately resume it to start it, okay?
Dialogue: 0,0:18:14.20,0:18:16.04,yin,,0,0,0,,重新开始操作\N{\fs12}Now that resume is going to start something
Dialogue: 0,0:18:16.06,0:18:18.18,yin,,0,0,0,,会在另一个线程执行 而非主队列\N{\fs12}happening in a different thread, not on a main thread,
Dialogue: 0,0:18:18.46,0:18:20.11,yin,,0,0,0,,但也要恢复任务\N{\fs12}but still, task resume,
Dialogue: 0,0:18:20.12,0:18:22.55,yin,,0,0,0,,不要忘了task resume\N{\fs12}don't forget the task resume, okay?
Dialogue: 0,0:18:23.40,0:18:24.66,yin,,0,0,0,,这就是多线程的内容\N{\fs12}Okay, that's it for multithreading.
Dialogue: 0,0:18:24.69,0:18:25.93,yin,,0,0,0,,我会在示例中演示\N{\fs12}I'm going to do it in the demo,
Dialogue: 0,0:18:26.09,0:18:27.44,yin,,0,0,0,,大家还会再看一遍\N{\fs12}so you'll get another look at it.
Dialogue: 0,0:18:27.81,0:18:29.06,yin,,0,0,0,,大家要在作业中实现这部分\N{\fs12}You'll be doing it in your homework
Dialogue: 0,0:18:29.06,0:18:30.15,yin,,0,0,0,,所以你们会熟悉它的\N{\fs12}so you'll get a feel for it.
Dialogue: 0,0:18:30.42,0:18:32.02,yin,,0,0,0,,主要就是要理解这个思路\N{\fs12}The idea here is to get this idea,
Dialogue: 0,0:18:32.03,0:18:33.43,yin,,0,0,0,,主队列和其他队列\N{\fs12}this main queue and these other queues,
Dialogue: 0,0:18:33.44,0:18:35.73,yin,,0,0,0,,在其他队列中做任何操作时\N{\fs12}and that I have to post back to the main queue
Dialogue: 0,0:18:35.74,0:18:37.52,yin,,0,0,0,,都要向主队列回传消息\N{\fs12}anytime I'm doing something on another queue.
Dialogue: 0,0:18:38.79,0:18:40.37,yin,,0,0,0,,然后是UIScrollView滚动视图\N{\fs12}Okay. UIScrollView.
Dialogue: 0,0:18:40.37,0:18:42.56,yin,,0,0,0,,UIScrollView是一个很重要的视图\N{\fs12}So UIScrollView is a really important view.
Dialogue: 0,0:18:42.98,0:18:45.02,yin,,0,0,0,,iPhone屏幕很小\N{\fs12}You know, the iPhone screen,
Dialogue: 0,0:18:45.04,0:18:46.89,yin,,0,0,0,,任何能装进口袋的设备\N{\fs12}anything that's going to fit in your pocket
Dialogue: 0,0:18:46.90,0:18:48.02,yin,,0,0,0,,屏幕都很小\N{\fs12}is going to have a small screen,
Dialogue: 0,0:18:48.23,0:18:49.27,yin,,0,0,0,,但你可能想用它\N{\fs12}but you might want to have it
Dialogue: 0,0:18:49.28,0:18:51.69,yin,,0,0,0,,看很多信息\N{\fs12}looking at a lot of information, okay?
Dialogue: 0,0:18:51.88,0:18:53.32,yin,,0,0,0,,希望能够轻松导航至所需位置\N{\fs12}And you want to easily navigate through that.
Dialogue: 0,0:18:53.32,0:18:54.73,yin,,0,0,0,,这里有一小段视频\N{\fs12}Now I have this little video here,
Dialogue: 0,0:18:54.74,0:18:56.77,yin,,0,0,0,,好像是iOS4的\N{\fs12}this is like from iOS 4, or something,
Dialogue: 0,0:18:56.78,0:18:57.80,yin,,0,0,0,,所以这里...\N{\fs12}that's why I left it with the...
Dialogue: 0,0:18:58.16,0:19:00.89,yin,,0,0,0,,所以用的是旧款iPhone的背景\N{\fs12}or it has the old background, the old kind of phone,
Dialogue: 0,0:19:01.15,0:19:03.45,yin,,0,0,0,,但它能很好地展示滚动视图的作用\N{\fs12}but it's really good at showing what scroll view can do,
Dialogue: 0,0:19:03.45,0:19:06.95,yin,,0,0,0,,滚动视图中可以添加任意视图\N{\fs12}because you can put any kind of view in a scroll view,
Dialogue: 0,0:19:06.95,0:19:08.47,yin,,0,0,0,,包括另一个滚动视图\N{\fs12}including another scroll view.
Dialogue: 0,0:19:09.17,0:19:10.65,yin,,0,0,0,,可以看到这里的滚动视图\N{\fs12}So you can see that I've got a scroll view
Dialogue: 0,0:19:10.66,0:19:11.94,yin,,0,0,0,,是水平滚动的\N{\fs12}that's scrolling horizontally,
Dialogue: 0,0:19:11.96,0:19:14.05,yin,,0,0,0,,而其中内容是垂直滚动的\N{\fs12}and the things in it are scrolling vertically.
Dialogue: 0,0:19:14.48,0:19:15.97,yin,,0,0,0,,这是一个股票应用\N{\fs12}Okay? Or here's a stock app
Dialogue: 0,0:19:16.14,0:19:17.63,yin,,0,0,0,,多个滚动视图\N{\fs12}where I'm going scrolling horizontally
Dialogue: 0,0:19:17.88,0:19:19.69,yin,,0,0,0,,可以水平滚动\N{\fs12}through other scroll views
Dialogue: 0,0:19:19.76,0:19:21.69,yin,,0,0,0,,而每个视图内部可以垂直滚动\N{\fs12}that can scroll vertically inside of them.
Dialogue: 0,0:19:22.17,0:19:22.71,yin,,0,0,0,,看到了吗\N{\fs12}You see that?
Dialogue: 0,0:19:23.00,0:19:24.91,yin,,0,0,0,,所以这里可以显示出很多信息\N{\fs12}So I can present a lot of information here,
Dialogue: 0,0:19:24.91,0:19:26.42,yin,,0,0,0,,不只有股票报价\N{\fs12}not just the stock ticker value,
Dialogue: 0,0:19:26.55,0:19:29.40,yin,,0,0,0,,还有某只股票的新闻 图表等等\N{\fs12}but news about a stock, charts, etc.,
Dialogue: 0,0:19:29.51,0:19:31.42,yin,,0,0,0,,通过滚动可以轻松获取\N{\fs12}and I can just easily get at them by scrolling through.
Dialogue: 0,0:19:31.42,0:19:34.48,yin,,0,0,0,,滚动视图是一个非常强大的设计视图\N{\fs12}So scroll view is a really powerfully designed view
Dialogue: 0,0:19:34.49,0:19:37.71,yin,,0,0,0,,可以在滚动区域放几乎任何对象\N{\fs12}that lets you put almost anything in the area it scrolls,
Dialogue: 0,0:19:37.85,0:19:39.14,yin,,0,0,0,,包括其他滚动视图\N{\fs12}including other scroll views.
Dialogue: 0,0:19:39.78,0:19:43.07,yin,,0,0,0,,我们来看一下滚动视图的用法\N{\fs12}Okay? So, let's look at how scroll view works.
Dialogue: 0,0:19:43.74,0:19:47.70,yin,,0,0,0,,可以为滚动视图添加子视图\N{\fs12}Scroll view is really just a view that you add subviews to,
Dialogue: 0,0:19:47.70,0:19:49.31,yin,,0,0,0,,但它会特别处理这些子视图\N{\fs12}but it treats those subviews specially,
Dialogue: 0,0:19:49.31,0:19:51.36,yin,,0,0,0,,因为它允许你对其进行滚动和缩放\N{\fs12}because it lets you scroll around them and zoom in on them.
Dialogue: 0,0:19:51.48,0:19:54.96,yin,,0,0,0,,大家知道如何向普通UIView添加子视图吧\N{\fs12}So you know how to add a subview to a normal UIView, right?
Dialogue: 0,0:19:54.96,0:19:57.58,yin,,0,0,0,,只要设好子视图的frame 调用addSubview\N{\fs12}You just set the frame to subview, you call addSubview,
Dialogue: 0,0:19:57.58,0:20:00.32,yin,,0,0,0,,它就会显示在视图中了 很简单\N{\fs12}bloop, it appears in the view, easy.
Dialogue: 0,0:20:00.54,0:20:04.83,yin,,0,0,0,,即使你对一个很大的视图使用addSubview\N{\fs12}Even if you have a huge view and you say addSubview,
Dialogue: 0,0:20:05.24,0:20:07.42,yin,,0,0,0,,它会添加这个子视图\N{\fs12}somewhere down there, oop, it gets added,
Dialogue: 0,0:20:07.43,0:20:08.87,yin,,0,0,0,,但是当然了 你没有办法看到整个视图\N{\fs12}but, of course, you can't see the whole view.
Dialogue: 0,0:20:08.87,0:20:11.73,yin,,0,0,0,,你可以缩小它\N{\fs12}Now you could shrink the view way down small,
Dialogue: 0,0:20:11.74,0:20:13.59,yin,,0,0,0,,但那样就会像这幅斯坦福的图片一样\N{\fs12}but then, like this Stanford picture,
Dialogue: 0,0:20:13.59,0:20:15.60,yin,,0,0,0,,几乎什么都看不清楚\N{\fs12}you'd hardly even be able to see anything. Okay?
Dialogue: 0,0:20:15.84,0:20:16.59,yin,,0,0,0,,所以这里我们真正想要做的是\N{\fs12}So really what we want to do
Dialogue: 0,0:20:16.60,0:20:18.59,yin,,0,0,0,,滚动查看它们\N{\fs12}is be able to scroll around on these things.
Dialogue: 0,0:20:18.59,0:20:22.14,yin,,0,0,0,,如何向UIScrollView添加子视图呢\N{\fs12}So, how does this work adding subviews to UIScrollView?
Dialogue: 0,0:20:22.39,0:20:24.28,yin,,0,0,0,,有一点很重要\N{\fs12}Well, there's one really important thing,
Dialogue: 0,0:20:24.28,0:20:26.86,yin,,0,0,0,,这是UIScrollview的要点\N{\fs12}this is the take-home point on UIScrollview.
Dialogue: 0,0:20:28.03,0:20:29.68,yin,,0,0,0,,要设置它的contentSize\N{\fs12}You got to set its contentSize.
Dialogue: 0,0:20:30.06,0:20:32.49,yin,,0,0,0,,它有一个属性叫做contentSize\N{\fs12}So it has a property, called contentSize,
Dialogue: 0,0:20:32.61,0:20:35.47,yin,,0,0,0,,尺寸很大\N{\fs12}which is just a big size, and it makes the area
Dialogue: 0,0:20:35.55,0:20:37.43,yin,,0,0,0,,它代表滚动视图要滚动的区域\N{\fs12}that the scroll view is going to scroll around on.
Dialogue: 0,0:20:37.85,0:20:42.23,yin,,0,0,0,,我设置了一个很大的contentSize 3000*2000\N{\fs12}Okay? This, I made a big contentSize here, 3,000 by 2,000.
Dialogue: 0,0:20:42.53,0:20:47.49,yin,,0,0,0,,现在再向滚动视图添加子视图时\N{\fs12}Then, now when you add subview to the scroll view,
Dialogue: 0,0:20:47.89,0:20:50.24,yin,,0,0,0,,它会将它放入其内容区域中\N{\fs12}it puts it in its content area, essentially.
Dialogue: 0,0:20:50.43,0:20:53.58,yin,,0,0,0,,这里我添加了subview1 是斯坦福的标志\N{\fs12}So here I put this subview1, which is the Stanford logo,
Dialogue: 0,0:20:53.68,0:20:56.62,yin,,0,0,0,,向右2700 向下100 看到了吗\N{\fs12}2,700 across, 100 hundred down, you see that?
Dialogue: 0,0:20:57.03,0:20:59.69,yin,,0,0,0,,再将那个大的子视图放进去\N{\fs12}And then let's put that big one in there, somewhere.
Dialogue: 0,0:21:00.12,0:21:03.65,yin,,0,0,0,,放到50,100的位置上\N{\fs12}Okay, I put it 50 by 100 in there.
Dialogue: 0,0:21:04.19,0:21:05.49,yin,,0,0,0,,这时滚动视图要做的是\N{\fs12}And now what the scroll view is going to do
Dialogue: 0,0:21:05.50,0:21:09.06,yin,,0,0,0,,为内容区域提供一个窗口\N{\fs12}is really kind of provide a window on that content area.
Dialogue: 0,0:21:09.48,0:21:12.55,yin,,0,0,0,,随着用户用手指来回滚动\N{\fs12}So as the user scrolls around, with their finger,
Dialogue: 0,0:21:12.90,0:21:15.05,yin,,0,0,0,,它就会随着移动\N{\fs12}it's essentially going to move around
Dialogue: 0,0:21:15.18,0:21:18.35,yin,,0,0,0,,显示出内容区域的内容\N{\fs12}showing you what's in that content area, alright?
Dialogue: 0,0:21:19.15,0:21:19.69,yin,,0,0,0,,明白吗\N{\fs12}Does that make sense?
Dialogue: 0,0:21:19.69,0:21:21.57,yin,,0,0,0,,滚动视图就是这样的\N{\fs12}So that's all scrolling is, really,
Dialogue: 0,0:21:21.87,0:21:23.61,yin,,0,0,0,,对它进行拖动时就是这样的\N{\fs12}when it comes to the panning part of it.
Dialogue: 0,0:21:24.81,0:21:26.97,yin,,0,0,0,,这些视图的位置可以随意更改\N{\fs12}And you can position these views anywhere you want,
Dialogue: 0,0:21:26.97,0:21:29.06,yin,,0,0,0,,所以如果我将斯坦福标志移到这里\N{\fs12}so if I move this Stanford logo here
Dialogue: 0,0:21:29.22,0:21:32.13,yin,,0,0,0,,将大的子视图移到左上角\N{\fs12}and then I move that huge thing to the upper corner,
Dialogue: 0,0:21:32.23,0:21:34.84,yin,,0,0,0,,将contentSize缩小一点\N{\fs12}maybe I change my contentSize to be smaller,
Dialogue: 0,0:21:35.17,0:21:36.86,yin,,0,0,0,,包含两个子视图\N{\fs12}to include the views, okay,
Dialogue: 0,0:21:37.07,0:21:39.09,yin,,0,0,0,,现在依旧可以来回滚动\N{\fs12}now, again, I can scroll around,
Dialogue: 0,0:21:40.26,0:21:42.93,yin,,0,0,0,,可以看到各部分 这里是斯坦福标志\N{\fs12}and you can see various parts, there's that Stanford logo,
Dialogue: 0,0:21:42.94,0:21:44.80,yin,,0,0,0,,它与下面的视图重叠了\N{\fs12}it's kind of overlapping the, the view here,
Dialogue: 0,0:21:44.80,0:21:48.29,yin,,0,0,0,,因为这两个视图与内容区域重叠了\N{\fs12}because those two views overlapping the content area, etc.
Dialogue: 0,0:21:48.30,0:21:49.33,yin,,0,0,0,,就是这么简单\N{\fs12}So it's as simple as that.
Dialogue: 0,0:21:49.36,0:21:51.07,yin,,0,0,0,,只要设置好contentSize\N{\fs12}It's all about that contentSize thing.
Dialogue: 0,0:21:51.60,0:21:54.06,yin,,0,0,0,,作为程序员 你可能想要知道\N{\fs12}Now, as a programmer, you might want to know
Dialogue: 0,0:21:54.06,0:21:56.84,yin,,0,0,0,,用户当前所视位置\N{\fs12}where is the current, the user currently looking,
Dialogue: 0,0:21:56.98,0:21:58.65,yin,,0,0,0,,是内容区域的哪部分\N{\fs12}okay, in my content area.
Dialogue: 0,0:21:58.96,0:22:01.98,yin,,0,0,0,,可以通过滚动视图的一个属性得到\N{\fs12}And the way to get that is the scroll view property
Dialogue: 0,0:22:01.98,0:22:03.11,yin,,0,0,0,,contentOffset\N{\fs12}contentOffset.
Dialogue: 0,0:22:03.65,0:22:06.48,yin,,0,0,0,,它可以告诉你当前显示区域\N{\fs12}It tells you the X and Y of the upper left corner
Dialogue: 0,0:22:06.79,0:22:08.61,yin,,0,0,0,,左上角的X和Y的坐标\N{\fs12}of the area that's being viewed.
Dialogue: 0,0:22:09.46,0:22:11.20,yin,,0,0,0,,这是很重要的一部分\N{\fs12}Okay? So that's an important part of it.
Dialogue: 0,0:22:11.43,0:22:12.76,yin,,0,0,0,,另外一项你要知道的内容是\N{\fs12}The other thing you want to know is
Dialogue: 0,0:22:12.87,0:22:16.11,yin,,0,0,0,,用户所示区域的边界bounds\N{\fs12}what's the bounds of the area the user is looking at,
Dialogue: 0,0:22:16.27,0:22:17.44,yin,,0,0,0,,这部分有点...\N{\fs12}and somewhat,
Dialogue: 0,0:22:18.52,0:22:20.22,yin,,0,0,0,,有些人在理解这部分时遇到了困难\N{\fs12}some people had a little trouble understanding this,
Dialogue: 0,0:22:20.22,0:22:20.95,yin,,0,0,0,,但其实很简单\N{\fs12}but it's very simple,
Dialogue: 0,0:22:21.11,0:22:23.72,yin,,0,0,0,,就是滚动视图的边界\N{\fs12}that bounds is actually just the scroll views bounds.
Dialogue: 0,0:22:23.88,0:22:25.26,yin,,0,0,0,,滚动视图是个视图\N{\fs12}Okay? The scroll view is a view,
Dialogue: 0,0:22:25.41,0:22:27.57,yin,,0,0,0,,它有边界 self.bounds\N{\fs12}it has bounds, self dot bounds,
Dialogue: 0,0:22:27.78,0:22:30.97,yin,,0,0,0,,它的边界就是用户所视区域的范围\N{\fs12}and that bounds is the area that's being looked at.
Dialogue: 0,0:22:31.15,0:22:35.12,yin,,0,0,0,,这个边界是在内容区域的坐标系中的\N{\fs12}Now that bounds is in the content areas coordinate system,
Dialogue: 0,0:22:35.57,0:22:37.91,yin,,0,0,0,,你可能不想要它 你想要知道的是\N{\fs12}okay, and you may not want that, you might want to know
Dialogue: 0,0:22:38.08,0:22:41.47,yin,,0,0,0,,图像中哪部分是当前显示出来的\N{\fs12}in that image what is being looked at.
Dialogue: 0,0:22:41.80,0:22:44.58,yin,,0,0,0,,要实现它 只要转换坐标\N{\fs12}And to do that, you simply convert those coordinates
Dialogue: 0,0:22:44.59,0:22:47.64,yin,,0,0,0,,用这个视图方法convertRect toView\N{\fs12}using this view method, convertRect toView.
Dialogue: 0,0:22:48.22,0:22:51.17,yin,,0,0,0,,得到滚动视图的边界 使用convertRect toView\N{\fs12}So you take those scroll view bounds, you convertRect toView,
Dialogue: 0,0:22:51.32,0:22:52.39,yin,,0,0,0,,后面是其子视图\N{\fs12}whatever subview in there,
Dialogue: 0,0:22:52.39,0:22:54.46,yin,,0,0,0,,比如当前显示\N{\fs12}like the UIImageView that's displaying,
Dialogue: 0,0:22:54.50,0:22:57.29,yin,,0,0,0,,斯坦福图片的这个UIImageView\N{\fs12}displaying that Stanford picture,
Dialogue: 0,0:22:57.30,0:22:59.37,yin,,0,0,0,,这样你就可以知道\N{\fs12}and you can find out where...
Dialogue: 0,0:22:59.38,0:23:01.02,yin,,0,0,0,,在视图坐标系中的范围\N{\fs12}what it is in that view's coordinate system.
Dialogue: 0,0:23:01.02,0:23:02.57,yin,,0,0,0,,为什么会不一样呢\N{\fs12}Now why would those be different?
Dialogue: 0,0:23:02.87,0:23:04.76,yin,,0,0,0,,这里的斯坦福图片\N{\fs12}Well, okay, that Stanford thing happens to be
Dialogue: 0,0:23:04.76,0:23:06.64,yin,,0,0,0,,正好在左上角(0,0)的位置\N{\fs12}up in the upper left corner at 0, 0,
Dialogue: 0,0:23:06.64,0:23:07.97,yin,,0,0,0,,所以看起来是一样的\N{\fs12}so it looks like it would be the same,
Dialogue: 0,0:23:07.98,0:23:10.82,yin,,0,0,0,,如果不是在(0,0)的位置 就要区别了\N{\fs12}but if that were not at 0, 0, then that would matter.
Dialogue: 0,0:23:10.94,0:23:12.11,yin,,0,0,0,,而且它还可以被缩放\N{\fs12}Also it could be zoomed.
Dialogue: 0,0:23:12.61,0:23:13.91,yin,,0,0,0,,我们稍后会讲缩放部分\N{\fs12}We'll talk about zooming in a second,
Dialogue: 0,0:23:13.92,0:23:15.50,yin,,0,0,0,,因为滚动视图也可以被放大\N{\fs12}because scroll views can also zoom in,
Dialogue: 0,0:23:15.66,0:23:17.79,yin,,0,0,0,,假设你把它放大了\N{\fs12}and so if you imagined if you were zoomed way in,
Dialogue: 0,0:23:17.80,0:23:19.69,yin,,0,0,0,,放大显示一扇窗户\N{\fs12}looking in a window there,
Dialogue: 0,0:23:19.98,0:23:23.95,yin,,0,0,0,,斯坦福图片视图中的矩形区域\N{\fs12}that the rectangle inside the Stanford view's view
Dialogue: 0,0:23:23.96,0:23:26.40,yin,,0,0,0,,会是一个很小的矩形\N{\fs12}would be a very small rectangle, right,
Dialogue: 0,0:23:26.41,0:23:28.96,yin,,0,0,0,,而在滚动视图中会包含很大范围\N{\fs12}where as in scroll view it's containing huge amounts.
Dialogue: 0,0:23:28.96,0:23:31.28,yin,,0,0,0,,所以这二者\N{\fs12}So that's why it makes a difference
Dialogue: 0,0:23:31.28,0:23:32.40,yin,,0,0,0,,是有区别的\N{\fs12}what those two things are.
Dialogue: 0,0:23:33.43,0:23:38.10,yin,,0,0,0,,我们来讲一下如何创建滚动视图\N{\fs12}Okay? So let's talk about how you create a scroll view.
Dialogue: 0,0:23:38.39,0:23:39.30,yin,,0,0,0,,非常简单\N{\fs12}Very easy.
Dialogue: 0,0:23:39.40,0:23:41.14,yin,,0,0,0,,直接从storyboard中拖出就可以了\N{\fs12}You just drag it out from your storyboard.
Dialogue: 0,0:23:41.57,0:23:43.59,yin,,0,0,0,,这是创建滚动视图的首选方法\N{\fs12}Okay? That's the number one way to create scroll view,
Dialogue: 0,0:23:43.61,0:23:45.26,yin,,0,0,0,,还可以用alloc initWithFrame\N{\fs12}you can also do alloc initWithFrame,
Dialogue: 0,0:23:45.27,0:23:46.71,yin,,0,0,0,,它也只是个视图 和其他视图一样\N{\fs12}it's just a view like any other view,
Dialogue: 0,0:23:46.72,0:23:48.09,yin,,0,0,0,,但通常会直接拖出来\N{\fs12}but usually you drag it out.
Dialogue: 0,0:23:48.36,0:23:51.83,yin,,0,0,0,,如果storyboard中有一个视图\N{\fs12}It is possible to have a view sitting in your storyboard
Dialogue: 0,0:23:52.02,0:23:56.60,yin,,0,0,0,,还可以选择编辑菜单中的嵌入滚动视图\N{\fs12}and do edit menu, embed in scroll view,
Dialogue: 0,0:23:56.60,0:23:58.80,yin,,0,0,0,,和嵌入导航控制器类似\N{\fs12}just like you do embed in navigation controller.
Dialogue: 0,0:23:59.42,0:24:01.19,yin,,0,0,0,,也许是我没理解\N{\fs12}You know, maybe I don't understand exactly
Dialogue: 0,0:24:01.20,0:24:02.16,yin,,0,0,0,,它究竟应该是怎样的\N{\fs12}how that's supposed to work,
Dialogue: 0,0:24:02.17,0:24:03.22,yin,,0,0,0,,但就我看来\N{\fs12}but it seems to me like
Dialogue: 0,0:24:03.23,0:24:05.02,yin,,0,0,0,,很多情况下都会出问题\N{\fs12}it doesn't do the right thing a lot of the time.
Dialogue: 0,0:24:05.33,0:24:05.93,yin,,0,0,0,,比如说\N{\fs12}For example,
Dialogue: 0,0:24:05.95,0:24:08.47,yin,,0,0,0,,它会在周围留出额外的空间\N{\fs12}it seems to put like a little extra space around it,
Dialogue: 0,0:24:08.48,0:24:10.95,yin,,0,0,0,,我也不知道原因 我不推荐使用嵌入滚动视图\N{\fs12}I'm not sure, I don't recommend embed in scroll view.
Dialogue: 0,0:24:11.09,0:24:12.83,yin,,0,0,0,,我推荐添加好滚动视图之后\N{\fs12}I recommend just put your scroll view there
Dialogue: 0,0:24:13.12,0:24:16.68,yin,,0,0,0,,然后用代码增加子视图\N{\fs12}and then add your subviews in code, okay?
Dialogue: 0,0:24:17.14,0:24:20.82,yin,,0,0,0,,或者将它们拖入storyboard中的滚动视图中\N{\fs12}Or, drag them in to a scroll view that's in your storyboard
Dialogue: 0,0:24:20.99,0:24:22.01,yin,,0,0,0,,将它们放到那里\N{\fs12}to put them in there, okay?
Dialogue: 0,0:24:22.24,0:24:24.37,yin,,0,0,0,,但是子视图直接拖拽进滚动视图有点奇怪\N{\fs12}But dragging them into your scroll view it kind of weird,
Dialogue: 0,0:24:24.61,0:24:26.24,yin,,0,0,0,,因为storyboard中的滚动视图\N{\fs12}because your scroll view in the storyboard
Dialogue: 0,0:24:26.25,0:24:28.37,yin,,0,0,0,,只能显示出其可视区域\N{\fs12}can only show you its visible area,
Dialogue: 0,0:24:28.37,0:24:30.42,yin,,0,0,0,,不能将整个contentSize的内容显示出来\N{\fs12}it can't show you that huge contentSize.
Dialogue: 0,0:24:30.80,0:24:31.99,yin,,0,0,0,,所以我更倾向于用代码\N{\fs12}So I'm kind of a fan of
Dialogue: 0,0:24:32.16,0:24:34.35,yin,,0,0,0,,添加滚动视图的子视图\N{\fs12}put your scroll view's subviews in code.
Dialogue: 0,0:24:35.02,0:24:36.92,yin,,0,0,0,,添加滚动视图时\N{\fs12}Okay? You put the scroll view itself in,
Dialogue: 0,0:24:37.23,0:24:38.83,yin,,0,0,0,,可以在storyboard中使用拖放完成\N{\fs12}drag and drop, into your storyboard,
Dialogue: 0,0:24:38.85,0:24:39.83,yin,,0,0,0,,然后用代码添加子视图\N{\fs12}but then, put your things in code,
Dialogue: 0,0:24:39.83,0:24:40.94,yin,,0,0,0,,我推荐这种方法\N{\fs12}I kind of recommend that.
Dialogue: 0,0:24:41.18,0:24:42.81,yin,,0,0,0,,实现方法就是使用addSubview方法\N{\fs12}And the way you do that is just with addSubview.
Dialogue: 0,0:24:42.93,0:24:44.73,yin,,0,0,0,,只要设置好视图的frame\N{\fs12}Just set the frame you want for your view,
Dialogue: 0,0:24:44.74,0:24:47.33,yin,,0,0,0,,是在内容区域的坐标系中的\N{\fs12}which is in that content area, coordinate system,
Dialogue: 0,0:24:47.46,0:24:48.32,yin,,0,0,0,,然后用addSubview\N{\fs12}and there's addSubview.
Dialogue: 0,0:24:48.70,0:24:49.59,yin,,0,0,0,,就是这么简单\N{\fs12}Simple as that.
Dialogue: 0,0:24:50.57,0:24:52.48,yin,,0,0,0,,不要忘记设置contentSize\N{\fs12}Don't forget to set that contentSize.
Dialogue: 0,0:24:52.61,0:24:53.96,yin,,0,0,0,,这是我讲的第一项内容\N{\fs12}That's the very first thing I talked about
Dialogue: 0,0:24:53.96,0:24:54.90,yin,,0,0,0,,我要再强调一遍\N{\fs12}and I'm talking about it again.
Dialogue: 0,0:24:55.05,0:24:58.12,yin,,0,0,0,,如果不设置contentSize 就是那个大的白色区域\N{\fs12}If you don't set that contentSize, that big white area,
Dialogue: 0,0:24:58.32,0:24:59.89,yin,,0,0,0,,滚动视图就没有滚动显示内容了\N{\fs12}the scroll view is going to be scrolling over nothing.
Dialogue: 0,0:25:00.01,0:25:02.10,yin,,0,0,0,,无论子视图添加的是哪个视图\N{\fs12}It doesn't matter what views you've added a subview,
Dialogue: 0,0:25:02.53,0:25:04.54,yin,,0,0,0,,contentSize是它滚动显示的对象\N{\fs12}that contentSize is what it scrolls over.
Dialogue: 0,0:25:04.54,0:25:05.88,yin,,0,0,0,,并不是在视图上滚动\N{\fs12}It doesn't scroll over the views,
Dialogue: 0,0:25:05.89,0:25:07.36,yin,,0,0,0,,视图只是正好在那里\N{\fs12}the views just happen to be there
Dialogue: 0,0:25:07.37,0:25:09.87,yin,,0,0,0,,如果它们是在contentSize坐标系中的话\N{\fs12}if they're in the contentSize coordinate system,
Dialogue: 0,0:25:09.87,0:25:11.35,yin,,0,0,0,,contentSize才是关键\N{\fs12}but it's that contentSize that's key,
Dialogue: 0,0:25:11.35,0:25:12.23,yin,,0,0,0,,不要忘了设置它\N{\fs12}don't forget to set that.
Dialogue: 0,0:25:12.26,0:25:13.15,yin,,0,0,0,,要想重置它\N{\fs12}And to reset it,
Dialogue: 0,0:25:13.16,0:25:15.02,yin,,0,0,0,,如果滚动显示的对象大小发生变化\N{\fs12}if you're gonna scroll over something that changes size,
Dialogue: 0,0:25:15.04,0:25:16.64,yin,,0,0,0,,放大缩小等等\N{\fs12}it gets larger or smaller or whatever,
Dialogue: 0,0:25:17.12,0:25:18.71,yin,,0,0,0,,重置那个contentSize\N{\fs12}reset that contentSize.
Dialogue: 0,0:25:20.38,0:25:21.86,yin,,0,0,0,,大多数情况下\N{\fs12}Most of the scrolling around
Dialogue: 0,0:25:21.87,0:25:24.24,yin,,0,0,0,,滚动操作是由用户的拖动手势控制的\N{\fs12}is the user with a touch gesture panning,
Dialogue: 0,0:25:24.47,0:25:27.32,yin,,0,0,0,,但还可以用代码完成滚动\N{\fs12}but you can also scroll around using code.
Dialogue: 0,0:25:27.59,0:25:29.44,yin,,0,0,0,,比如scrollRectToVisible\N{\fs12}For example, scrollRectToVisible.
Dialogue: 0,0:25:29.64,0:25:32.24,yin,,0,0,0,,你在内容区域指定一个矩形\N{\fs12}You specify a rectangle in the content area,
Dialogue: 0,0:25:32.25,0:25:36.83,yin,,0,0,0,,它会滚动以显示那个矩形\N{\fs12}and it will scroll that to make that rectangle visible,
Dialogue: 0,0:25:36.84,0:25:39.54,yin,,0,0,0,,也许要为其添加动画 让它划过去\N{\fs12}and you probably want it to be animated so it slides over,
Dialogue: 0,0:25:39.54,0:25:41.15,yin,,0,0,0,,而不是突然蹦出来\N{\fs12}instead of just jumps, right?
Dialogue: 0,0:25:42.06,0:25:43.46,yin,,0,0,0,,对于滚动视图\N{\fs12}And there's a ton of other things
Dialogue: 0,0:25:43.47,0:25:45.02,yin,,0,0,0,,还可以控制很多其他操作\N{\fs12}you can control in a scroll view,
Dialogue: 0,0:25:45.15,0:25:46.30,yin,,0,0,0,,我们就不讲了\N{\fs12}which we're not going to talk about,
Dialogue: 0,0:25:46.32,0:25:47.26,yin,,0,0,0,,时间有限\N{\fs12}just time constraints,
Dialogue: 0,0:25:47.27,0:25:49.65,yin,,0,0,0,,大家可以回去查看UIScrollView的文档\N{\fs12}but you can go look at UIScrollView's documentation,
Dialogue: 0,0:25:49.93,0:25:52.34,yin,,0,0,0,,比如滚动在何时启用\N{\fs12}things like whether scrolling is enabled at a given time,
Dialogue: 0,0:25:52.56,0:25:55.17,yin,,0,0,0,,是水平滚动还是垂直滚动 还是二者兼有\N{\fs12}whether you can scroll horizontally or vertically or both,
Dialogue: 0,0:25:57.18,0:25:59.86,yin,,0,0,0,,iOS中没有滚动条\N{\fs12}there's no scroll bars in iOS,
Dialogue: 0,0:26:00.01,0:26:01.40,yin,,0,0,0,,但有滚动指示器\N{\fs12}but there are scroll indicators,
Dialogue: 0,0:26:01.41,0:26:02.40,yin,,0,0,0,,不用滚动条\N{\fs12}you don't use scroll bars,
Dialogue: 0,0:26:02.40,0:26:03.87,yin,,0,0,0,,因为是直接用手指滚动\N{\fs12}because you just scroll with your finger,
Dialogue: 0,0:26:03.87,0:26:05.16,yin,,0,0,0,,或者是用拖动触控手势\N{\fs12}or you pan around with a touch gesture,
Dialogue: 0,0:26:05.45,0:26:06.91,yin,,0,0,0,,但会出现小标志\N{\fs12}but there are little things that flash on
Dialogue: 0,0:26:06.93,0:26:08.73,yin,,0,0,0,,告诉你当前所在内容区域的位置\N{\fs12}that kind of show you where you are on the content area,
Dialogue: 0,0:26:08.74,0:26:11.13,yin,,0,0,0,,这些内容都可以在文档中找到\N{\fs12}you can look at all that stuff in the documentation.
Dialogue: 0,0:26:12.31,0:26:13.79,yin,,0,0,0,,现在我们来讲一下缩放\N{\fs12}Alright, so now let's talk about zooming.
Dialogue: 0,0:26:13.91,0:26:15.92,yin,,0,0,0,,我们讲过了在滚动视图上拖动\N{\fs12}Okay, so we've talked about panning around the scroll view,
Dialogue: 0,0:26:15.92,0:26:18.48,yin,,0,0,0,,如果想要对内容进行缩放呢\N{\fs12}what if we want to zoom in on the content and zoom out?
Dialogue: 0,0:26:19.68,0:26:23.87,yin,,0,0,0,,要记得 所有UIView都有transform变换属性\N{\fs12}Remember that all UIViews have this transform property.
Dialogue: 0,0:26:23.87,0:26:27.10,yin,,0,0,0,,在动画部分 我们将其用于了评分效果\N{\fs12}Okay? We used it to grade effect in the animating world,
Dialogue: 0,0:26:27.39,0:26:31.06,yin,,0,0,0,,变换可以对视图进行任意的\N{\fs12}and the transform let's you rotate and scale
Dialogue: 0,0:26:31.06,0:26:34.86,yin,,0,0,0,,旋转 缩放和平移\N{\fs12}and translate a view, arbitrarily, okay,
Dialogue: 0,0:26:34.86,0:26:37.32,yin,,0,0,0,,是基于比特位的缩放\N{\fs12}it's doing bits, though, bit-wise zooming,
Dialogue: 0,0:26:37.72,0:26:39.60,yin,,0,0,0,,UIScrollView利用它\N{\fs12}and UIScrollView takes advantage of that
Dialogue: 0,0:26:39.87,0:26:42.38,yin,,0,0,0,,实现缩放\N{\fs12}to do its view, do its zooming
Dialogue: 0,0:26:42.38,0:26:45.04,yin,,0,0,0,,方法是通过修改变换属性的缩放比例\N{\fs12}by changing the scale of the transform.
Dialogue: 0,0:26:45.44,0:26:46.77,yin,,0,0,0,,按缩放比例进行变换\N{\fs12}Okay? So it scales the transform.
Dialogue: 0,0:26:46.77,0:26:48.39,yin,,0,0,0,,也就意味着你的视图\N{\fs12}So that means that your view,
Dialogue: 0,0:26:48.40,0:26:51.35,yin,,0,0,0,,如果放大太多 可能会看不清楚\N{\fs12}if it's zoomed in a lot could be kind of greeny,
Dialogue: 0,0:26:51.61,0:26:52.87,yin,,0,0,0,,除非你的视图\N{\fs12}unless your view doesn't know
Dialogue: 0,0:26:52.88,0:26:55.60,yin,,0,0,0,,不知道在缩放时如何进行调整\N{\fs12}how to adjust itself once it's zoomed in,
Dialogue: 0,0:26:55.62,0:26:56.92,yin,,0,0,0,,我们稍后会讲\N{\fs12}and we'll talk about that in a second.
Dialogue: 0,0:26:57.70,0:27:00.53,yin,,0,0,0,,要实现缩放 要设置两项重要的内容\N{\fs12}Zooming requires two very important things to be set,
Dialogue: 0,0:27:00.53,0:27:03.23,yin,,0,0,0,,首先是最大最小缩放比例\N{\fs12}the first thing is the minimum and maximum zoom scale,
Dialogue: 0,0:27:03.23,0:27:04.95,yin,,0,0,0,,它们的默认值是1\N{\fs12}by default these are one,
Dialogue: 0,0:27:05.51,0:27:07.20,yin,,0,0,0,,代表无法进行缩放\N{\fs12}meaning you can't zoom in or out.
Dialogue: 0,0:27:07.39,0:27:09.77,yin,,0,0,0,,显示的缩放比例为1\N{\fs12}Okay? It's just gonna show you a zoom scale of one,
Dialogue: 0,0:27:10.24,0:27:13.27,yin,,0,0,0,,也就是说 用户看到的内容\N{\fs12}in other words, the thing the user sees is one times the size
Dialogue: 0,0:27:13.27,0:27:16.18,yin,,0,0,0,,是它的实际大小\N{\fs12}of the thing as it really, it's actual size, right?
Dialogue: 0,0:27:16.50,0:27:18.64,yin,,0,0,0,,所以如果你想要让它们实现缩放\N{\fs12}So, if you want them to be able to zoom in or zoom out,
Dialogue: 0,0:27:18.64,0:27:21.19,yin,,0,0,0,,就要设置最大最小缩放比例\N{\fs12}you have to set the minimum or maximum zoom scale.
Dialogue: 0,0:27:21.53,0:27:22.76,yin,,0,0,0,,否则无法进行缩放\N{\fs12}Okay? Otherwise you will not zoom.
Dialogue: 0,0:27:22.99,0:27:25.30,yin,,0,0,0,,第二项是一个委托方法\N{\fs12}The second thing is a delegate method.
Dialogue: 0,0:27:25.80,0:27:28.99,yin,,0,0,0,,缩放的滚动视图要有一个委托\N{\fs12}So, scroll views that zoom have to have a delegate.
Dialogue: 0,0:27:29.31,0:27:32.80,yin,,0,0,0,,委托只是滚动视图的一个属性\N{\fs12}Okay? And delegate is just a property, on scroll view,
Dialogue: 0,0:27:32.80,0:27:34.19,yin,,0,0,0,,和动画部分类似\N{\fs12}just like it was on the animator,
Dialogue: 0,0:27:34.31,0:27:36.47,yin,,0,0,0,,你要将委托设为某个对象\N{\fs12}you're gonna set that delegate to be some object,
Dialogue: 0,0:27:36.54,0:27:37.97,yin,,0,0,0,,通常是你的控制器\N{\fs12}usually your controller,
Dialogue: 0,0:27:38.32,0:27:40.44,yin,,0,0,0,,控制器会实现所需要的\N{\fs12}and your controller's gonna implement whatever methods
Dialogue: 0,0:27:40.44,0:27:42.67,yin,,0,0,0,,UIScrollView委托协议中的方法\N{\fs12}in the UIScrollView delegate protocol,
Dialogue: 0,0:27:42.68,0:27:44.79,yin,,0,0,0,,我们讲过 记得吧\N{\fs12}remember we talked about protocols that it wants.
Dialogue: 0,0:27:45.11,0:27:47.83,yin,,0,0,0,,UIScrollView委托中的方法都是可选的\N{\fs12}All the methods in the UIScrollView protocol are optional,
Dialogue: 0,0:27:48.13,0:27:50.51,yin,,0,0,0,,但如果想实现缩放 这个方法是必须的\N{\fs12}but this one is not optional if you want zooming,
Dialogue: 0,0:27:51.05,0:27:53.75,yin,,0,0,0,,这个方法viewForZoomingInScrollView\N{\fs12}and all of this method, viewForZoomingInScrollView
Dialogue: 0,0:27:53.76,0:27:57.66,yin,,0,0,0,,会返回在内容区域中\N{\fs12}is returning is which view, in the content area,
Dialogue: 0,0:27:57.66,0:27:59.04,yin,,0,0,0,,滚动视图的哪个子视图\N{\fs12}which subview of the scroll view,
Dialogue: 0,0:27:59.19,0:28:02.60,yin,,0,0,0,,会在缩放时改变缩放比例\N{\fs12}is going to have it scale changed when it zooms?
Dialogue: 0,0:28:03.57,0:28:06.94,yin,,0,0,0,,所以在滚动视图的内容区域内\N{\fs12}Okay? So you might have a view at the top level
Dialogue: 0,0:28:06.95,0:28:08.46,yin,,0,0,0,,你可能会有一个顶级视图\N{\fs12}inside your content area scroll view
Dialogue: 0,0:28:08.46,0:28:10.19,yin,,0,0,0,,包含所有要缩放的视图\N{\fs12}that contains all your other views and they're zooming in,
Dialogue: 0,0:28:10.19,0:28:10.73,yin,,0,0,0,,没问题\N{\fs12}that's fine,
Dialogue: 0,0:28:10.81,0:28:13.93,yin,,0,0,0,,或者只有一个可以缩放的视图\N{\fs12}or there might be just one view that makes sense to zoom,
Dialogue: 0,0:28:13.94,0:28:14.95,yin,,0,0,0,,但是需要返回\N{\fs12}but you have to return
Dialogue: 0,0:28:14.97,0:28:17.64,yin,,0,0,0,,哪个子视图会被按比例缩放\N{\fs12}which subview is going to get scaled,
Dialogue: 0,0:28:17.76,0:28:20.38,yin,,0,0,0,,变换要应用于哪个视图\N{\fs12}which it's gonna have this transform applied to it.
Dialogue: 0,0:28:20.74,0:28:23.81,yin,,0,0,0,,还可以编程实现缩放\N{\fs12}Okay? You can also zoom programmatically, again,
Dialogue: 0,0:28:23.82,0:28:25.62,yin,,0,0,0,,用户通常会通过捏放手势控制缩放\N{\fs12}the user is usually pinching to zoom,
Dialogue: 0,0:28:25.62,0:28:26.77,yin,,0,0,0,,但也可以用编程实现\N{\fs12}but you can do it programmatically
Dialogue: 0,0:28:26.77,0:28:28.70,yin,,0,0,0,,只要设置这个属性zoomScale\N{\fs12}by just setting this property zoomScale.
Dialogue: 0,0:28:28.92,0:28:30.59,yin,,0,0,0,,设置时可能要使用\N{\fs12}When you do set it, you probably want to set it
Dialogue: 0,0:28:30.59,0:28:32.36,yin,,0,0,0,,setZoomScale animated\N{\fs12}with setZoomScale animated,
Dialogue: 0,0:28:32.36,0:28:34.72,yin,,0,0,0,,而不是直接设置zoomScale属性\N{\fs12}instead of just setting the zoomScale property directly
Dialogue: 0,0:28:34.72,0:28:35.89,yin,,0,0,0,,这样就有动画效果了\N{\fs12}so that it gets animated.
Dialogue: 0,0:28:36.14,0:28:37.71,yin,,0,0,0,,还可以按矩形缩放\N{\fs12}And you can also zoom to a rectangle,
Dialogue: 0,0:28:37.71,0:28:38.66,yin,,0,0,0,,是这样的\N{\fs12}which looks like this,
Dialogue: 0,0:28:38.71,0:28:40.66,yin,,0,0,0,,这是缩放比例1.2的显示效果\N{\fs12}so here's zoom scale 1.2,
Dialogue: 0,0:28:40.66,0:28:41.88,yin,,0,0,0,,将它放大了一点\N{\fs12}so I'm zoomed in a little bit.
Dialogue: 0,0:28:42.12,0:28:46.17,yin,,0,0,0,,如果将缩放比例设为1 就是实际大小\N{\fs12}If I got to zoom scale 1, okay, this actual size,
Dialogue: 0,0:28:46.43,0:28:48.73,yin,,0,0,0,,可以再回到缩放比例1.2\N{\fs12}I can go back to zoom scale 1.2.
Dialogue: 0,0:28:49.08,0:28:50.85,yin,,0,0,0,,还可以按矩形缩放\N{\fs12}I can also zoom to a rectangle,
Dialogue: 0,0:28:50.85,0:28:52.56,yin,,0,0,0,,比如说 这里有个小矩形\N{\fs12}let's say I have this little rectangle right here,
Dialogue: 0,0:28:52.56,0:28:55.05,yin,,0,0,0,,这个兽像的鼻子\N{\fs12}this nose of this beast,
Dialogue: 0,0:28:55.23,0:28:58.68,yin,,0,0,0,,如果对它进行放大 会尽可能放大\N{\fs12}and if I zoom, it will make it as big as possible, okay?
Dialogue: 0,0:28:59.33,0:29:00.72,yin,,0,0,0,,还能放下 所以就放大了\N{\fs12}It still fits, so it zooms in.
Dialogue: 0,0:29:01.03,0:29:03.27,yin,,0,0,0,,如果这个矩形\N{\fs12}Or, if I had a square that was bigger
Dialogue: 0,0:29:03.27,0:29:04.28,yin,,0,0,0,,大于当前显示范围\N{\fs12}than what was currently showing
Dialogue: 0,0:29:04.29,0:29:06.60,yin,,0,0,0,,这时再用zoomToRect 它就会缩小\N{\fs12}and I said zoomToRect, it'll zoom it down.
Dialogue: 0,0:29:07.54,0:29:09.23,yin,,0,0,0,,所以你可以直接用矩形\N{\fs12}Okay? So you can basically just take a rectangle
Dialogue: 0,0:29:09.23,0:29:12.98,yin,,0,0,0,,让它缩放到合适大小\N{\fs12}to make it fit as best it can. Alright.
Dialogue: 0,0:29:13.34,0:29:15.36,yin,,0,0,0,,滚动视图有很多委托方法\N{\fs12}So scroll view has lots and lots of delegate methods
Dialogue: 0,0:29:15.37,0:29:17.59,yin,,0,0,0,,不只是有viewForZoomingInScrollView\N{\fs12}besides that viewForZoomingInScrollView thing.
Dialogue: 0,0:29:17.80,0:29:21.59,yin,,0,0,0,,例如 如果捏合放大\N{\fs12}For example, if you zoomed in, you pinched to zoom
Dialogue: 0,0:29:21.59,0:29:23.25,yin,,0,0,0,,将一个视图放大很多\N{\fs12}and you zoomed way in on a view,
Dialogue: 0,0:29:23.35,0:29:24.87,yin,,0,0,0,,会变得很像素化\N{\fs12}it's gonna be really pixelated
Dialogue: 0,0:29:24.88,0:29:27.86,yin,,0,0,0,,因为是按比例变换大小\N{\fs12}because it's gonna be doing a transformed-based scale, right?
Dialogue: 0,0:29:27.86,0:29:30.49,yin,,0,0,0,,将比特位按比例放大 可能会变得很大\N{\fs12}Scaling the bits up, bits might look huge,
Dialogue: 0,0:29:31.26,0:29:32.54,yin,,0,0,0,,但是有一个委托方法\N{\fs12}but you get a delegate method,
Dialogue: 0,0:29:32.55,0:29:35.33,yin,,0,0,0,,scrollViewDidEndZooming withView atScale\N{\fs12}scrollViewDidEndZooming withView atScale,
Dialogue: 0,0:29:35.51,0:29:37.71,yin,,0,0,0,,滚动视图会告诉你\N{\fs12}that will tell you, the scroll view will tell you,
Dialogue: 0,0:29:37.73,0:29:39.01,yin,,0,0,0,,我完成它的缩放操作了\N{\fs12}I just finished zooming this thing
Dialogue: 0,0:29:39.01,0:29:40.21,yin,,0,0,0,,它现在是预设缩放比例\N{\fs12}and now it's at this scale.
Dialogue: 0,0:29:40.29,0:29:43.77,yin,,0,0,0,,这时你就可以重绘视图 让它不再像素化\N{\fs12}And now you could redraw your view to not be pixelated.
Dialogue: 0,0:29:44.45,0:29:45.93,yin,,0,0,0,,这是个好方法\N{\fs12}Okay? So this would be a good way
Dialogue: 0,0:29:45.94,0:29:48.22,yin,,0,0,0,,用户可以随意缩放\N{\fs12}to kind of let them zoom in and out,
Dialogue: 0,0:29:48.24,0:29:50.51,yin,,0,0,0,,性能很高 略有像素化\N{\fs12}really high performance, a little pixelated,
Dialogue: 0,0:29:50.51,0:29:52.26,yin,,0,0,0,,但用户的手指还在上面\N{\fs12}but their fingers are in the way anyway,
Dialogue: 0,0:29:52.26,0:29:53.89,yin,,0,0,0,,所以他们可能不太察觉\N{\fs12}so they can't probably can't tell that much.
Dialogue: 0,0:29:54.15,0:29:56.40,yin,,0,0,0,,当用户移开手指时 你就可以重绘了\N{\fs12}And then when they let go, you can do it.
Dialogue: 0,0:29:56.40,0:29:58.44,yin,,0,0,0,,实际上 在执行时你会得到通知\N{\fs12}And in fact, you even get notification while it's doing it,
Dialogue: 0,0:29:58.44,0:29:59.80,yin,,0,0,0,,所以可以在执行时进行重绘\N{\fs12}so you could even do it while it's doing it,
Dialogue: 0,0:29:59.80,0:30:01.37,yin,,0,0,0,,最好用性能较高的绘制操作\N{\fs12}it better be a high-performance drawing
Dialogue: 0,0:30:01.37,0:30:02.48,yin,,0,0,0,,因为同时还要处理捏合操作\N{\fs12}because they're pinching in and out.
Dialogue: 0,0:30:02.48,0:30:03.39,yin,,0,0,0,,但是这样做是可以的\N{\fs12}But, you could do it.
Dialogue: 0,0:30:03.39,0:30:05.15,yin,,0,0,0,,我只想演示一个委托方法\N{\fs12}But I just wanted to show you an example of a delegate method.
Dialogue: 0,0:30:05.15,0:30:08.56,yin,,0,0,0,,可能还有十几个滚动视图委托方法\N{\fs12}There's probably a dozen more scroll view delegate methods,
Dialogue: 0,0:30:08.56,0:30:10.74,yin,,0,0,0,,大家可以查看UIScrollView委托文档\N{\fs12}you could go look at the UIScrollView delegate documentation
Dialogue: 0,0:30:10.75,0:30:12.40,yin,,0,0,0,,查看这些方法\N{\fs12}to find out what they are all.
Dialogue: 0,0:30:13.07,0:30:13.49,yin,,0,0,0,,明白了吗\N{\fs12}Okay?
Dialogue: 0,0:30:13.74,0:30:15.27,yin,,0,0,0,,我们来做个演示\N{\fs12}So, we'll do a demo.
Dialogue: 0,0:30:15.27,0:30:16.75,yin,,0,0,0,,演示包含很多内容\N{\fs12}It's a pretty comprehensive demo.
Dialogue: 0,0:30:16.75,0:30:19.14,yin,,0,0,0,,我要演示滚动视图的操作\N{\fs12}I'm gonna be doing, showing you scroll view,
Dialogue: 0,0:30:19.39,0:30:21.70,yin,,0,0,0,,以及URL下载\N{\fs12}and that URL downloading thing,
Dialogue: 0,0:30:21.86,0:30:23.64,yin,,0,0,0,,还要演示\N{\fs12}and I'm also going to show you,
Dialogue: 0,0:30:24.02,0:30:26.63,yin,,0,0,0,,再做一个导航控制器\N{\fs12}we'll do another navigation controller,
Dialogue: 0,0:30:26.63,0:30:28.48,yin,,0,0,0,,再在课堂上演示一遍\N{\fs12}just to show it again in class.
Dialogue: 0,0:30:28.77,0:30:33.04,yin,,0,0,0,,最后我要演示一点动画的内容\N{\fs12}And at the end, I'm gonna show you a little animation thing,
Dialogue: 0,0:30:33.04,0:30:34.71,yin,,0,0,0,,是一个转轮\N{\fs12}a spinner that can spin
Dialogue: 0,0:30:34.74,0:30:36.57,yin,,0,0,0,,会在其他线程执行操作时旋转\N{\fs12}while things are happening in other threads,
Dialogue: 0,0:30:36.61,0:30:38.18,yin,,0,0,0,,主线程显示这个小转轮\N{\fs12}so the main thread can show his little spinner
Dialogue: 0,0:30:38.19,0:30:39.40,yin,,0,0,0,,用户就能知道是怎么回事了\N{\fs12}so people can see what's going on.
Dialogue: 0,0:30:39.40,0:30:43.31,yin,,0,0,0,,争取在下课前都演示完\N{\fs12}So, we'll try to get all of that to fit into our time.
Dialogue: 0,0:30:43.31,0:30:46.17,yin,,0,0,0,,这里新建一个项目\N{\fs12}So we're gonna make a new project here.
Dialogue: 0,0:30:46.17,0:30:47.66,yin,,0,0,0,,选择新建项目\N{\fs12}So I'm just gonna create new project.
Dialogue: 0,0:30:48.18,0:30:51.82,yin,,0,0,0,,我要叫这个项目Imaginarium\N{\fs12}And I'm gonna call this project Imaginarium.
Dialogue: 0,0:30:53.28,0:30:58.16,yin,,0,0,0,,将Imaginarium保存在根目录Developer下\N{\fs12}Okay? Imaginarium, we'll put it in my home directory developer,
Dialogue: 0,0:30:58.16,0:30:59.63,yin,,0,0,0,,强烈推荐这样\N{\fs12}which I highly recommend.
Dialogue: 0,0:31:00.03,0:31:01.27,yin,,0,0,0,,出来了\N{\fs12}Here it is.
Dialogue: 0,0:31:01.80,0:31:04.15,yin,,0,0,0,,我要将AppDelegate拖入Supporting Files文件夹中\N{\fs12}Okay, I'm dragging AppDelegate to supporting files.
Dialogue: 0,0:31:04.36,0:31:05.83,yin,,0,0,0,,下下周\N{\fs12}Probably the week after next
Dialogue: 0,0:31:05.84,0:31:08.03,yin,,0,0,0,,我们可能会讲这个应用委托\N{\fs12}we'll start talking about this app delegate.
Dialogue: 0,0:31:08.23,0:31:10.14,yin,,0,0,0,,讲到iOS的多任务处理时\N{\fs12}Really the app delegate mostly comes in
Dialogue: 0,0:31:10.15,0:31:12.30,yin,,0,0,0,,通常会涉及应用委托\N{\fs12}when we talk about multitasking in iOS,
Dialogue: 0,0:31:12.80,0:31:14.37,yin,,0,0,0,,多任务处理部分\N{\fs12}and we will start talking about multitasking
Dialogue: 0,0:31:14.76,0:31:17.07,yin,,0,0,0,,会在下下周讲到 今天不会涉及\N{\fs12}the week after next, but not today.
Dialogue: 0,0:31:17.70,0:31:20.48,yin,,0,0,0,,我们就用这个基本的视图控制器\N{\fs12}So here we go with this basic view controller, right here,
Dialogue: 0,0:31:20.48,0:31:21.63,yin,,0,0,0,,这个空的视图控制器\N{\fs12}this blank view controller.
Dialogue: 0,0:31:21.84,0:31:25.21,yin,,0,0,0,,我只要新建一个MVC\N{\fs12}And I'm gonna start off right off the bat by making a new MVC,
Dialogue: 0,0:31:25.22,0:31:27.78,yin,,0,0,0,,一个新的视图控制器 它的作用是\N{\fs12}a new view controller, and what this view controller does is
Dialogue: 0,0:31:27.79,0:31:30.21,yin,,0,0,0,,获取一个URL 然后显示出来\N{\fs12}it takes a URL, and displays,
Dialogue: 0,0:31:30.28,0:31:34.06,yin,,0,0,0,,URL对应的是网络上某幅图像 某个jpeg文件\N{\fs12}that is a URL that's for an image on the internet, some jpeg file,
Dialogue: 0,0:31:34.12,0:31:34.86,yin,,0,0,0,,把它显示出来\N{\fs12}and it displays it.
Dialogue: 0,0:31:35.53,0:31:36.87,yin,,0,0,0,,这就是要做的操作\N{\fs12}Okay? So that's what this,
Dialogue: 0,0:31:36.93,0:31:37.93,yin,,0,0,0,,先要创建它\N{\fs12}this first thing I'm going to create is.
Dialogue: 0,0:31:37.93,0:31:40.44,yin,,0,0,0,,直接选择新建文件\N{\fs12}So let's just go straight to that, new file,
Dialogue: 0,0:31:40.45,0:31:41.73,yin,,0,0,0,,新建一个类\N{\fs12}I'm gonna create a new class,
Dialogue: 0,0:31:42.00,0:31:44.67,yin,,0,0,0,,是一个UIViewController\N{\fs12}it's gonna be a UIViewController, okay,
Dialogue: 0,0:31:44.68,0:31:46.22,yin,,0,0,0,,我要叫它ImageViewController\N{\fs12}I'm gonna call it ImageViewController.
Dialogue: 0,0:31:47.13,0:31:48.08,yin,,0,0,0,,因为这就是它的作用\N{\fs12}Okay? Because that's what it does,
Dialogue: 0,0:31:48.09,0:31:49.29,yin,,0,0,0,,显示图像的视图控制器\N{\fs12}the view controller displays an image.
Dialogue: 0,0:31:49.97,0:31:50.86,yin,,0,0,0,,保存在这里\N{\fs12}Put it right there.
Dialogue: 0,0:31:51.92,0:31:53.73,yin,,0,0,0,,这就是我的ImageViewController\N{\fs12}So here's my ImageViewController,
Dialogue: 0,0:31:53.73,0:31:55.72,yin,,0,0,0,,从这个公有API入手\N{\fs12}I'm going to start right with this public API,
Dialogue: 0,0:31:55.73,0:31:57.85,yin,,0,0,0,,要对新类进行操作\N{\fs12}as I want to do with new classes,
Dialogue: 0,0:31:57.86,0:32:00.17,yin,,0,0,0,,我要增加一个属性\N{\fs12}so, I'm going to have a property,
Dialogue: 0,0:32:00.41,0:32:04.77,yin,,0,0,0,,是nonatomic strong类型 是一个NSURL\N{\fs12}which is nonatomic strong, which is going to be an NSURL,
Dialogue: 0,0:32:05.75,0:32:07.42,yin,,0,0,0,,叫做imageURL\N{\fs12}which is imageURL, okay?
Dialogue: 0,0:32:07.67,0:32:09.17,yin,,0,0,0,,这是公有API\N{\fs12}So this is the public API.
Dialogue: 0,0:32:09.25,0:32:10.81,yin,,0,0,0,,如果你设置了这个imageURL\N{\fs12}If you set this imageURL,
Dialogue: 0,0:32:10.98,0:32:13.34,yin,,0,0,0,,这个视图控制器就会显示那幅图像\N{\fs12}this view controller will display that image.
Dialogue: 0,0:32:13.95,0:32:15.30,yin,,0,0,0,,要怎么做呢\N{\fs12}Okay? How's it going to do that?
Dialogue: 0,0:32:15.30,0:32:16.28,yin,,0,0,0,,会用到一个类\N{\fs12}It's going to use a class,
Dialogue: 0,0:32:16.29,0:32:18.82,yin,,0,0,0,,我们几周前讲过 叫做UIImageView\N{\fs12}which we talked about a few weeks ago, called UIImageView.
Dialogue: 0,0:32:18.83,0:32:21.96,yin,,0,0,0,,就像UILabel是显示文本的一样\N{\fs12}UIImageView is kind of like UILabel is to text,
Dialogue: 0,0:32:22.10,0:32:23.71,yin,,0,0,0,,UIImageView是显示图像的\N{\fs12}UIImageView is to image.
Dialogue: 0,0:32:23.71,0:32:26.20,yin,,0,0,0,,它会获取一个UIImage 它有个属性是UIImage\N{\fs12}It just takes a UIImage, it has a property which is a UIImage,
Dialogue: 0,0:32:26.39,0:32:28.36,yin,,0,0,0,,然后显示它 这就是我们想要的功能\N{\fs12}and it displays it, so it's exactly what we want.
Dialogue: 0,0:32:28.36,0:32:30.73,yin,,0,0,0,,这个控制器显然要用到它\N{\fs12}So this controller is obviously going to use that,
Dialogue: 0,0:32:30.99,0:32:34.72,yin,,0,0,0,,删掉这些内容\N{\fs12}so let's get rid of all this stuff, and,
Dialogue: 0,0:32:34.72,0:32:37.88,yin,,0,0,0,,想要实现这个操作 这里需要什么呢\N{\fs12}so what do I need here, to do this?
Dialogue: 0,0:32:37.88,0:32:41.46,yin,,0,0,0,,需要一个图像视图\N{\fs12}Well, I'm gonna need one of those image views.
Dialogue: 0,0:32:41.88,0:32:48.89,yin,,0,0,0,,创建一个UIImageView\N{\fs12}So let's create a UIImageView, okay?
Dialogue: 0,0:32:50.75,0:32:53.38,yin,,0,0,0,,为什么不对呢\N{\fs12}Alright, why is that not doing the right thing already?
Dialogue: 0,0:32:55.86,0:32:56.28,yin,,0,0,0,,好吧\N{\fs12}Okay.
Dialogue: 0,0:32:56.39,0:32:57.32,yin,,0,0,0,,我们看看\N{\fs12}Let's see there.
Dialogue: 0,0:32:57.68,0:32:58.97,yin,,0,0,0,,可能是因为这个\N{\fs12}Oh, maybe because this.
Dialogue: 0,0:33:08.65,0:33:09.34,yin,,0,0,0,,不管了\N{\fs12}But anyway.
Dialogue: 0,0:33:09.56,0:33:11.45,yin,,0,0,0,,我们创建好了这个imageView\N{\fs12}Okay, sorry, we have this imageView,
Dialogue: 0,0:33:11.46,0:33:13.34,yin,,0,0,0,,它是主要内容\N{\fs12}that's gonna be the main thing,
Dialogue: 0,0:33:13.35,0:33:15.10,yin,,0,0,0,,对它进行延迟实例化\N{\fs12}so I'm going to lazily instantiate that.
Dialogue: 0,0:33:15.76,0:33:18.36,yin,,0,0,0,,(UIImageView *)imageView\N{\fs12}Image view, imageView,
Dialogue: 0,0:33:18.59,0:33:25.46,yin,,0,0,0,,if(!_imageView) _imageView=[[UIImageView alloc] init]\N{\fs12}if not imageView then imageView equals UIImageView alloc,
Dialogue: 0,0:33:25.46,0:33:27.55,yin,,0,0,0,,这时候我不知道它的框架是什么\N{\fs12}and at this time, I don't know its frame,
Dialogue: 0,0:33:27.55,0:33:29.17,yin,,0,0,0,,我就将它设为(0,0)了\N{\fs12}so I'll just make it be (0,0),
Dialogue: 0,0:33:29.18,0:33:32.07,yin,,0,0,0,,但要确保框架被正确设置\N{\fs12}but I'll have to make sure its frame gets set properly,
Dialogue: 0,0:33:32.52,0:33:33.89,yin,,0,0,0,,在某个时刻 设置图像时\N{\fs12}at some point, when I set its image
Dialogue: 0,0:33:33.90,0:33:36.11,yin,,0,0,0,,最好确保框架设置正确\N{\fs12}I better to make sure its frame is set properly.
Dialogue: 0,0:33:36.95,0:33:39.99,yin,,0,0,0,,就是这样了\N{\fs12}And, so we have that,
Dialogue: 0,0:33:40.16,0:33:42.27,yin,,0,0,0,,这里我要再做一个有趣的操作\N{\fs12}now I'm gonna do another interesting thing while we're here,
Dialogue: 0,0:33:42.27,0:33:43.76,yin,,0,0,0,,演示一下是如何实现的\N{\fs12}just to show you how this is done.
Dialogue: 0,0:33:43.91,0:33:45.30,yin,,0,0,0,,我要再添加一个属性\N{\fs12}I'm gonna have another property,
Dialogue: 0,0:33:45.79,0:33:49.56,yin,,0,0,0,,是一个UIImage\N{\fs12}which is going to be a UIImage.
Dialogue: 0,0:33:49.78,0:33:52.05,yin,,0,0,0,,它就是我们要显示的图像\N{\fs12}And this is going to be the image we're displaying,
Dialogue: 0,0:33:52.45,0:33:54.23,yin,,0,0,0,,关于这个属性有趣的一点是\N{\fs12}but what's interesting about this property,
Dialogue: 0,0:33:54.35,0:33:56.78,yin,,0,0,0,,我不会用一个实例变量来储存它\N{\fs12}is I'm not gonna use an instance variable to store it.
Dialogue: 0,0:33:57.73,0:34:00.10,yin,,0,0,0,,我会实现setter和getter\N{\fs12}Okay? I'm going to implement the setter and the getter,
Dialogue: 0,0:34:00.43,0:34:02.23,yin,,0,0,0,,但不会用实例变量\N{\fs12}and I'm not going to use an instance variable.
Dialogue: 0,0:34:02.99,0:34:04.57,yin,,0,0,0,,怎样实现呢\N{\fs12}Okay? So how does that work?
Dialogue: 0,0:34:04.72,0:34:06.64,yin,,0,0,0,,我们来实现getter\N{\fs12}Well, let's do the getter.
Dialogue: 0,0:34:08.53,0:34:09.91,yin,,0,0,0,,是image\N{\fs12}Oops. Image.
Dialogue: 0,0:34:10.71,0:34:11.75,yin,,0,0,0,,这样做时\N{\fs12}And when I do this,
Dialogue: 0,0:34:11.76,0:34:15.22,yin,,0,0,0,,只要返回imageView的视图\N{\fs12}I'm just gonna return my imageView's view,
Dialogue: 0,0:34:15.46,0:34:17.65,yin,,0,0,0,,imageView的image\N{\fs12}image, rather, my imageView's image.
Dialogue: 0,0:34:19.04,0:34:21.57,yin,,0,0,0,,有对象想要这个属性时\N{\fs12}Okay? So when someone wants this property,
Dialogue: 0,0:34:21.57,0:34:22.54,yin,,0,0,0,,它是个私有属性\N{\fs12}it's a private property,
Dialogue: 0,0:34:22.56,0:34:24.69,yin,,0,0,0,,我在代码中想要这个属性时\N{\fs12}but whenever I want this property in my code,
Dialogue: 0,0:34:24.95,0:34:27.08,yin,,0,0,0,,只要返回imageView的image\N{\fs12}I'm just going to return the imageView's one,
Dialogue: 0,0:34:27.18,0:34:31.39,yin,,0,0,0,,设置image也类似\N{\fs12}and, similarly, when I set this image, okay,
Dialogue: 0,0:34:31.84,0:34:36.66,yin,,0,0,0,,看看能不能让它\N{\fs12}let's see if we can make this do the right thing
Dialogue: 0,0:34:37.06,0:34:39.87,yin,,0,0,0,,显示正确的代码颜色\N{\fs12}in terms of code coloring,
Dialogue: 0,0:34:39.88,0:34:42.49,yin,,0,0,0,,我也不确定是怎么回事\N{\fs12}I'm not sure what's going on here.
Dialogue: 0,0:34:43.37,0:34:44.82,yin,,0,0,0,,再打开一遍试试\N{\fs12}Let's try this again.
Dialogue: 0,0:34:46.50,0:34:48.93,yin,,0,0,0,,我也不知道\N{\fs12}Okay, I'm not exactly sure.
Dialogue: 0,0:34:48.93,0:34:49.65,yin,,0,0,0,,好了\N{\fs12}Oh, there we go.
Dialogue: 0,0:34:50.44,0:34:53.04,yin,,0,0,0,,我想让这些代码颜色显示出来\N{\fs12}Okay, I want to get this colors going here.
Dialogue: 0,0:34:53.18,0:34:56.60,yin,,0,0,0,,好了 我们来设置UIImage\N{\fs12}Alright, so, let's set our UIImage.
Dialogue: 0,0:34:57.30,0:35:02.22,yin,,0,0,0,,这里也是一样的 只要用\N{\fs12}And same thing here, I'm going to just
Dialogue: 0,0:35:02.54,0:35:06.33,yin,,0,0,0,,self.imageView.image=image\N{\fs12}self dot imageView, dot image, equals the image.
Dialogue: 0,0:35:06.60,0:35:09.97,yin,,0,0,0,,为什么要定义这个image属性呢\N{\fs12}But here's why I'm defining this little image,
Dialogue: 0,0:35:09.97,0:35:12.92,yin,,0,0,0,,因为每次设置imageView的image时\N{\fs12}because whenever I set the image in the imageView,
Dialogue: 0,0:35:13.18,0:35:14.50,yin,,0,0,0,,都需要做另外一个操作\N{\fs12}I need to do one other thing,
Dialogue: 0,0:35:14.50,0:35:17.28,yin,,0,0,0,,self.imageView sizeToFit\N{\fs12}which is self dot imageView sizeToFit.
Dialogue: 0,0:35:18.41,0:35:19.54,yin,,0,0,0,,我想让imageView\N{\fs12}Okay? I want the imageView
Dialogue: 0,0:35:19.54,0:35:21.94,yin,,0,0,0,,调整自身框架 以适应图像显示\N{\fs12}to adjust its frame to fit that image.
Dialogue: 0,0:35:22.29,0:35:24.23,yin,,0,0,0,,因为每次设置imageView的image时\N{\fs12}So, since I always want to do that
Dialogue: 0,0:35:24.24,0:35:25.81,yin,,0,0,0,,都要这样做\N{\fs12}whenever I set the imageView's image,
Dialogue: 0,0:35:25.87,0:35:27.67,yin,,0,0,0,,我只要准备一个自己的属性\N{\fs12}I'm just preparing my own little property,
Dialogue: 0,0:35:27.67,0:35:29.43,yin,,0,0,0,,具有合理的语义\N{\fs12}which has sensible semantics,
Dialogue: 0,0:35:29.74,0:35:31.64,yin,,0,0,0,,通过它来做这个sizeToFit\N{\fs12}that does this little sizeToFit.
Dialogue: 0,0:35:31.77,0:35:33.16,yin,,0,0,0,,设置图像时要做的其他操作\N{\fs12}There are some other things we're going to want to do
Dialogue: 0,0:35:33.16,0:35:35.41,yin,,0,0,0,,可以都放到这里\N{\fs12}when we set an image, and we can put them all in here,
Dialogue: 0,0:35:35.67,0:35:38.05,yin,,0,0,0,,我们这里就先这样了\N{\fs12}but we'll start with just these. Okay?
Dialogue: 0,0:35:40.01,0:35:42.73,yin,,0,0,0,,下面要做的是在viewDidLoad中...\N{\fs12}The next thing I need to do is, in viewDidLoad...
Dialogue: 0,0:35:46.16,0:35:46.61,yin,,0,0,0,,像这样\N{\fs12}Like this.
Dialogue: 0,0:35:46.71,0:35:50.07,yin,,0,0,0,,将这个imageView加到self.view中\N{\fs12}Let's go and add this imageView to self dot view.
Dialogue: 0,0:35:50.24,0:35:54.28,yin,,0,0,0,,super viewDidLoad 然后是\N{\fs12}So let's do super, viewDidLoad, and then I'm going
Dialogue: 0,0:35:54.28,0:35:58.27,yin,,0,0,0,,self.view addSubview:self.imageView\N{\fs12}to say self dot view, addSubview, self dot imageView.
Dialogue: 0,0:35:58.86,0:36:01.94,yin,,0,0,0,,这样让它显示在屏幕上\N{\fs12}Okay? So that way I make sure I get it on screen.
Dialogue: 0,0:36:01.94,0:36:02.38,yin,,0,0,0,,有问题吗\N{\fs12}Question?
Dialogue: 0,0:36:02.82,0:36:05.19,yin,,0,0,0,,[学生提问]\N{\fs12}Student:[inaudible]
Dialogue: 0,0:36:05.21,0:36:06.48,yin,,0,0,0,,非常棒的问题\N{\fs12}Yeah. Great, great question.
Dialogue: 0,0:36:06.80,0:36:10.23,yin,,0,0,0,,这里没有@synthesize\N{\fs12}So, there's no at sign synthesize for UI...
Dialogue: 0,0:36:10.37,0:36:11.60,yin,,0,0,0,,UIImage这里没有 对吗\N{\fs12}this UIImage thing, right?
Dialogue: 0,0:36:12.09,0:36:14.07,yin,,0,0,0,,编译器也没有提示错误\N{\fs12}And compilers not complaining either.
Dialogue: 0,0:36:14.45,0:36:15.52,yin,,0,0,0,,怎么回事\N{\fs12}What is going on?
Dialogue: 0,0:36:15.82,0:36:17.71,yin,,0,0,0,,为什么不需要@synthesize呢\N{\fs12}Why don't I need an at sign synthesize?
Dialogue: 0,0:36:17.71,0:36:19.14,yin,,0,0,0,,有人想猜一把吗\N{\fs12}Anyone want to hazard a guess?
Dialogue: 0,0:36:21.57,0:36:23.39,yin,,0,0,0,,[学生回答]\N{\fs12}Student:[inaudible]
Dialogue: 0,0:36:23.55,0:36:24.27,yin,,0,0,0,,没错\N{\fs12}Correct.
Dialogue: 0,0:36:24.38,0:36:26.84,yin,,0,0,0,,答案就是因为我不用实例变量\N{\fs12}The answer is because I never use the instance variable.
Dialogue: 0,0:36:27.30,0:36:29.70,yin,,0,0,0,,因为image完全是按照另一个对象\N{\fs12}Okay? Since image is totally defined
Dialogue: 0,0:36:29.71,0:36:31.39,yin,,0,0,0,,来定义的\N{\fs12}in terms of another object,
Dialogue: 0,0:36:31.40,0:36:33.47,yin,,0,0,0,,我绝不会用_image\N{\fs12}I'm never using underbar image,
Dialogue: 0,0:36:33.69,0:36:35.80,yin,,0,0,0,,所以我不用合成那个实例变量\N{\fs12}and therefore I don't need to synthesize that instance variable,
Dialogue: 0,0:36:35.82,0:36:37.58,yin,,0,0,0,,@synthesize就是这个功能\N{\fs12}that's what at sign synthesize does.
Dialogue: 0,0:36:37.88,0:36:40.47,yin,,0,0,0,,它用来创建实例变量 而我不需要\N{\fs12}It creates that instance variable, and I don't need it.
Dialogue: 0,0:36:40.56,0:36:42.14,yin,,0,0,0,,编译器没有报错\N{\fs12}So, the compiler's not complaining
Dialogue: 0,0:36:42.14,0:36:43.82,yin,,0,0,0,,是因为我没有用它 所以不需要\N{\fs12}because I'm not using it, so I don't even need it.
Dialogue: 0,0:36:44.55,0:36:46.81,yin,,0,0,0,,这就是为什么我用了这个属性\N{\fs12}Everyone, that's kind of why I did this property,
Dialogue: 0,0:36:46.83,0:36:47.86,yin,,0,0,0,,给大家演示一下\N{\fs12}so that you would see that.
Dialogue: 0,0:36:48.45,0:36:49.53,yin,,0,0,0,,大家都明白了吗\N{\fs12}Okay? Everybody got that?
Dialogue: 0,0:36:50.61,0:36:52.70,yin,,0,0,0,,现在有了这个很棒的视图\N{\fs12}Okay, so now I have this wonderful view.
Dialogue: 0,0:36:52.89,0:36:55.04,yin,,0,0,0,,这里要做的最后一件事是\N{\fs12}The last thing I want to do here is
Dialogue: 0,0:36:55.28,0:36:59.91,yin,,0,0,0,,当有人设置我的公有API 设置imageURL时\N{\fs12}when someone sets my public API, set imageURL,
Dialogue: 0,0:37:00.80,0:37:04.92,yin,,0,0,0,,显然我要将imageView的image设成它\N{\fs12}obviously, I want to set that imageView's image to be that,
Dialogue: 0,0:37:05.18,0:37:09.79,yin,,0,0,0,,在这里存储imageURL\N{\fs12}so let's store our imageURL here,
Dialogue: 0,0:37:09.95,0:37:14.02,yin,,0,0,0,,然后是 self.image=\N{\fs12}and then I'm just gonna say self dot image equals NS...
Dialogue: 0,0:37:15.46,0:37:20.59,yin,,0,0,0,,[UIImage imageWithData:[NSData\N{\fs12}sorry, UIImage, imageWithData, NSData,
Dialogue: 0,0:37:20.65,0:37:27.21,yin,,0,0,0,,dataWithContentsOfURL self.imageURL]]\N{\fs12}dataWithContentsOfURL, self dot imageURL.
Dialogue: 0,0:37:28.55,0:37:31.72,yin,,0,0,0,,扩大点显示空间\N{\fs12}Okay? Let's make some more space. Okay?
Dialogue: 0,0:37:32.22,0:37:36.04,yin,,0,0,0,,这里做的就是调用这个self.image\N{\fs12}So, all I'm doing here is I'm calling this self dot image,
Dialogue: 0,0:37:36.04,0:37:38.86,yin,,0,0,0,,它会调用下面的这个setImage方法\N{\fs12}which is going to call this down here, this setImage.
Dialogue: 0,0:37:39.40,0:37:43.35,yin,,0,0,0,,使用获取的数据新建UIImage\N{\fs12}And, I'm creating a new UIImage using the data
Dialogue: 0,0:37:43.55,0:37:47.13,yin,,0,0,0,,数据就是URL的内容\N{\fs12}that I get by getting the contents of that URL.
Dialogue: 0,0:37:47.31,0:37:49.52,yin,,0,0,0,,这会阻塞线程\N{\fs12}This is going to block,
Dialogue: 0,0:37:50.24,0:37:52.93,yin,,0,0,0,,因为这个URL是互联网上的\N{\fs12}because that URL is gonna be out on the internet.
Dialogue: 0,0:37:53.12,0:37:56.15,yin,,0,0,0,,如果这个URL是网上的 这里就会阻塞\N{\fs12}If that, if this URL is on the internet, this will block.
Dialogue: 0,0:37:56.29,0:37:58.47,yin,,0,0,0,,如果是文件URL就不会 会直接获取数据\N{\fs12}If it's a file URL it won't, it'll just get the data.
Dialogue: 0,0:37:59.05,0:38:01.32,yin,,0,0,0,,但理解这部分很重要\N{\fs12}Okay? But this is very important to understand.
Dialogue: 0,0:38:01.32,0:38:04.06,yin,,0,0,0,,这里可能会阻塞主队列\N{\fs12}This is where we might be blocking the main queue.
Dialogue: 0,0:38:04.66,0:38:05.93,yin,,0,0,0,,那样就不好了\N{\fs12}Okay? And that's gonna be bad.
Dialogue: 0,0:38:06.14,0:38:07.84,yin,,0,0,0,,我们会阻塞主队列\N{\fs12}We're going to block the main queue
Dialogue: 0,0:38:07.84,0:38:09.69,yin,,0,0,0,,然后我们会再开启它\N{\fs12}and then we're going unblock it, okay?
Dialogue: 0,0:38:09.70,0:38:11.10,yin,,0,0,0,,但开始会阻塞它 这很不好\N{\fs12}But we're gonna start out blocking out, which is bad,
Dialogue: 0,0:38:11.10,0:38:13.20,yin,,0,0,0,,这行代码会带来麻烦\N{\fs12}but this is the line of code, the offender,
Dialogue: 0,0:38:13.21,0:38:16.19,yin,,0,0,0,,因为dataWithContentsOfURL会涉及网络\N{\fs12}because dataWithContentsOfURL will go out on the network
Dialogue: 0,0:38:16.54,0:38:19.68,yin,,0,0,0,,如果这个URL是http开头的话\N{\fs12}if that URL is an http something. Okay?
Dialogue: 0,0:38:21.06,0:38:24.50,yin,,0,0,0,,我们要显示什么图像呢\N{\fs12}Okay, so, now what image are we going to display?
Dialogue: 0,0:38:24.50,0:38:28.04,yin,,0,0,0,,我们写好了这个好用的通用图像显示器\N{\fs12}Right? We have this nice, generic image displayer,
Dialogue: 0,0:38:28.34,0:38:33.17,yin,,0,0,0,,我们要显示什么呢\N{\fs12}what are we going to display?
Dialogue: 0,0:38:33.97,0:38:36.46,yin,,0,0,0,,上一下网\N{\fs12}And, now let's go in the internet.
Dialogue: 0,0:38:36.67,0:38:40.31,yin,,0,0,0,,这些图像是苹果公司网站上的\N{\fs12}So, I've got these images right here, that actually Apple has,
Dialogue: 0,0:38:40.31,0:38:43.61,yin,,0,0,0,,苹果公司在网站上放了一些示例图片\N{\fs12}they put up a few images that were kind of example images
Dialogue: 0,0:38:43.61,0:38:47.51,yin,,0,0,0,,iPhone的拍摄样张 我猜是iPhone5s\N{\fs12}that were taken by an iPhone, iPhone5s, I guess,
Dialogue: 0,0:38:47.87,0:38:50.03,yin,,0,0,0,,可以看到 这幅图叫photo_1\N{\fs12}and you can see there's this one, photo one,
Dialogue: 0,0:38:50.03,0:38:53.27,yin,,0,0,0,,是朵花 再看一下photo_2\N{\fs12}which is this flower and then there's photo two,
Dialogue: 0,0:38:53.31,0:38:55.91,yin,,0,0,0,,应该是小辣椒\N{\fs12}which is these peppers, I guess those are,
Dialogue: 0,0:38:56.23,0:38:59.32,yin,,0,0,0,,photo_3是水母\N{\fs12}and three, which is this jellyfish, okay?
Dialogue: 0,0:38:59.56,0:39:03.24,yin,,0,0,0,,我想让我的应用能够显示这些图像\N{\fs12}So I want to have my app be able to display these images.
Dialogue: 0,0:39:03.77,0:39:05.51,yin,,0,0,0,,我要让应用\N{\fs12}Okay? So I'm going to make it
Dialogue: 0,0:39:05.52,0:39:07.93,yin,,0,0,0,,能够显示这三幅图中任意一幅\N{\fs12}so it can display any of these three images.
Dialogue: 0,0:39:08.16,0:39:09.14,yin,,0,0,0,,要怎么实现呢\N{\fs12}So how am I going to do that?
Dialogue: 0,0:39:09.29,0:39:12.02,yin,,0,0,0,,回到storyboard中\N{\fs12}Alright, I'm gonna go to my storyboard,
Dialogue: 0,0:39:12.26,0:39:15.09,yin,,0,0,0,,首先拖出一个视图控制器\N{\fs12}and first I'm gonna drag out a view controller
Dialogue: 0,0:39:15.09,0:39:16.62,yin,,0,0,0,,作为我的图像视图控制器\N{\fs12}to be my image view controller,
Dialogue: 0,0:39:16.62,0:39:17.80,yin,,0,0,0,,将它拖出来\N{\fs12}so let's drag that out,
Dialogue: 0,0:39:18.03,0:39:20.27,yin,,0,0,0,,大家都知道 需要将它的类\N{\fs12}and we know that we need to set its class
Dialogue: 0,0:39:20.30,0:39:21.39,yin,,0,0,0,,设为ImageViewController\N{\fs12}to be ImageViewController,
Dialogue: 0,0:39:21.39,0:39:24.18,yin,,0,0,0,,现在就有了这个图像视图控制器\N{\fs12}so now I have this nice image view controller
Dialogue: 0,0:39:24.29,0:39:25.73,yin,,0,0,0,,用来显示图像\N{\fs12}that can display an image.
Dialogue: 0,0:39:26.31,0:39:29.86,yin,,0,0,0,,现在我要在这个视图控制器中加些按钮\N{\fs12}And, now I'm gonna put some buttons in this view controller,
Dialogue: 0,0:39:29.86,0:39:31.51,yin,,0,0,0,,这是创建应用时\N{\fs12}this is this default view controller
Dialogue: 0,0:39:31.54,0:39:33.51,yin,,0,0,0,,自动创建的默认视图控制器\N{\fs12}that got created when I created the app,
Dialogue: 0,0:39:33.52,0:39:34.51,yin,,0,0,0,,在这里添加一个按钮\N{\fs12}so I'm going to create one here.
Dialogue: 0,0:39:34.87,0:39:37.37,yin,,0,0,0,,一个按钮用来显示小辣椒\N{\fs12}We'll create one for the peppers,
Dialogue: 0,0:39:37.95,0:39:40.51,yin,,0,0,0,,或者是其他东西\N{\fs12}and... or whatever those things are,
Dialogue: 0,0:39:40.70,0:39:43.56,yin,,0,0,0,,再添加一个按钮\N{\fs12}and then let's create one for the...
Dialogue: 0,0:39:43.57,0:39:46.54,yin,,0,0,0,,显示第一幅图的花 然后\N{\fs12}what was the first one, a flower, and then,
Dialogue: 0,0:39:46.54,0:39:50.14,yin,,0,0,0,,最后一个是水母\N{\fs12}what was the other thing, it was a jellyfish.
Dialogue: 0,0:39:50.80,0:39:52.23,yin,,0,0,0,,添加好这些按钮后 我希望...\N{\fs12}Okay, so I got these buttons and I want to...
Dialogue: 0,0:39:52.25,0:39:53.45,yin,,0,0,0,,当我点击这些按钮时\N{\fs12}when I click on these buttons,
Dialogue: 0,0:39:53.46,0:39:55.76,yin,,0,0,0,,对应的图像会显示在这边\N{\fs12}I want it to show up here, okay?
Dialogue: 0,0:39:56.33,0:39:59.28,yin,,0,0,0,,我要通过导航控制器来实现\N{\fs12}So, I'm gonna use that by doing a navigation controller
Dialogue: 0,0:39:59.28,0:40:00.70,yin,,0,0,0,,让它进行segue\N{\fs12}and have it segue, okay?
Dialogue: 0,0:40:00.71,0:40:02.67,yin,,0,0,0,,这样我们可以再复习一遍segue\N{\fs12}Just so we can review the segues.
Dialogue: 0,0:40:02.85,0:40:04.95,yin,,0,0,0,,这三个按钮还要一起调整一下\N{\fs12}One thing I want to do all of these is,
Dialogue: 0,0:40:04.95,0:40:07.92,yin,,0,0,0,,让它们对齐\N{\fs12}let's give them some nice things here.
Dialogue: 0,0:40:07.92,0:40:11.13,yin,,0,0,0,,让它们水平居中\N{\fs12}Let's have them, horizontally center that way,
Dialogue: 0,0:40:11.45,0:40:14.41,yin,,0,0,0,,让它居中\N{\fs12}let's have this guy horizontally centered...
Dialogue: 0,0:40:14.57,0:40:16.42,yin,,0,0,0,,这样垂直居中\N{\fs12}vertically centered this way.
Dialogue: 0,0:40:17.45,0:40:20.25,yin,,0,0,0,,从第二个control拖拽到第一个按钮\N{\fs12}Let's control, drag from this guy up this
Dialogue: 0,0:40:20.25,0:40:21.99,yin,,0,0,0,,让它们保持垂直间距\N{\fs12}and keep the vertical spacing,
Dialogue: 0,0:40:22.17,0:40:24.19,yin,,0,0,0,,control拖拽到第三个按钮 设置保持垂直距离\N{\fs12}control, drag this into that vertical space,
Dialogue: 0,0:40:24.20,0:40:24.85,yin,,0,0,0,,都做完之后\N{\fs12}so I do all that,
Dialogue: 0,0:40:24.86,0:40:26.46,yin,,0,0,0,,可以看到出现了黄线\N{\fs12}you can see I have some yellow here,
Dialogue: 0,0:40:26.63,0:40:28.61,yin,,0,0,0,,黄色的约束线 我们把它改好\N{\fs12}some yellow constraints, let's go fix those.
Dialogue: 0,0:40:28.85,0:40:30.96,yin,,0,0,0,,转到左边 点击黄色三角形\N{\fs12}We'll go over here, do this,
Dialogue: 0,0:40:31.09,0:40:33.00,yin,,0,0,0,,点击修复错位按钮\N{\fs12}we'll fix the misplacement there.
Dialogue: 0,0:40:33.09,0:40:35.74,yin,,0,0,0,,改好这里 以及这里\N{\fs12}And fix that one, and we'll fix that one.
Dialogue: 0,0:40:35.96,0:40:36.86,yin,,0,0,0,,这样就好了\N{\fs12}So now they're doing it.
Dialogue: 0,0:40:37.06,0:40:39.81,yin,,0,0,0,,这里正好可以转到右上 选择这项\N{\fs12}This might be a nice chance to go here and select on this
Dialogue: 0,0:40:40.15,0:40:42.21,yin,,0,0,0,,切换到横屏模式\N{\fs12}and go switch over to landscape.
Dialogue: 0,0:40:42.48,0:40:44.29,yin,,0,0,0,,看起来效果不错\N{\fs12}It looks like it's doing something sensible,
Dialogue: 0,0:40:44.31,0:40:44.98,yin,,0,0,0,,很好\N{\fs12}so that's good.
Dialogue: 0,0:40:45.66,0:40:46.99,yin,,0,0,0,,大家明白了吗\N{\fs12}Okay? Everybody got that?
Dialogue: 0,0:40:46.99,0:40:48.96,yin,,0,0,0,,复习一下自动布局的内容\N{\fs12}Just a little review of autolayout there.
Dialogue: 0,0:40:49.87,0:40:51.97,yin,,0,0,0,,我们将它\N{\fs12}Alright, so, let's put this inside
Dialogue: 0,0:40:52.05,0:40:53.65,yin,,0,0,0,,放入导航控制器中\N{\fs12}of a navigation controller,
Dialogue: 0,0:40:53.66,0:40:55.81,yin,,0,0,0,,选择嵌入导航控制器\N{\fs12}so I'm gonna embed in navigation controller,
Dialogue: 0,0:40:56.09,0:40:57.18,yin,,0,0,0,,将它放在了这里\N{\fs12}so that puts that here.
Dialogue: 0,0:40:57.26,0:40:58.02,yin,,0,0,0,,很好\N{\fs12}That's good.
Dialogue: 0,0:40:58.35,0:40:59.56,yin,,0,0,0,,我们在这里加一个标题\N{\fs12}Let's go ahead and put a title in here,
Dialogue: 0,0:40:59.56,0:41:01.70,yin,,0,0,0,,我们叫它Imaginarium\N{\fs12}we'll call this Imaginarium.
Dialogue: 0,0:41:02.89,0:41:04.58,yin,,0,0,0,,还要进行segue跳转\N{\fs12}Now I want to segue,
Dialogue: 0,0:41:04.59,0:41:06.55,yin,,0,0,0,,按下按钮后 跳转到右边这里\N{\fs12}when any of these buttons is pressed to do this,
Dialogue: 0,0:41:06.57,0:41:07.97,yin,,0,0,0,,只要control拖拽就行了\N{\fs12}so I'm just going to control, drag,
Dialogue: 0,0:41:07.98,0:41:10.28,yin,,0,0,0,,对这个按钮进行control拖拽 选择push\N{\fs12}so let's control, drag this one. Push.
Dialogue: 0,0:41:10.69,0:41:12.70,yin,,0,0,0,,对这个按钮进行control拖拽 选择push\N{\fs12}Control, drag this one. Push.
Dialogue: 0,0:41:13.00,0:41:15.20,yin,,0,0,0,,对这个按钮进行control拖拽 选择push\N{\fs12}And control, dray this one. Push.
Dialogue: 0,0:41:15.41,0:41:18.72,yin,,0,0,0,,可以看到这三个segue\N{\fs12}Now, you see I've got these three segues in here,
Dialogue: 0,0:41:18.92,0:41:21.63,yin,,0,0,0,,点击一个 它就会告诉我\N{\fs12}if I click on one, it'll tell me what sent...
Dialogue: 0,0:41:21.64,0:41:23.97,yin,,0,0,0,,什么引发了这个segue跳转\N{\fs12}what, what is causing that segue to happen,
Dialogue: 0,0:41:24.12,0:41:25.29,yin,,0,0,0,,很不错的功能\N{\fs12}which is kind of a nice feature.
Dialogue: 0,0:41:25.94,0:41:28.09,yin,,0,0,0,,这里的标识符要用什么呢\N{\fs12}Now what am I going to use for my identifier for here?
Dialogue: 0,0:41:28.10,0:41:30.15,yin,,0,0,0,,实际上 这里要用点技巧了\N{\fs12}Well actually, I'm gonna be a little bit tricky here,
Dialogue: 0,0:41:30.32,0:41:35.21,yin,,0,0,0,,我要用图片名作为标识符\N{\fs12}I'm gonna use the name of the photo as the identifier,
Dialogue: 0,0:41:35.21,0:41:39.22,yin,,0,0,0,,然后在prepareForSegue中用它来选取\N{\fs12}and then in my prepareForSegue, I will use that to pick
Dialogue: 0,0:41:39.63,0:41:42.34,yin,,0,0,0,,要展示哪幅图片\N{\fs12}which of the three photos I'm gonna show.
Dialogue: 0,0:41:42.44,0:41:43.43,yin,,0,0,0,,这是个示例演示\N{\fs12}So, you know, it's a demo,
Dialogue: 0,0:41:43.44,0:41:45.59,yin,,0,0,0,,尽量少用代码\N{\fs12}so I'm trying to make this as little code as possible,
Dialogue: 0,0:41:45.61,0:41:47.92,yin,,0,0,0,,这就是我的三个segue\N{\fs12}so here's my three things,
Dialogue: 0,0:41:47.92,0:41:49.50,yin,,0,0,0,,对应的标识符是这三个图片名\N{\fs12}they're going to have these three identifiers,
Dialogue: 0,0:41:49.73,0:41:53.02,yin,,0,0,0,,我需要在这里添加prepareForSegue\N{\fs12}and I need to do prepareForSegue in this guy,
Dialogue: 0,0:41:53.18,0:41:54.51,yin,,0,0,0,,我们来做一下\N{\fs12}right, so let's go do that.
Dialogue: 0,0:41:55.64,0:41:56.63,yin,,0,0,0,,这样做\N{\fs12}Let's do it this way,
Dialogue: 0,0:41:56.64,0:41:58.57,yin,,0,0,0,,转到左边的ViewController\N{\fs12}let's go over here to our ViewController.
Dialogue: 0,0:41:59.01,0:41:59.73,yin,,0,0,0,,这些都不需要\N{\fs12}We don't need any of this,
Dialogue: 0,0:41:59.73,0:42:02.06,yin,,0,0,0,,这是我们的通用视图控制器\N{\fs12}this is our generic view controller, on the side there.
Dialogue: 0,0:42:02.29,0:42:04.83,yin,,0,0,0,,所以只需要实现prepareForSegue\N{\fs12}So I only need to implement prepareForSegue,
Dialogue: 0,0:42:05.42,0:42:09.74,yin,,0,0,0,,需要用刚才创建的ImageViewController\N{\fs12}and I'm gonna use the ImageViewController that I just created,
Dialogue: 0,0:42:10.29,0:42:13.01,yin,,0,0,0,,因为它是要segue跳转去的对象\N{\fs12}because this is the thing I'm going to segue to, alright?
Dialogue: 0,0:42:14.07,0:42:15.09,yin,,0,0,0,,所以只需要写\N{\fs12}So all I'm going to do is I'm going to say
Dialogue: 0,0:42:15.09,0:42:17.83,yin,,0,0,0,,if(segue.destinationViewController\N{\fs12}if the segue's destinationViewController
Dialogue: 0,0:42:17.84,0:42:22.16,yin,,0,0,0,,isKindOfClass:[ImageViewController class])\N{\fs12}is kind of class in ImageViewController, okay,
Dialogue: 0,0:42:22.37,0:42:25.30,yin,,0,0,0,,然后我就知道如何进行segue跳转了\N{\fs12}then I know how to segue to that.
Dialogue: 0,0:42:26.51,0:42:29.24,yin,,0,0,0,,还差一个方括号\N{\fs12}So, I, oops, one more square bracket there.
Dialogue: 0,0:42:29.92,0:42:31.78,yin,,0,0,0,,只要在这里创建一个局部变量\N{\fs12}So I'm just gonna create a local variable here,
Dialogue: 0,0:42:31.78,0:42:35.69,yin,,0,0,0,,ImageViewController *ivc=(ImageViewController *)\N{\fs12}ImageViewController ivc equals ImageViewController
Dialogue: 0,0:42:36.01,0:42:37.23,yin,,0,0,0,,segue.destinationViewController\N{\fs12}segue dot destinationViewController,
Dialogue: 0,0:42:37.24,0:42:38.18,yin,,0,0,0,,我知道没问题\N{\fs12}which I know is okay
Dialogue: 0,0:42:38.18,0:42:39.87,yin,,0,0,0,,因为我在这里做了内省\N{\fs12}because I did this introspection right here,
Dialogue: 0,0:42:39.88,0:42:42.72,yin,,0,0,0,,所以我知道这行代码不会出问题\N{\fs12}so I know this line is not gonna cause a problem,
Dialogue: 0,0:42:42.95,0:42:46.76,yin,,0,0,0,,然后是ivc.imageURL\N{\fs12}and then I'm just gonna say ivc dot imageURL, okay,
Dialogue: 0,0:42:46.77,0:42:50.79,yin,,0,0,0,,还记得吗 它是ImageViewController的公有API\N{\fs12}remember this is the public API of our ImageViewController,
Dialogue: 0,0:42:51.33,0:42:53.27,yin,,0,0,0,,这就是prepareForSegue中要做的操作\N{\fs12}okay, and that's what we do when prepare for segues,
Dialogue: 0,0:42:53.28,0:42:56.58,yin,,0,0,0,,调用目标视图控制器的公有API\N{\fs12}we call public API on the destination view controller.
Dialogue: 0,0:42:56.95,0:43:02.58,yin,,0,0,0,,将它设为NSURL URLWithString\N{\fs12}So I'm gonna set that to be NSURL, URLWithString,
Dialogue: 0,0:43:02.77,0:43:06.72,yin,,0,0,0,,我要加一个带格式字符串\N{\fs12}and I'm gonna make a string with a format,
Dialogue: 0,0:43:07.17,0:43:08.21,yin,,0,0,0,,我要做的是\N{\fs12}and what I'm gonna do is
Dialogue: 0,0:43:08.23,0:43:12.47,yin,,0,0,0,,复制粘贴这里的地址\N{\fs12}I'm gonna copy and paste this thing right here,
Dialogue: 0,0:43:12.98,0:43:14.40,yin,,0,0,0,,刚才打开过的苹果网站路径\N{\fs12}that I went to, this Apple thing,
Dialogue: 0,0:43:14.41,0:43:15.48,yin,,0,0,0,,我们复制一下\N{\fs12}so let's copy that.
Dialogue: 0,0:43:16.36,0:43:18.48,yin,,0,0,0,,粘贴到这里\N{\fs12}And paste it in here. Paste.
Dialogue: 0,0:43:19.23,0:43:22.52,yin,,0,0,0,,这里不用photo_1\N{\fs12}But instead of just doing photo one here,
Dialogue: 0,0:43:22.52,0:43:26.28,yin,,0,0,0,,而要用segue的标识符\N{\fs12}I'm going to use the segue's identifier.
Dialogue: 0,0:43:28.52,0:43:30.60,yin,,0,0,0,,为了方便查看效果\N{\fs12}Okay? And just so we can see what's going on,
Dialogue: 0,0:43:30.61,0:43:34.04,yin,,0,0,0,,我还要将这个视图控制器的标题\N{\fs12}I'm also gonna set the title of that view controller
Dialogue: 0,0:43:34.04,0:43:35.70,yin,,0,0,0,,设为segue的标识符\N{\fs12}to be the segue's identifier, as well,
Dialogue: 0,0:43:35.70,0:43:37.47,yin,,0,0,0,,photo_1 photo_2等\N{\fs12}that little photo underbar one, or photo two,
Dialogue: 0,0:43:37.49,0:43:39.72,yin,,0,0,0,,这样就可以在顶部看到是什么图了\N{\fs12}just so we can see at the top what it is.
Dialogue: 0,0:43:40.28,0:43:41.27,yin,,0,0,0,,大家都明白在prepareForSegue这里\N{\fs12}So everyone understand what I'm doing
Dialogue: 0,0:43:41.27,0:43:42.72,yin,,0,0,0,,我做了什么吗\N{\fs12}in prepareForSegue here?
Dialogue: 0,0:43:43.75,0:43:45.64,yin,,0,0,0,,如何为ImageViewController做准备\N{\fs12}How I'm preparing my ImageViewController
Dialogue: 0,0:43:45.64,0:43:48.15,yin,,0,0,0,,让它做目标操作\N{\fs12}to do what it wants to do? Okay?
Dialogue: 0,0:43:48.63,0:43:51.80,yin,,0,0,0,,我们来看看一切是否正常运行\N{\fs12}So, let's see if we got everything working here.
Dialogue: 0,0:43:51.80,0:43:53.26,yin,,0,0,0,,希望我没有落掉什么步骤\N{\fs12}Hopefully I didn't forget anything.
Dialogue: 0,0:43:55.91,0:43:58.25,yin,,0,0,0,,试着让应用在设备上运行\N{\fs12}Try to get it working on our device here,
Dialogue: 0,0:43:58.25,0:43:59.67,yin,,0,0,0,,出来了\N{\fs12}oh, here comes something.
Dialogue: 0,0:44:01.39,0:44:02.84,yin,,0,0,0,,好的 看\N{\fs12}Alright, so, look,
Dialogue: 0,0:44:02.92,0:44:05.63,yin,,0,0,0,,初始是横屏模式\N{\fs12}it's starting off in the landscape mode,
Dialogue: 0,0:44:05.65,0:44:07.69,yin,,0,0,0,,我可以切换到竖屏模式\N{\fs12}I can rotate to either one.
Dialogue: 0,0:44:08.03,0:44:09.65,yin,,0,0,0,,我们来看一下花的图片\N{\fs12}So let's try to take a look at the flower.
Dialogue: 0,0:44:09.88,0:44:12.21,yin,,0,0,0,,确实把花的图片显示出来了\N{\fs12}Now, it, it did show me the flower,
Dialogue: 0,0:44:12.21,0:44:14.51,yin,,0,0,0,,至少左上角显示出来了\N{\fs12}at least the upper corner of it,
Dialogue: 0,0:44:14.51,0:44:18.21,yin,,0,0,0,,但我不能进行滚动缩放 什么都做不了\N{\fs12}but I can't scroll around, I can't zoom, I can't do anything,
Dialogue: 0,0:44:18.49,0:44:19.48,yin,,0,0,0,,可以看一下小辣椒图片\N{\fs12}I could go look at the peppers.
Dialogue: 0,0:44:19.68,0:44:21.81,yin,,0,0,0,,注意 我的UI有点卡\N{\fs12}Notice that my UI is kind of stuck.
Dialogue: 0,0:44:21.98,0:44:24.21,yin,,0,0,0,,点击水母后 我就不能再动了\N{\fs12}When I press jellyfish, ah, now I can't,
Dialogue: 0,0:44:24.36,0:44:25.93,yin,,0,0,0,,不能改变主意\N{\fs12}like I can't change my mind.
Dialogue: 0,0:44:25.93,0:44:29.17,yin,,0,0,0,,选择小辣椒以后 就不能改了\N{\fs12}Once I choose peppers, I can't change my mind.
Dialogue: 0,0:44:29.69,0:44:32.04,yin,,0,0,0,,这是因为执行这个抓取操作时\N{\fs12}And that's because I'm blocking that main queue
Dialogue: 0,0:44:32.11,0:44:33.95,yin,,0,0,0,,会阻塞主队列\N{\fs12}by doing this fetch. Okay?
Dialogue: 0,0:44:33.96,0:44:36.43,yin,,0,0,0,,我们稍后讲一下如何修复这个问题\N{\fs12}So we're gonna see how to fix that a little bit later.
Dialogue: 0,0:44:36.43,0:44:38.40,yin,,0,0,0,,到目前为止都不错\N{\fs12}So, this is good, so far,
Dialogue: 0,0:44:38.66,0:44:39.57,yin,,0,0,0,,但如果能看到这朵花\N{\fs12}but it'd be a lot nicer
Dialogue: 0,0:44:39.57,0:44:41.72,yin,,0,0,0,,就更好了\N{\fs12}if I could take a look at this flower,
Dialogue: 0,0:44:41.73,0:44:42.76,yin,,0,0,0,,滚动查看\N{\fs12}right, scroll around and look at it,
Dialogue: 0,0:44:42.79,0:44:44.59,yin,,0,0,0,,下面我们就来实现一下\N{\fs12}so let's do that next.
Dialogue: 0,0:44:45.95,0:44:48.88,yin,,0,0,0,,实现方法是添加一个滚动视图\N{\fs12}And, we're gonna do that by adding a scroll view.
Dialogue: 0,0:44:49.07,0:44:51.31,yin,,0,0,0,,转到storyboard\N{\fs12}So, I'm just gonna go here to my storyboard,
Dialogue: 0,0:44:51.51,0:44:53.94,yin,,0,0,0,,在这里的图像视图控制器中\N{\fs12}and here, inside my Image View Controller,
Dialogue: 0,0:44:53.94,0:44:55.19,yin,,0,0,0,,这是我的图像视图控制器\N{\fs12}this is my Image View Controller,
Dialogue: 0,0:44:55.42,0:44:57.75,yin,,0,0,0,,这里我要加一个滚动视图\N{\fs12}I'm going to add a scroll view,
Dialogue: 0,0:44:57.94,0:45:00.70,yin,,0,0,0,,方法是转到右下角\N{\fs12}and we do that just by going down here,
Dialogue: 0,0:45:01.09,0:45:02.40,yin,,0,0,0,,添加对象都是从这里\N{\fs12}where we add everything from,
Dialogue: 0,0:45:02.67,0:45:03.84,yin,,0,0,0,,找到滚动视图\N{\fs12}and finding a scroll view
Dialogue: 0,0:45:03.85,0:45:06.73,yin,,0,0,0,,在靠近底部的位置 在这\N{\fs12}and it's down towards the bottom, oh, there it is.
Dialogue: 0,0:45:07.41,0:45:08.17,yin,,0,0,0,,滚动视图\N{\fs12}Okay, scroll view.
Dialogue: 0,0:45:08.17,0:45:09.08,yin,,0,0,0,,将它拖拽出来\N{\fs12}I'm just going to pull it out.
Dialogue: 0,0:45:09.39,0:45:12.03,yin,,0,0,0,,让它填满全屏\N{\fs12}I'm gonna make it match the whole thing,
Dialogue: 0,0:45:12.03,0:45:15.33,yin,,0,0,0,,选择重置为建议约束\N{\fs12}I'm gonna actually do reset to suggested constraints,
Dialogue: 0,0:45:15.33,0:45:16.12,yin,,0,0,0,,我总是希望检查一下\N{\fs12}I always like to see
Dialogue: 0,0:45:16.12,0:45:18.15,yin,,0,0,0,,它是否真的选择了较好的约束\N{\fs12}if it actually picked good constraints,
Dialogue: 0,0:45:18.37,0:45:19.61,yin,,0,0,0,,这里是的\N{\fs12}which it did, okay?
Dialogue: 0,0:45:19.61,0:45:21.81,yin,,0,0,0,,滚动视图会紧贴边缘\N{\fs12}It's gonna have that scroll view stick to the edges,
Dialogue: 0,0:45:21.81,0:45:23.05,yin,,0,0,0,,当旋转\N{\fs12}so as we rotate
Dialogue: 0,0:45:23.07,0:45:25.89,yin,,0,0,0,,或者在不同大小的视图中查看时\N{\fs12}or if we were in a different size viewer, or whatever,
Dialogue: 0,0:45:25.91,0:45:28.03,yin,,0,0,0,,它都会紧贴边缘 我很喜欢\N{\fs12}it would stick to those edges, I really like that,
Dialogue: 0,0:45:29.14,0:45:33.89,yin,,0,0,0,,再添加一个连接它的输出口\N{\fs12}let's also wire up a outlet for that, an outlet for that.
Dialogue: 0,0:45:34.20,0:45:36.63,yin,,0,0,0,,叫它scrollView\N{\fs12}We'll call it scrollView. Alright?
Dialogue: 0,0:45:36.78,0:45:38.96,yin,,0,0,0,,有了它以后就能向滚动视图通信了\N{\fs12}So we have that, so now we can talk to the scroll view,
Dialogue: 0,0:45:39.91,0:45:42.26,yin,,0,0,0,,而想要实现它\N{\fs12}and all I really need to do to make this work is
Dialogue: 0,0:45:42.27,0:45:46.51,yin,,0,0,0,,不用将imageView添加为视图的子视图\N{\fs12}instead of adding the imageView as a subview of the view,
Dialogue: 0,0:45:46.73,0:45:49.62,yin,,0,0,0,,而是将它添加为滚动视图的子视图\N{\fs12}I'm gonna add it as a subview of the scroll view.
Dialogue: 0,0:45:50.20,0:45:51.80,yin,,0,0,0,,当然了 这样不能正常运行\N{\fs12}But, of course, this will not work.
Dialogue: 0,0:45:51.80,0:45:54.06,yin,,0,0,0,,我来证明一下它不能正常运行\N{\fs12}I'll go ahead and prove to you this will not work.
Dialogue: 0,0:45:56.89,0:45:58.15,yin,,0,0,0,,我是故意这样做的\N{\fs12}And I'm doing this intentionally,
Dialogue: 0,0:45:58.17,0:45:58.82,yin,,0,0,0,,我花时间这样做\N{\fs12}and I'm taking time to do this
Dialogue: 0,0:45:58.82,0:46:00.26,yin,,0,0,0,,是因为大家也会犯这个错误\N{\fs12}because you'll make this mistake, as well,
Dialogue: 0,0:46:00.26,0:46:02.25,yin,,0,0,0,,这是个常见错误\N{\fs12}a very common mistake.
Dialogue: 0,0:46:02.53,0:46:04.69,yin,,0,0,0,,看看花朵图片 出来了\N{\fs12}Just looked at the flower, here's the flower.
Dialogue: 0,0:46:04.69,0:46:06.19,yin,,0,0,0,,不行啊\N{\fs12}Oh! It's not working.
Dialogue: 0,0:46:06.42,0:46:07.73,yin,,0,0,0,,它是在滚动视图中\N{\fs12}Okay, it's in that scroll view
Dialogue: 0,0:46:07.74,0:46:09.22,yin,,0,0,0,,我把它放进滚动视图的\N{\fs12}and I know I put it in a scroll view,
Dialogue: 0,0:46:09.23,0:46:10.28,yin,,0,0,0,,怎么会不能用呢\N{\fs12}how come it's not working?
Dialogue: 0,0:46:10.67,0:46:11.83,yin,,0,0,0,,有人想告诉我为什么吗\N{\fs12}Anyone want to tell me why?
Dialogue: 0,0:46:12.20,0:46:13.29,yin,,0,0,0,,[学生回答]\N{\fs12}Student:[inaudible]
Dialogue: 0,0:46:13.29,0:46:15.01,yin,,0,0,0,,contentSize 没错\N{\fs12}ContentSize, exactly.
Dialogue: 0,0:46:15.01,0:46:16.37,yin,,0,0,0,,我们需要设置contentSize\N{\fs12}We have to set the contentSize.
Dialogue: 0,0:46:16.37,0:46:17.68,yin,,0,0,0,,现在滚动视图不知道\N{\fs12}So right now the scroll view doesn't know
Dialogue: 0,0:46:18.03,0:46:19.38,yin,,0,0,0,,在哪里滚动\N{\fs12}where to scroll over, and...
Dialogue: 0,0:46:19.77,0:46:22.36,yin,,0,0,0,,大家可能会问 为什么这里有图片显示\N{\fs12}you might ask why is it even showing anything here,
Dialogue: 0,0:46:22.71,0:46:24.49,yin,,0,0,0,,答案是 我认为滚动视图...\N{\fs12}and the answer is I think scroll view,
Dialogue: 0,0:46:24.71,0:46:26.33,yin,,0,0,0,,将它添加到storyboard中时\N{\fs12}when you add it in a storyboard,
Dialogue: 0,0:46:26.34,0:46:29.15,yin,,0,0,0,,它可能将contentSize设为了其bounds\N{\fs12}it might set its contentSize to be its bounds
Dialogue: 0,0:46:29.16,0:46:30.01,yin,,0,0,0,,或者类似的东西\N{\fs12}or something like that,
Dialogue: 0,0:46:30.01,0:46:31.76,yin,,0,0,0,,所以这只是默认设置\N{\fs12}so it's just some defaulting that's even make it
Dialogue: 0,0:46:31.76,0:46:32.79,yin,,0,0,0,,让我们可以看到里面的内容\N{\fs12}so we see anything there.
Dialogue: 0,0:46:33.73,0:46:35.53,yin,,0,0,0,,我们回到这里 解决这个问题\N{\fs12}Okay, so let's go back here and fix that.
Dialogue: 0,0:46:35.53,0:46:38.26,yin,,0,0,0,,那我们要在哪里设置contentSize呢\N{\fs12}So where do we want to set the contentSize then?
Dialogue: 0,0:46:38.94,0:46:42.30,yin,,0,0,0,,扩大点空间 方便大家看到全部代码\N{\fs12}And, let's make it so we can see all this code. All right?
Dialogue: 0,0:46:43.24,0:46:45.77,yin,,0,0,0,,要设置contentSize\N{\fs12}The contentSize, for sure we want to set,
Dialogue: 0,0:46:45.77,0:46:49.22,yin,,0,0,0,,只要修改了image 我们就要设置contentSize\N{\fs12}anytime we change the image, we want to set the contentSize,
Dialogue: 0,0:46:49.22,0:46:51.26,yin,,0,0,0,,这毫无疑问 我们来做一下\N{\fs12}there's no doubt about that, so let's do this,
Dialogue: 0,0:46:51.26,0:46:54.88,yin,,0,0,0,,self.scrollView.contentSize\N{\fs12}self dot scrollView dot contentSize,
Dialogue: 0,0:46:55.46,0:46:56.25,yin,,0,0,0,,打错了 是contentSize\N{\fs12}oops, size,
Dialogue: 0,0:46:57.03,0:47:00.87,yin,,0,0,0,,=self.image.size\N{\fs12}equals self dot image dot size.
Dialogue: 0,0:47:01.36,0:47:04.83,yin,,0,0,0,,这行代码可能会出问题\N{\fs12}Okay? Now, this line of code could cause trouble
Dialogue: 0,0:47:05.14,0:47:07.84,yin,,0,0,0,,如果self.image为nil的话\N{\fs12}if self dot image is nil,
Dialogue: 0,0:47:08.69,0:47:11.32,yin,,0,0,0,,因为我说过 如果你有一个方法\N{\fs12}because I told you that if you have a method,
Dialogue: 0,0:47:11.45,0:47:13.52,yin,,0,0,0,,这只是image的getter\N{\fs12}this is just a getter of the image,
Dialogue: 0,0:47:13.97,0:47:17.18,yin,,0,0,0,,返回一个结构体 你将它发给nil\N{\fs12}that returns a struct, and you send it to nil,
Dialogue: 0,0:47:17.18,0:47:18.60,yin,,0,0,0,,就会得到未定义的结果\N{\fs12}you'll get undefined results.
Dialogue: 0,0:47:18.79,0:47:19.65,yin,,0,0,0,,这很不好\N{\fs12}So this is bad.
Dialogue: 0,0:47:19.94,0:47:21.41,yin,,0,0,0,,我们来避免这种情况发生\N{\fs12}So let's protect against that,
Dialogue: 0,0:47:21.42,0:47:24.47,yin,,0,0,0,,self.image ?\N{\fs12}self dot image, question mark,
Dialogue: 0,0:47:24.55,0:47:25.80,yin,,0,0,0,,然后用size\N{\fs12}then we'll use the size,
Dialogue: 0,0:47:25.96,0:47:29.77,yin,,0,0,0,,否则 我们用CGSizeZero 即(0,0)\N{\fs12}otherwise, we'll use CGSizeZero, which is 0 by 0.
Dialogue: 0,0:47:30.40,0:47:32.85,yin,,0,0,0,,这样可以正常运行\N{\fs12}Okay? Now, this will work,
Dialogue: 0,0:47:33.02,0:47:34.64,yin,,0,0,0,,但实际上 还有一个地方\N{\fs12}but there's actually one other place
Dialogue: 0,0:47:34.65,0:47:35.78,yin,,0,0,0,,需要这行代码\N{\fs12}that we need to put this.
Dialogue: 0,0:47:36.31,0:47:41.13,yin,,0,0,0,,大家可能会觉得惊讶 就是在setScrollView中\N{\fs12}And that, maybe surprisingly, is in setScrollView.
Dialogue: 0,0:47:41.36,0:47:45.42,yin,,0,0,0,,也就是这个输出口的setter\N{\fs12}In other words, in the setter for this outlet,
Dialogue: 0,0:47:45.72,0:47:47.22,yin,,0,0,0,,这里的这个scrollView输出口\N{\fs12}this scrollView outlet right here,
Dialogue: 0,0:47:47.23,0:47:48.41,yin,,0,0,0,,它只是个输出口\N{\fs12}it's just an outlet.
Dialogue: 0,0:47:49.19,0:47:51.39,yin,,0,0,0,,_scrollView=scrollView\N{\fs12}We want... equals, scrollView,
Dialogue: 0,0:47:51.40,0:47:55.01,yin,,0,0,0,,要确保两行代码一致\N{\fs12}we want to make sure that we do this exact same line of code,
Dialogue: 0,0:47:55.02,0:47:56.10,yin,,0,0,0,,为什么呢\N{\fs12}and why is that?
Dialogue: 0,0:47:56.18,0:48:00.92,yin,,0,0,0,,因为这个scrollView属性\N{\fs12}Well, the reason for that is this scrollView property
Dialogue: 0,0:48:00.98,0:48:04.79,yin,,0,0,0,,可能会在这个方法执行后被设置\N{\fs12}might get set after this happens.
Dialogue: 0,0:48:05.58,0:48:08.35,yin,,0,0,0,,特别是prepareForSegue\N{\fs12}Specifically, prepareForSegue, right,
Dialogue: 0,0:48:08.36,0:48:11.02,yin,,0,0,0,,prepareForSegue是在输出口未设好前执行的\N{\fs12}prepareForSegu happens before your outlets get set,
Dialogue: 0,0:48:12.11,0:48:13.01,yin,,0,0,0,,明白吗\N{\fs12}make sense?
Dialogue: 0,0:48:13.60,0:48:18.30,yin,,0,0,0,,setImage会因为setImageURL而执行\N{\fs12}So this setImage is gonna be happening because of this setImageURL
Dialogue: 0,0:48:18.32,0:48:21.33,yin,,0,0,0,,而setImageURL是在prepareForSegue被执行的\N{\fs12}which happens in the prepareForSegue
Dialogue: 0,0:48:21.47,0:48:23.80,yin,,0,0,0,,滚动视图这时还没建好\N{\fs12}and so the scroll view is not even set up at that time,
Dialogue: 0,0:48:23.80,0:48:27.83,yin,,0,0,0,,所以在这里执行时 它还是nil\N{\fs12}so this is gonna be nil, at the time that is executed.
Dialogue: 0,0:48:28.81,0:48:29.91,yin,,0,0,0,,大家明白吗\N{\fs12}Okay? Everyone understand that?
Dialogue: 0,0:48:31.06,0:48:33.54,yin,,0,0,0,,不明白吗 明白就点头\N{\fs12}No? Nod your head if you understand.
Dialogue: 0,0:48:34.96,0:48:36.04,yin,,0,0,0,,人数不多\N{\fs12}Not too many of you.
Dialogue: 0,0:48:36.56,0:48:37.49,yin,,0,0,0,,也许大家需要\N{\fs12}Okay, well you might have to think
Dialogue: 0,0:48:37.49,0:48:39.37,yin,,0,0,0,,再思考一下\N{\fs12}about that one a little bit, okay?
Dialogue: 0,0:48:39.84,0:48:43.50,yin,,0,0,0,,只要理解 当prepareForSegue为你做准备时\N{\fs12}Just understand that your outlets are not send... are not set
Dialogue: 0,0:48:43.70,0:48:47.19,yin,,0,0,0,,你的输出口还没有建好\N{\fs12}when prepareForSegue is preparing you, okay?
Dialogue: 0,0:48:47.42,0:48:50.24,yin,,0,0,0,,prepareForSegue中会设置这个imageURL\N{\fs12}So prepareForSegue is setting this imageURL,
Dialogue: 0,0:48:50.68,0:48:51.92,yin,,0,0,0,,因而执行这个方法\N{\fs12}which is happening this,
Dialogue: 0,0:48:52.10,0:48:53.24,yin,,0,0,0,,执行这行代码\N{\fs12}which is causing this,
Dialogue: 0,0:48:53.59,0:48:55.06,yin,,0,0,0,,然后会转到下面这里来\N{\fs12}which is going down to here,
Dialogue: 0,0:48:55.18,0:48:58.06,yin,,0,0,0,,试图执行这一行 但它是nil\N{\fs12}which is trying to do this, but this is nil,
Dialogue: 0,0:48:59.09,0:49:00.21,yin,,0,0,0,,所以这行什么都不会执行\N{\fs12}so this line will do nothing.
Dialogue: 0,0:49:00.98,0:49:02.65,yin,,0,0,0,,因为这里是向nil发送消息\N{\fs12}Because we're sending a message to nil here,
Dialogue: 0,0:49:02.70,0:49:03.61,yin,,0,0,0,,所以它什么都不会做\N{\fs12}so it just does nothing.
Dialogue: 0,0:49:04.27,0:49:06.91,yin,,0,0,0,,稍后当这个输出口建好之后\N{\fs12}So later when this outlet comes along and get set,
Dialogue: 0,0:49:07.21,0:49:08.85,yin,,0,0,0,,这时如果我们有一幅图像\N{\fs12}then if we have an image,
Dialogue: 0,0:49:08.92,0:49:11.23,yin,,0,0,0,,要确保设置了contentSize\N{\fs12}we want to make sure that we set our contentSize, okay?
Dialogue: 0,0:49:12.52,0:49:14.38,yin,,0,0,0,,大家可以再思考一下\N{\fs12}Alright, so, you can cogitate on that.
Dialogue: 0,0:49:15.55,0:49:18.99,yin,,0,0,0,,与此同时 我们运行一下\N{\fs12}Meanwhile, let's run this,
Dialogue: 0,0:49:19.66,0:49:20.91,yin,,0,0,0,,希望现在可以正常运行了\N{\fs12}and hopefully now it'll work.
Dialogue: 0,0:49:22.21,0:49:23.29,yin,,0,0,0,,查看花朵图像\N{\fs12}So we'll look at the flower.
Dialogue: 0,0:49:24.33,0:49:25.55,yin,,0,0,0,,起作用了\N{\fs12}And oh it's working!
Dialogue: 0,0:49:25.55,0:49:26.96,yin,,0,0,0,,花朵出来了\N{\fs12}Okay. So there's our flower,
Dialogue: 0,0:49:27.00,0:49:29.45,yin,,0,0,0,,但是不太容易看清 因为不能缩放\N{\fs12}it's a little hard to see because we can't zoom in.
Dialogue: 0,0:49:29.64,0:49:32.41,yin,,0,0,0,,如果能缩小就好了\N{\fs12}Alright? It'd be nice to be able to zoom in on this,
Dialogue: 0,0:49:32.51,0:49:35.25,yin,,0,0,0,,小辣椒图片也是一样 它好看一点\N{\fs12}same with the peppers, the peppers, a little nicer to look at,
Dialogue: 0,0:49:35.26,0:49:37.33,yin,,0,0,0,,也不太好看\N{\fs12}this, that's not so nice to look at, but,
Dialogue: 0,0:49:38.07,0:49:39.55,yin,,0,0,0,,可以看到小辣椒在这里\N{\fs12}there you can look at the peppers over here.
Dialogue: 0,0:49:39.79,0:49:42.12,yin,,0,0,0,,这些图都太大了 显然我们需要缩小\N{\fs12}Okay, so these are too big, obviously we want to zoom in,
Dialogue: 0,0:49:42.46,0:49:43.71,yin,,0,0,0,,如何缩小呢\N{\fs12}so how are we going to zoom in?
Dialogue: 0,0:49:44.30,0:49:45.39,yin,,0,0,0,,我们来做一下\N{\fs12}Let's do that.
Dialogue: 0,0:49:45.65,0:49:47.82,yin,,0,0,0,,实现缩小操作非常简单\N{\fs12}Zooming in, really simple,
Dialogue: 0,0:49:47.83,0:49:50.37,yin,,0,0,0,,还记得我说过只要两步吗\N{\fs12}remember I said you only need to do two things, okay?
Dialogue: 0,0:49:50.55,0:49:51.78,yin,,0,0,0,,首先是需要设置\N{\fs12}One is you got to set
Dialogue: 0,0:49:51.78,0:49:55.16,yin,,0,0,0,,滚动视图的最大最小缩放比例\N{\fs12}the scroll view's minimum and maximum zoom scale,
Dialogue: 0,0:49:55.17,0:49:56.56,yin,,0,0,0,,我们让它缩小到...\N{\fs12}so we'll let it zoom into...
Dialogue: 0,0:49:56.56,0:50:01.32,yin,,0,0,0,,图像实际大小的20%\N{\fs12}let's say 20 percent, of the size of this image, or zoom out.
Dialogue: 0,0:50:01.33,0:50:05.51,yin,,0,0,0,,最大缩放比例设为两倍\N{\fs12}And then, we'll have the maximum zoom scale be two times.
Dialogue: 0,0:50:05.71,0:50:09.88,yin,,0,0,0,,图像不允许放大超过两倍\N{\fs12}Okay? So, we won't allow the image to get any bigger
Dialogue: 0,0:50:09.88,0:50:12.64,yin,,0,0,0,,最多可以缩小到20%\N{\fs12}than twice as big and we'll zoom down to 20 percent.
Dialogue: 0,0:50:12.98,0:50:15.60,yin,,0,0,0,,除此之外 另一个操作是需要\N{\fs12}And the other thing we need to do besides setting those is
Dialogue: 0,0:50:15.60,0:50:17.82,yin,,0,0,0,,设置滚动视图的委托\N{\fs12}to set the scroll view's delegate
Dialogue: 0,0:50:17.82,0:50:19.18,yin,,0,0,0,,实现另一个方法\N{\fs12}and implement that other method.
Dialogue: 0,0:50:19.37,0:50:21.99,yin,,0,0,0,,我要将滚动视图的delegat设为它自己\N{\fs12}So I'm gonna set the scroll view's delegate to self.
Dialogue: 0,0:50:22.45,0:50:22.85,yin,,0,0,0,,看到了吗\N{\fs12}Okay?
Dialogue: 0,0:50:23.47,0:50:24.69,yin,,0,0,0,,这触发了一个警告\N{\fs12}This causes a warning.
Dialogue: 0,0:50:25.23,0:50:26.98,yin,,0,0,0,,看到那个黄色小三角形了吗\N{\fs12}You see that yellow triangle?
Dialogue: 0,0:50:27.57,0:50:28.88,yin,,0,0,0,,在我点击它之前\N{\fs12}Why do you think there's a warning here
Dialogue: 0,0:50:28.89,0:50:30.05,yin,,0,0,0,,有谁能说说为什么这里会出现一个警告\N{\fs12}before I clicked on it, anyone?
Dialogue: 0,0:50:30.56,0:50:30.87,yin,,0,0,0,,请说\N{\fs12}Yeah?
Dialogue: 0,0:50:31.12,0:50:36.02,yin,,0,0,0,,[学生回答]\N{\fs12}Student:[inaudible]
Dialogue: 0,0:50:36.04,0:50:38.97,yin,,0,0,0,,没错 但是有一个间接的步骤\N{\fs12}Yes. So the, that's, yes, but there's an indirect step,
Dialogue: 0,0:50:38.97,0:50:41.43,yin,,0,0,0,,这个警告的意思略有不同\N{\fs12}and this warning is actually telling me something slightly different,
Dialogue: 0,0:50:42.30,0:50:44.64,yin,,0,0,0,,是过程中的消息\N{\fs12}but it, it's telling me something on the way
Dialogue: 0,0:50:44.64,0:50:45.40,yin,,0,0,0,,还没到你说的那一步\N{\fs12}to exactly what you're saying,
Dialogue: 0,0:50:45.41,0:50:47.48,yin,,0,0,0,,我们是要实现viewDidZoom方法\N{\fs12}which is we got to implement that viewDidZoom thing.
Dialogue: 0,0:50:47.60,0:50:49.53,yin,,0,0,0,,但这个警告并不是这个意思\N{\fs12}But that's not what this warning is warning us about.
Dialogue: 0,0:50:49.79,0:50:51.41,yin,,0,0,0,,这个警告是说\N{\fs12}This warning is saying that
Dialogue: 0,0:50:51.42,0:50:54.30,yin,,0,0,0,,你将委托赋给了一个对象\N{\fs12}you are assigning this delegate to an object
Dialogue: 0,0:50:54.36,0:50:58.00,yin,,0,0,0,,但它没有实现滚动视图委托协议\N{\fs12}that does not implement the scroll view delegate protocol, okay?
Dialogue: 0,0:50:58.30,0:51:00.82,yin,,0,0,0,,不是实现方法\N{\fs12}Now that's not implementing the methods,
Dialogue: 0,0:51:01.05,0:51:04.12,yin,,0,0,0,,是声明自己实现了这些方法\N{\fs12}that's declaring that it does it.
Dialogue: 0,0:51:04.54,0:51:05.67,yin,,0,0,0,,就是上面这里\N{\fs12}That's this up here.
Dialogue: 0,0:51:06.19,0:51:09.35,yin,,0,0,0,,这就是警告的内容\N{\fs12}Okay? This is what it's complaining about,
Dialogue: 0,0:51:09.46,0:51:12.02,yin,,0,0,0,,你没有声明你自己\N{\fs12}is that you don't declare self,
Dialogue: 0,0:51:12.05,0:51:13.36,yin,,0,0,0,,也就是这个ImageViewController\N{\fs12}which is this image controller,
Dialogue: 0,0:51:13.71,0:51:16.36,yin,,0,0,0,,实现委托协议\N{\fs12}to implement the delegate protocol, okay?
Dialogue: 0,0:51:16.66,0:51:18.39,yin,,0,0,0,,还记得委托协议吗 有两个步骤\N{\fs12}So remember the delegate protocol, there's two things.
Dialogue: 0,0:51:18.39,0:51:20.13,yin,,0,0,0,,首先 声明你实现了\N{\fs12}One, they're saying that you do it
Dialogue: 0,0:51:20.26,0:51:21.90,yin,,0,0,0,,然后实现它\N{\fs12}and then number two, doing it.
Dialogue: 0,0:51:22.11,0:51:24.34,yin,,0,0,0,,声明的部分\N{\fs12}Okay? So it's the saying that you do it
Dialogue: 0,0:51:24.34,0:51:25.44,yin,,0,0,0,,就是警告缺少的内容\N{\fs12}that it's complaining about,
Dialogue: 0,0:51:25.44,0:51:26.44,yin,,0,0,0,,现在没有警告了\N{\fs12}and now it's not complaining.
Dialogue: 0,0:51:26.62,0:51:29.19,yin,,0,0,0,,即便我并没有真正实现任何一个方法\N{\fs12}Even though I don't actually implement any of those methods.
Dialogue: 0,0:51:29.43,0:51:31.33,yin,,0,0,0,,为什么没有警告呢\N{\fs12}Okay? Why is that not complaining?
Dialogue: 0,0:51:31.49,0:51:32.65,yin,,0,0,0,,因为那些方法都是可选的\N{\fs12}Because they're all optional.
Dialogue: 0,0:51:32.95,0:51:34.77,yin,,0,0,0,,如果其中某个方法是必需的\N{\fs12}If any of those methods would required,
Dialogue: 0,0:51:35.24,0:51:36.84,yin,,0,0,0,,这里就会出现警告\N{\fs12}then it would be complaining here,
Dialogue: 0,0:51:36.84,0:51:39.01,yin,,0,0,0,,会提示 你没有实现这个必需方法\N{\fs12}it would be saying you don't implement this required method.
Dialogue: 0,0:51:39.40,0:51:41.99,yin,,0,0,0,,但因为都是可选的 所以这里没有警告\N{\fs12}Okay? But since they're all optional, it doesn't do it.
Dialogue: 0,0:51:41.99,0:51:45.09,yin,,0,0,0,,但并不是真的不需要 因为我们想要实现缩放\N{\fs12}But, it's not really optional for us because we want zooming,
Dialogue: 0,0:51:45.09,0:51:47.02,yin,,0,0,0,,但缩放方法本身是可选的\N{\fs12}it's only optional because zooming is optional,
Dialogue: 0,0:51:47.28,0:51:51.77,yin,,0,0,0,,我们需要在这里声明滚动视图中要缩放的视图\N{\fs12}but we have to specify here the view for zooming in scroll view.
Dialogue: 0,0:51:52.32,0:51:57.17,yin,,0,0,0,,我们需要返回要缩放的目标子视图\N{\fs12}Okay? We have to return which of the subviews we want to zoom,
Dialogue: 0,0:51:57.18,0:51:59.53,yin,,0,0,0,,这里只有一个 就是imageView\N{\fs12}and we only have one, which is in our imageView.
Dialogue: 0,0:52:00.19,0:52:01.08,yin,,0,0,0,,我们返回它\N{\fs12}So we're going to return that
Dialogue: 0,0:52:01.10,0:52:02.73,yin,,0,0,0,,这样当滚动视图中发生缩放时\N{\fs12}and it's gonna cause the imageView to be zoomed
Dialogue: 0,0:52:02.73,0:52:04.29,yin,,0,0,0,,imageView就会被缩放\N{\fs12}when zooming happens in the scroll view.
Dialogue: 0,0:52:04.57,0:52:06.08,yin,,0,0,0,,如果这里返回nil\N{\fs12}If we returned nil here,
Dialogue: 0,0:52:06.30,0:52:08.30,yin,,0,0,0,,那么控制缩放的捏合手势\N{\fs12}then that pan, the zooming rather, pinching,
Dialogue: 0,0:52:08.31,0:52:09.67,yin,,0,0,0,,在滚动视图中不会有任何效果\N{\fs12}would do nothing in the scroll view.
Dialogue: 0,0:52:10.22,0:52:14.32,yin,,0,0,0,,缩放效果 即修改transform值\N{\fs12}Okay? It's only going to zoom, I.E. Change the transform,
Dialogue: 0,0:52:14.46,0:52:18.03,yin,,0,0,0,,只针对这里指定的返回子视图\N{\fs12}of whatever subview you specify by returning here, okay?
Dialogue: 0,0:52:18.39,0:52:19.24,yin,,0,0,0,,我们来运行试试\N{\fs12}So let's try this.
Dialogue: 0,0:52:21.57,0:52:22.77,yin,,0,0,0,,看看能否缩小\N{\fs12}See if we can zoom in.
Dialogue: 0,0:52:28.14,0:52:29.21,yin,,0,0,0,,打开花朵图片\N{\fs12}Alright, so we go to the flower.
Dialogue: 0,0:52:30.42,0:52:32.69,yin,,0,0,0,,花朵出来了 试试缩小 可以了\N{\fs12}There's our flower, let's try zooming in, indeed we can.
Dialogue: 0,0:52:33.10,0:52:34.76,yin,,0,0,0,,也可以放大\N{\fs12}Okay, and zoom out.
Dialogue: 0,0:52:36.01,0:52:38.97,yin,,0,0,0,,我没有设置 所以它不能缩小到\N{\fs12}Now, I haven't set it so that it zooms small enough
Dialogue: 0,0:52:39.51,0:52:41.39,yin,,0,0,0,,小于滚动视图的大小\N{\fs12}to be smaller than the scroll view,
Dialogue: 0,0:52:41.56,0:52:42.79,yin,,0,0,0,,现在是因为我按住它了\N{\fs12}but, because I'm holding it right here,
Dialogue: 0,0:52:42.80,0:52:44.24,yin,,0,0,0,,如果我松手 它就会放大\N{\fs12}if I let it go, it zooms out,
Dialogue: 0,0:52:44.33,0:52:46.89,yin,,0,0,0,,如果允许这样缩小\N{\fs12}but if I allowed that, then what would happen is
Dialogue: 0,0:52:46.91,0:52:48.54,yin,,0,0,0,,底部就会出现这样的白色边框\N{\fs12}you'd have this white border at the bottom.
Dialogue: 0,0:52:48.94,0:52:49.49,yin,,0,0,0,,看到了吗\N{\fs12}You see that?
Dialogue: 0,0:52:49.80,0:52:50.71,yin,,0,0,0,,白色边框\N{\fs12}That white border?
Dialogue: 0,0:52:50.71,0:52:53.68,yin,,0,0,0,,这是滚动视图的背景色透出来了\N{\fs12}That's the background color of the scroll view showing through.
Dialogue: 0,0:52:54.28,0:52:57.79,yin,,0,0,0,,我还可以放大 可以放到很大\N{\fs12}Okay? And I can zoom in, I can zoom even in so far
Dialogue: 0,0:52:57.79,0:52:59.21,yin,,0,0,0,,甚至显示得有点像素化了\N{\fs12}that it starts to get a little pixelated,
Dialogue: 0,0:52:59.23,0:53:00.37,yin,,0,0,0,,因为我放得太大\N{\fs12}because I'm zooming in
Dialogue: 0,0:53:00.39,0:53:03.35,yin,,0,0,0,,超过了图片能够显示的像素\N{\fs12}more than the picture even has pixels to show me.
Dialogue: 0,0:53:03.35,0:53:04.37,yin,,0,0,0,,所以可以看到中间这里\N{\fs12}So right in the middle there,
Dialogue: 0,0:53:04.37,0:53:05.52,yin,,0,0,0,,出现了阶梯状图像\N{\fs12}you can see the little stair step.
Dialogue: 0,0:53:06.39,0:53:08.34,yin,,0,0,0,,明白吗\N{\fs12}Okay? Make sense?
Dialogue: 0,0:53:08.34,0:53:09.86,yin,,0,0,0,,可以看看另一幅图 小辣椒图\N{\fs12}We can look at another one, the peppers.
Dialogue: 0,0:53:11.37,0:53:14.80,yin,,0,0,0,,小辣椒出来了 缩小\N{\fs12}Okay, there's the peppers, let's zoom down. Okay?
Dialogue: 0,0:53:16.37,0:53:16.66,yin,,0,0,0,,明白了吗\N{\fs12}Make sense?
Dialogue: 0,0:53:16.67,0:53:18.41,yin,,0,0,0,,进展真不错\N{\fs12}So, we're making really good progress here.
Dialogue: 0,0:53:18.59,0:53:20.97,yin,,0,0,0,,还有个问题是 如果点击花朵\N{\fs12}One problem though is if I say flowers,
Dialogue: 0,0:53:20.98,0:53:24.80,yin,,0,0,0,,UI又被卡住了 怎么回事\N{\fs12}and then oh, again, my UI is blocked, what's going on?
Dialogue: 0,0:53:24.80,0:53:26.14,yin,,0,0,0,,真的要解决这个问题\N{\fs12}I really got to fix that.
Dialogue: 0,0:53:26.14,0:53:29.38,yin,,0,0,0,,我们不希望选中一个时 UI被卡住\N{\fs12}Okay? We don't want our UI to be blocked when we pick one.
Dialogue: 0,0:53:29.38,0:53:31.38,yin,,0,0,0,,比如说 我选择了水母\N{\fs12}For example, if I pick jellyfish, I might,
Dialogue: 0,0:53:31.56,0:53:32.83,yin,,0,0,0,,如果很长时间都不出来\N{\fs12}if it's taking a long time,
Dialogue: 0,0:53:32.93,0:53:35.06,yin,,0,0,0,,我可能就改变主意了 想选花朵\N{\fs12}I might want to change my mind and then go pick flower.
Dialogue: 0,0:53:35.39,0:53:38.15,yin,,0,0,0,,我希望可以在UI中进行任意操作\N{\fs12}Okay? So I want to be able to do stuff in my UI
Dialogue: 0,0:53:38.94,0:53:41.18,yin,,0,0,0,,不因为网络调用而被卡住\N{\fs12}without it being blocked by this network call.
Dialogue: 0,0:53:41.83,0:53:44.12,yin,,0,0,0,,我们来修改一下\N{\fs12}Okay? So, let's fix that.
Dialogue: 0,0:53:44.47,0:53:47.67,yin,,0,0,0,,方法就是让这里的URL抓取操作\N{\fs12}And the way we're gonna do that is by doing that URL fetch,
Dialogue: 0,0:53:47.67,0:53:50.93,yin,,0,0,0,,在另一个线程执行\N{\fs12}this one right here, in another thread,
Dialogue: 0,0:53:51.01,0:53:52.46,yin,,0,0,0,,在另一个队列中\N{\fs12}okay, on a different queue.
Dialogue: 0,0:53:53.14,0:53:55.91,yin,,0,0,0,,我们要怎么做呢\N{\fs12}And, so how are we going to do that?
Dialogue: 0,0:53:56.18,0:53:57.08,yin,,0,0,0,,非常简单\N{\fs12}Really, really simply.
Dialogue: 0,0:53:57.08,0:53:58.94,yin,,0,0,0,,只要删掉这行代码\N{\fs12}I'm just gonna get rid of this line of code,
Dialogue: 0,0:53:59.32,0:54:00.78,yin,,0,0,0,,把它注释掉\N{\fs12}comment it out actually,
Dialogue: 0,0:54:00.95,0:54:05.20,yin,,0,0,0,,写上self startDownloadingImage\N{\fs12}and I'm gonna say self startDownloadingImage.
Dialogue: 0,0:54:05.75,0:54:08.13,yin,,0,0,0,,然后实现这个方法\N{\fs12}Okay? And then we're gonna implement this method,
Dialogue: 0,0:54:08.96,0:54:11.47,yin,,0,0,0,,startDownloadingImage\N{\fs12}startDownloadingImage.
Dialogue: 0,0:54:11.93,0:54:13.84,yin,,0,0,0,,这个方法只需要\N{\fs12}Okay? And all this thing needs to do
Dialogue: 0,0:54:13.98,0:54:16.09,yin,,0,0,0,,开始下载\N{\fs12}is start the download happening,
Dialogue: 0,0:54:16.10,0:54:17.55,yin,,0,0,0,,会在另一个线程中执行\N{\fs12}it's going to happen in another thread,
Dialogue: 0,0:54:17.56,0:54:19.74,yin,,0,0,0,,它会通过完成处理程序进行回调\N{\fs12}it's gonna call us back with that completion handler
Dialogue: 0,0:54:19.75,0:54:20.59,yin,,0,0,0,,回调之后\N{\fs12}and when it does,
Dialogue: 0,0:54:20.68,0:54:24.32,yin,,0,0,0,,就要执行这行代码\N{\fs12}I'm gonna execute this line of code, basically, okay,
Dialogue: 0,0:54:24.38,0:54:29.88,yin,,0,0,0,,这部分会使用URL下载任务\N{\fs12}but this part I'm gonna do using the URL download task
Dialogue: 0,0:54:29.88,0:54:31.52,yin,,0,0,0,,幻灯片中见过的\N{\fs12}that we saw in the slides. Okay?
Dialogue: 0,0:54:31.89,0:54:34.78,yin,,0,0,0,,我们来讲一下这个startDownloadingImage\N{\fs12}So let's, let's talk about this startDownloadingImage
Dialogue: 0,0:54:34.86,0:54:36.61,yin,,0,0,0,,以及这个方法是怎样的\N{\fs12}and what this method needs to look like.
Dialogue: 0,0:54:37.01,0:54:40.79,yin,,0,0,0,,首先 我要将image设为nil\N{\fs12}The first thing is I'm gonna set image to nil, okay?
Dialogue: 0,0:54:41.62,0:54:44.01,yin,,0,0,0,,要求我下载一幅新图像\N{\fs12}I've been asked to start downloading a new image,
Dialogue: 0,0:54:44.13,0:54:45.15,yin,,0,0,0,,在下载时\N{\fs12}while it's downloading,
Dialogue: 0,0:54:45.16,0:54:48.77,yin,,0,0,0,,我要清除当前图像视图中的内容\N{\fs12}I'm gonna clear whatever's in my image view currently.
Dialogue: 0,0:54:49.37,0:54:51.30,yin,,0,0,0,,所以只要将它清空\N{\fs12}Okay? So I'm just gonna blank that out.
Dialogue: 0,0:54:51.53,0:54:53.86,yin,,0,0,0,,所以首先要将image设为nil\N{\fs12}So I'm gonna set my image to start off to be nil.
Dialogue: 0,0:54:54.63,0:54:58.74,yin,,0,0,0,,然后 只要有能够尝试的imageURL\N{\fs12}And then, as long as I have an imageURL to go try,
Dialogue: 0,0:54:59.27,0:55:01.00,yin,,0,0,0,,我们就会尝试下载\N{\fs12}then we'll try doing a download,
Dialogue: 0,0:55:01.17,0:55:02.83,yin,,0,0,0,,和幻灯片中讲到的一样\N{\fs12}and as we saw in the slides,
Dialogue: 0,0:55:03.45,0:55:05.46,yin,,0,0,0,,先把这里扩大一点\N{\fs12}let's make a lot of space here, oops.
Dialogue: 0,0:55:07.42,0:55:10.03,yin,,0,0,0,,我们要将这个URL做成请求\N{\fs12}We need to make this URL request, okay?
Dialogue: 0,0:55:10.77,0:55:11.89,yin,,0,0,0,,叫它request\N{\fs12}We'll call it request,
Dialogue: 0,0:55:12.08,0:55:16.63,yin,,0,0,0,,只要用NSURLRequest requestWithURL\N{\fs12}and that's just NSURLRequest, requestWithURL,
Dialogue: 0,0:55:16.74,0:55:18.17,yin,,0,0,0,,目标URL是什么呢\N{\fs12}and what's the URL we want?
Dialogue: 0,0:55:18.23,0:55:20.89,yin,,0,0,0,,self.imageURL\N{\fs12}Self dot imageURL. Okay?
Dialogue: 0,0:55:20.91,0:55:24.64,yin,,0,0,0,,这样就创建了一个获取该imageURL的请求\N{\fs12}So this creates a request to go get that imageURL,
Dialogue: 0,0:55:24.64,0:55:26.01,yin,,0,0,0,,现在我们需要创建一个任务\N{\fs12}now we have to create a task,
Dialogue: 0,0:55:26.02,0:55:28.47,yin,,0,0,0,,一个后台任务来执行这个请求\N{\fs12}a background task to go do that request.
Dialogue: 0,0:55:28.97,0:55:31.81,yin,,0,0,0,,我们用URLSessionConfiguration\N{\fs12}So let's do this URLSessionConfiguration thing,
Dialogue: 0,0:55:31.81,0:55:34.27,yin,,0,0,0,,在讲幻灯片时只大概提了一下\N{\fs12}which I kind of hand waved in the slides,
Dialogue: 0,0:55:34.68,0:55:37.11,yin,,0,0,0,,configuration配置部分\N{\fs12}but the configuration, really,
Dialogue: 0,0:55:37.12,0:55:40.31,yin,,0,0,0,,有三种配置可用\N{\fs12}there's three different kinds of configurations you can have,
Dialogue: 0,0:55:40.81,0:55:41.60,yin,,0,0,0,,非常简单\N{\fs12}it's pretty simple,
Dialogue: 0,0:55:41.65,0:55:43.97,yin,,0,0,0,,一种是ephemeralSessionConfiguration临时会话配置\N{\fs12}one is an ephemeralSessionConfiguration,
Dialogue: 0,0:55:43.97,0:55:45.43,yin,,0,0,0,,如果要下载什么内容\N{\fs12}that's just if you're gonna download something
Dialogue: 0,0:55:45.43,0:55:46.21,yin,,0,0,0,,下完就完成了\N{\fs12}and you're gonna be done.
Dialogue: 0,0:55:46.67,0:55:48.02,yin,,0,0,0,,这就是我们在做的事情\N{\fs12}And that's exactly what we're doing.
Dialogue: 0,0:55:48.30,0:55:51.16,yin,,0,0,0,,还有一个是defaultSessionConfiguration默认会话配置\N{\fs12}There's another one which is defaultSessionConfiguration.
Dialogue: 0,0:55:51.16,0:55:54.26,yin,,0,0,0,,它表示你可能在下载多个文件\N{\fs12}That means you might be multi, downloading multiple files
Dialogue: 0,0:55:54.26,0:55:57.40,yin,,0,0,0,,或者让这个会话保持活动状态\N{\fs12}or otherwise you keeping this session active
Dialogue: 0,0:55:57.40,0:55:59.83,yin,,0,0,0,,执行多项内容 这是默认值\N{\fs12}and doing multiple things, but it's just the default,
Dialogue: 0,0:55:59.94,0:56:01.96,yin,,0,0,0,,最后一种非常强大\N{\fs12}and the last one, really powerful,
Dialogue: 0,0:56:01.96,0:56:04.53,yin,,0,0,0,,但要理解iOS的多任务才能使用\N{\fs12}but we need to understand iOS multitasking to do it
Dialogue: 0,0:56:04.54,0:56:06.58,yin,,0,0,0,,叫做backgroundSessionConfiguration后台会话配置\N{\fs12}is backgroundSessionConfiguration.
Dialogue: 0,0:56:06.89,0:56:10.68,yin,,0,0,0,,backgroundSessionConfiguration表示开始下载文件后\N{\fs12}A backgroundSessionConfiguration means start downloading this file
Dialogue: 0,0:56:10.87,0:56:15.59,yin,,0,0,0,,即使用户切换到其他应用或应用停止\N{\fs12}and even if the user switches to another app or my app dies,
Dialogue: 0,0:56:15.69,0:56:16.77,yin,,0,0,0,,也会继续下载\N{\fs12}keep downloading it,
Dialogue: 0,0:56:16.77,0:56:18.71,yin,,0,0,0,,下载完成后 再向我发消息\N{\fs12}and when it's done, call me back
Dialogue: 0,0:56:18.72,0:56:21.09,yin,,0,0,0,,如果需要的话 启动应用来处理\N{\fs12}and launch my app, if necessary, to handle that.
Dialogue: 0,0:56:21.73,0:56:23.95,yin,,0,0,0,,它是很强大的会话模式\N{\fs12}Okay? So it was a very powerful session.
Dialogue: 0,0:56:23.95,0:56:28.16,yin,,0,0,0,,但今天我们只用简单一些的临时会话配置\N{\fs12}But today, we're just going to do the simpler ephemeral, okay?
Dialogue: 0,0:56:28.39,0:56:31.68,yin,,0,0,0,,现在创建URLSession\N{\fs12}And so now we'll just create the session, URLSession.
Dialogue: 0,0:56:34.68,0:56:38.10,yin,,0,0,0,,创建NSURLSession时\N{\fs12}And I'm gonna create this NSURLSession
Dialogue: 0,0:56:38.20,0:56:41.90,yin,,0,0,0,,就使用默认方法\N{\fs12}using the default way to do it,
Dialogue: 0,0:56:41.92,0:56:44.35,yin,,0,0,0,,只要指定configuration\N{\fs12}which is just by specifying the configuration only.
Dialogue: 0,0:56:44.35,0:56:46.55,yin,,0,0,0,,不使用委托或委托队列\N{\fs12}I'm not doing the delegate or delegate queue.
Dialogue: 0,0:56:46.84,0:56:49.92,yin,,0,0,0,,所以回调方法会在另一个队列上\N{\fs12}So my callback is going to be on a different queue,
Dialogue: 0,0:56:49.99,0:56:51.90,yin,,0,0,0,,不会在主队列上\N{\fs12}not on the main queue, alright?
Dialogue: 0,0:56:52.33,0:56:58.08,yin,,0,0,0,,现在来创建URLSessionDownloadTask\N{\fs12}And so now let's create that URLSessionDownloadTask, okay?
Dialogue: 0,0:56:58.08,0:56:59.83,yin,,0,0,0,,这个任务\N{\fs12}So this task is going to be the...
Dialogue: 0,0:57:00.04,0:57:02.47,yin,,0,0,0,,会为我们执行下载操作\N{\fs12}the task that's gonna do the downloading for us,
Dialogue: 0,0:57:02.47,0:57:03.78,yin,,0,0,0,,只要请求session\N{\fs12}and we just asked the session,
Dialogue: 0,0:57:04.01,0:57:06.93,yin,,0,0,0,,请用这个请求为我们创建一个下载任务\N{\fs12}please create us a download task with that request,
Dialogue: 0,0:57:07.51,0:57:10.04,yin,,0,0,0,,用这个完成处理程序\N{\fs12}with this completion handler? Okay?
Dialogue: 0,0:57:10.67,0:57:12.77,yin,,0,0,0,,把这段代码另起一行\N{\fs12}And let's go ahead and put this on the other line
Dialogue: 0,0:57:12.78,0:57:13.45,yin,,0,0,0,,方便大家看清楚\N{\fs12}so you can see it.
Dialogue: 0,0:57:13.62,0:57:15.65,yin,,0,0,0,,有一个小技巧 如果你的参数\N{\fs12}One little trick, if you have an argument
Dialogue: 0,0:57:15.67,0:57:17.53,yin,,0,0,0,,是像这样的block\N{\fs12}that's a block like this, okay?
Dialogue: 0,0:57:17.53,0:57:21.64,yin,,0,0,0,,如果双击它 系统就会自动补全内容\N{\fs12}If you double click it, it will put it in there for you.
Dialogue: 0,0:57:22.53,0:57:25.00,yin,,0,0,0,,也就是会自动添加这些内容\N{\fs12}Okay? In other words, it'll type all this stuff in.
Dialogue: 0,0:57:25.76,0:57:27.79,yin,,0,0,0,,我不喜欢location这个名字\N{\fs12}I don't like this name, location,
Dialogue: 0,0:57:27.81,0:57:29.98,yin,,0,0,0,,换一个更清楚的名字localfile本地文件\N{\fs12}just to make it clear, this is local file,
Dialogue: 0,0:57:29.98,0:57:32.05,yin,,0,0,0,,这是一个本地文件的URL\N{\fs12}this is an URL of the local file
Dialogue: 0,0:57:32.05,0:57:34.86,yin,,0,0,0,,应用会将URL内容下载至这个文件中\N{\fs12}that is downloading this content to this URL to.
Dialogue: 0,0:57:34.86,0:57:37.79,yin,,0,0,0,,所以我要叫它localfile\N{\fs12}That's why I like to call that localfile.
Dialogue: 0,0:57:38.00,0:57:40.26,yin,,0,0,0,,这就是这部分要做的代码\N{\fs12}And then here's the code that we want to do in here.
Dialogue: 0,0:57:40.74,0:57:45.34,yin,,0,0,0,,完成时会发生什么\N{\fs12}And, what happens when it's done?
Dialogue: 0,0:57:45.78,0:57:47.67,yin,,0,0,0,,调用这个完成处理程序时\N{\fs12}Okay? When we get this completion handler called.
Dialogue: 0,0:57:47.67,0:57:50.67,yin,,0,0,0,,我们要设置self.image 对吧\N{\fs12}Well, we want to set self dot image, okay,
Dialogue: 0,0:57:51.01,0:57:53.04,yin,,0,0,0,,但这里有一件事需要注意\N{\fs12}but the only thing here we have to be careful is
Dialogue: 0,0:57:53.05,0:57:54.27,yin,,0,0,0,,那就是 我们不在主队列上\N{\fs12}we're not on the main queue,
Dialogue: 0,0:57:54.28,0:57:56.99,yin,,0,0,0,,所以要在另一个队列上执行 来做一下\N{\fs12}so we have to do that in the other queue, so let's do this.
Dialogue: 0,0:57:57.07,0:57:59.29,yin,,0,0,0,,首先判断 如果没有错误\N{\fs12}If there's no error, first of all,
Dialogue: 0,0:57:59.40,0:58:01.53,yin,,0,0,0,,可以看到 这里有个错误参数error\N{\fs12}you can see that there's error argument right here,
Dialogue: 0,0:58:01.64,0:58:02.70,yin,,0,0,0,,如果没有错误...\N{\fs12}so I'm gonna say if there's no error,
Dialogue: 0,0:58:02.71,0:58:03.45,yin,,0,0,0,,如果有错误\N{\fs12}if there was an error,
Dialogue: 0,0:58:03.47,0:58:05.78,yin,,0,0,0,,你可能要在视图某个位置\N{\fs12}you might want to put not found or something
Dialogue: 0,0:58:05.81,0:58:07.76,yin,,0,0,0,,显示未找到等等\N{\fs12}in your view somewhere,
Dialogue: 0,0:58:07.78,0:58:09.75,yin,,0,0,0,,但如果没有错误\N{\fs12}but, if there's no error,
Dialogue: 0,0:58:09.91,0:58:12.09,yin,,0,0,0,,我要做一件有趣的事情\N{\fs12}then I'm gonna do an interesting thing here
Dialogue: 0,0:58:12.09,0:58:13.15,yin,,0,0,0,,大家可能会很惊讶\N{\fs12}that you might be like, what,
Dialogue: 0,0:58:13.45,0:58:14.84,yin,,0,0,0,,我会检查判断\N{\fs12}which is I'm going to check to see
Dialogue: 0,0:58:14.84,0:58:20.93,yin,,0,0,0,,requestURL和self.imageURL的URL是否相等\N{\fs12}if the requestURL's URL is equal to self dot imageURL.
Dialogue: 0,0:58:22.12,0:58:24.47,yin,,0,0,0,,我为什么要这样做呢\N{\fs12}Okay. Why would I do that?
Dialogue: 0,0:58:24.47,0:58:26.23,yin,,0,0,0,,打错了 这里是request.URL\N{\fs12}Oops, request dot URL.
Dialogue: 0,0:58:26.23,0:58:27.17,yin,,0,0,0,,我为什么要这样做\N{\fs12}Why would I do this?
Dialogue: 0,0:58:27.17,0:58:31.65,yin,,0,0,0,,这里我们将request设为了self.imageURL\N{\fs12}Why would I check to see if this is, which we set to be this,
Dialogue: 0,0:58:31.84,0:58:34.90,yin,,0,0,0,,为什么还要检查它俩是否相等呢\N{\fs12}why would I check to see if this is equal to self dot imageURL,
Dialogue: 0,0:58:35.13,0:58:36.02,yin,,0,0,0,,有人知道吗\N{\fs12}anyone have an idea?
Dialogue: 0,0:58:39.46,0:58:42.25,yin,,0,0,0,,[学生回答]\N{\fs12}Student: [inaudible]
Dialogue: 0,0:58:42.58,0:58:43.25,yin,,0,0,0,,没错\N{\fs12}Absolutely.
Dialogue: 0,0:58:43.36,0:58:46.53,yin,,0,0,0,,防止应用中的某个对象\N{\fs12}Okay, in case we, somebody else in the app
Dialogue: 0,0:58:46.70,0:58:48.82,yin,,0,0,0,,修改了这个imageURL\N{\fs12}changed the imageURL,
Dialogue: 0,0:58:48.84,0:58:50.60,yin,,0,0,0,,在网络下载的过程中\N{\fs12}asked us to display something different,
Dialogue: 0,0:58:50.81,0:58:53.62,yin,,0,0,0,,要求应用显示别的内容\N{\fs12}while this was outstanding. Okay?
Dialogue: 0,0:58:53.72,0:58:56.73,yin,,0,0,0,,应用去网上抓取URL内容了 比如要花十分钟\N{\fs12}This URL is out fetching, let's take, it takes 10 minutes,
Dialogue: 0,0:58:56.73,0:58:58.90,yin,,0,0,0,,是一个很慢的网站\N{\fs12}okay, it really is a slow website out there,
Dialogue: 0,0:58:58.90,0:59:00.94,yin,,0,0,0,,要花十分钟 在这十分钟里\N{\fs12}it takes 10 minutes, and in that 10 minutes,
Dialogue: 0,0:59:00.95,0:59:02.39,yin,,0,0,0,,用户点击了其他内容\N{\fs12}the user clicks on something else
Dialogue: 0,0:59:02.46,0:59:04.25,yin,,0,0,0,,想让这个视图显示其他内容\N{\fs12}and wants this view to display something else.
Dialogue: 0,0:59:04.47,0:59:06.63,yin,,0,0,0,,这个下载任务还要十分钟才能完成\N{\fs12}Well, this download task is still gonna
Dialogue: 0,0:59:06.65,0:59:09.95,yin,,0,0,0,,但我们想要忽略它了\N{\fs12}complete 10 minutes later, but we want to ignore it,
Dialogue: 0,0:59:10.32,0:59:11.60,yin,,0,0,0,,这个请求\N{\fs12}basically, because it's a request
Dialogue: 0,0:59:11.60,0:59:13.10,yin,,0,0,0,,请求的是我们不再需要的内容\N{\fs12}for something we're not going to use anymore.
Dialogue: 0,0:59:13.47,0:59:14.82,yin,,0,0,0,,这是在理解多任务处理时\N{\fs12}So this is something that would be important
Dialogue: 0,0:59:14.83,0:59:16.35,yin,,0,0,0,,很重要的一点\N{\fs12}to understand about multitasking,
Dialogue: 0,0:59:16.36,0:59:18.09,yin,,0,0,0,,那就是 操作花费时间\N{\fs12}is that things take time,
Dialogue: 0,0:59:18.25,0:59:19.50,yin,,0,0,0,,当操作完成时\N{\fs12}and when things are finished,
Dialogue: 0,0:59:19.60,0:59:21.48,yin,,0,0,0,,要确保当前状态\N{\fs12}you have to make sure the state of the world
Dialogue: 0,0:59:21.66,0:59:23.80,yin,,0,0,0,,依旧匹配你所认为的\N{\fs12}still matches what you thought it was
Dialogue: 0,0:59:23.80,0:59:25.31,yin,,0,0,0,,其开始时的状态\N{\fs12}when you asked it to start.
Dialogue: 0,0:59:25.82,0:59:28.27,yin,,0,0,0,,多任务编程\N{\fs12}Okay? Multitasking programming,
Dialogue: 0,0:59:28.49,0:59:31.15,yin,,0,0,0,,多线程编程\N{\fs12}multithreaded programming rather, is really,
Dialogue: 0,0:59:31.22,0:59:33.28,yin,,0,0,0,,在这方面可能有些令人费解\N{\fs12}can be kind of mind-bending in that way,
Dialogue: 0,0:59:33.44,0:59:35.21,yin,,0,0,0,,但你自己要清楚地思考\N{\fs12}but you really have to have the discipline to think, okay,
Dialogue: 0,0:59:35.21,0:59:36.97,yin,,0,0,0,,如果这个操作要花费十分钟\N{\fs12}what if this takes 10 minutes,
Dialogue: 0,0:59:37.17,0:59:39.04,yin,,0,0,0,,那我要让它做什么\N{\fs12}then what, what do I want this to do?
Dialogue: 0,0:59:39.72,0:59:41.31,yin,,0,0,0,,这是你需要做的事情\N{\fs12}Alright? So that's the kind of thing you have to do.
Dialogue: 0,0:59:41.85,0:59:43.97,yin,,0,0,0,,在这里 二者是相同的\N{\fs12}So, in this case though, it is the same.
Dialogue: 0,0:59:44.17,0:59:47.18,yin,,0,0,0,,我们用返回的URL数据\N{\fs12}So let's go ahead and create a UIImage
Dialogue: 0,0:59:47.19,0:59:49.41,yin,,0,0,0,,来新建一个UIImage\N{\fs12}out of the URL data that came back,
Dialogue: 0,0:59:49.41,0:59:51.94,yin,,0,0,0,,所以这里我要创建一个本地UIImage\N{\fs12}so I'm gonna create a local UIImage here
Dialogue: 0,0:59:52.40,0:59:56.56,yin,,0,0,0,,我要用UIImage imageWithData\N{\fs12}and I'm gonna do that doing UIImage, imageWithData,
Dialogue: 0,0:59:56.70,0:59:59.13,yin,,0,0,0,,这里可以直接用localfile\N{\fs12}and this time I can just say the localfile,
Dialogue: 0,0:59:59.25,1:00:06.63,yin,,0,0,0,,抱歉 忘了NSData dataWithContentsOfURL\N{\fs12}oops, sorry. Go do NSData dataWithContentsOfURL.
Dialogue: 0,1:00:06.97,1:00:12.45,yin,,0,0,0,,但这里的URL就是这个localfile\N{\fs12}But now the URL is this localfile. Okay?
Dialogue: 0,1:00:13.17,1:00:18.57,yin,,0,0,0,,这段代码执行的是本地操作\N{\fs12}So this, this right here, is doing locally,
Dialogue: 0,1:00:18.57,1:00:20.60,yin,,0,0,0,,所以不会发生阻塞 而这行代码会\N{\fs12}so it's not going to block, like this one did.
Dialogue: 0,1:00:21.03,1:00:24.64,yin,,0,0,0,,这里阻塞 因为它可能是一个http网络URL\N{\fs12}This one blocked because this could be a network http URL,
Dialogue: 0,1:00:24.98,1:00:27.82,yin,,0,0,0,,而它是一个本地文件 所以不会发生阻塞\N{\fs12}this one, is a local file so it can't block.
Dialogue: 0,1:00:28.65,1:00:31.41,yin,,0,0,0,,注意这里的操作\N{\fs12}Okay? Now, notice that I'm doing this.
Dialogue: 0,1:00:31.53,1:00:33.31,yin,,0,0,0,,看起来像是个UIKit调用\N{\fs12}It looks like a UIKit call.
Dialogue: 0,1:00:33.49,1:00:35.10,yin,,0,0,0,,是在主队列上的吗\N{\fs12}Am I doing this on the main queue?
Dialogue: 0,1:00:37.75,1:00:38.22,yin,,0,0,0,,不是\N{\fs12}No.
Dialogue: 0,1:00:38.22,1:00:40.39,yin,,0,0,0,,有人点头 有人摇头\N{\fs12}I see nodding heads or shaking heads.
Dialogue: 0,1:00:40.39,1:00:41.24,yin,,0,0,0,,说对了 不是\N{\fs12}You're right, no.
Dialogue: 0,1:00:41.24,1:00:43.10,yin,,0,0,0,,这不是在主队列上执行的\N{\fs12}This is not happening on the main queue.
Dialogue: 0,1:00:43.44,1:00:46.00,yin,,0,0,0,,而且这样是可以的\N{\fs12}And it turns out that that's okay.
Dialogue: 0,1:00:46.24,1:00:49.57,yin,,0,0,0,,UIImage是UIKit类中少数的\N{\fs12}UIImage is one of the few UIKit classes
Dialogue: 0,1:00:49.58,1:00:53.38,yin,,0,0,0,,允许不在主队列上执行操作的类之一\N{\fs12}that you're allowed to do things to off the main queue.
Dialogue: 0,1:00:53.88,1:00:55.14,yin,,0,0,0,,因为实际上\N{\fs12}And that's because this is not actually
Dialogue: 0,1:00:55.15,1:00:56.53,yin,,0,0,0,,这里并不会做任何屏幕操作\N{\fs12}gonna do anything on screen,
Dialogue: 0,1:00:56.66,1:00:58.73,yin,,0,0,0,,我只是在这里创建了一个局部变量\N{\fs12}I'm just creating a local variable here
Dialogue: 0,1:00:59.05,1:01:02.97,yin,,0,0,0,,解析这个URL 查看对应数据\N{\fs12}that is parsing this URL, looking at its data,
Dialogue: 0,1:01:02.97,1:01:05.12,yin,,0,0,0,,为我创建一幅图像\N{\fs12}and creating an image for me. Okay?
Dialogue: 0,1:01:05.69,1:01:08.81,yin,,0,0,0,,为了好看清楚一点\N{\fs12}Here let's make this a little more readable
Dialogue: 0,1:01:08.81,1:01:09.66,yin,,0,0,0,,把这段代码移到前面\N{\fs12}by moving this back.
Dialogue: 0,1:01:10.51,1:01:13.64,yin,,0,0,0,,这里实际上不会涉及UI操作\N{\fs12}Okay? So, this is not gonna actually touch the UI,
Dialogue: 0,1:01:13.65,1:01:15.94,yin,,0,0,0,,这时只是创建UIImage对象\N{\fs12}I'm just creating the UIImage object at this point,
Dialogue: 0,1:01:16.10,1:01:16.80,yin,,0,0,0,,没问题\N{\fs12}that's okay.
Dialogue: 0,1:01:17.26,1:01:19.08,yin,,0,0,0,,但是下一行代码 我要用\N{\fs12}But the next line of code I want to do
Dialogue: 0,1:01:19.09,1:01:21.86,yin,,0,0,0,,self.image=image\N{\fs12}is self dot image equals image, okay?
Dialogue: 0,1:01:21.86,1:01:23.63,yin,,0,0,0,,现在我想要将我的图像设成这幅图\N{\fs12}Now I want to set my image to that.
Dialogue: 0,1:01:23.96,1:01:26.45,yin,,0,0,0,,这行代码要在主队列上执行\N{\fs12}This line of code has to happen on the main thread,
Dialogue: 0,1:01:26.79,1:01:29.26,yin,,0,0,0,,看一下在设置图像的方法setImage里\N{\fs12}because look at all the UI stuff we're gonna do
Dialogue: 0,1:01:29.33,1:01:30.40,yin,,0,0,0,,我们要做的各种操作\N{\fs12}when we do set image,
Dialogue: 0,1:01:30.41,1:01:32.07,yin,,0,0,0,,我们要向滚动视图发送消息\N{\fs12}we're gonna be talking to the scroll view,
Dialogue: 0,1:01:32.07,1:01:33.30,yin,,0,0,0,,要适应图像显示大小\N{\fs12}we're gonna be doing size fit,
Dialogue: 0,1:01:33.30,1:01:34.98,yin,,0,0,0,,要修改contentSize\N{\fs12}we're gonna change the contentSize,
Dialogue: 0,1:01:34.98,1:01:36.26,yin,,0,0,0,,这里可以做各种操作\N{\fs12}this can be doing all kinds of stuff,
Dialogue: 0,1:01:36.38,1:01:39.27,yin,,0,0,0,,所以要在主队列上运行\N{\fs12}so this has to be on the main thread,
Dialogue: 0,1:01:39.28,1:01:43.29,yin,,0,0,0,,具体实现方法就是用dispatch_async\N{\fs12}and so I'm gonna do that with dispatch async.
Dialogue: 0,1:01:43.97,1:01:51.32,yin,,0,0,0,,dispatch_get_main_queue 然后是一个block\N{\fs12}Dispatch underbar queue, get main queue, and a block here,
Dialogue: 0,1:01:51.66,1:01:55.94,yin,,0,0,0,,然后把这个调用放到block中\N{\fs12}and inside this block, I'm gonna put this call right here.
Dialogue: 0,1:01:56.96,1:02:02.43,yin,,0,0,0,,剪切 粘贴\N{\fs12}Cut and paste. Right? Okay?
Dialogue: 0,1:02:02.91,1:02:05.05,yin,,0,0,0,,还有一种方法是\N{\fs12}Now another way I could have done this was
Dialogue: 0,1:02:05.15,1:02:11.76,yin,,0,0,0,,self performSelectorOnMainThread:@selector(setImage:)\N{\fs12}self performSelectorOnMainThread, at sign selector, setImage
Dialogue: 0,1:02:12.06,1:02:14.65,yin,,0,0,0,,withObject:image waitUntilDone:NO\N{\fs12}withObject, the image, waitUntilDone, NO.
Dialogue: 0,1:02:15.34,1:02:16.85,yin,,0,0,0,,这两行代码\N{\fs12}Okay, these two lines of code
Dialogue: 0,1:02:17.11,1:02:18.46,yin,,0,0,0,,基本上是完全一样的\N{\fs12}are pretty much exactly the same thing.
Dialogue: 0,1:02:19.88,1:02:22.67,yin,,0,0,0,,大家明白了吗\N{\fs12}Okay? Everybody understand that?
Dialogue: 0,1:02:24.79,1:02:26.53,yin,,0,0,0,,明白这行代码吗\N{\fs12}Okay, everyone understand this line of code?
Dialogue: 0,1:02:26.94,1:02:27.31,yin,,0,0,0,,有问题吗\N{\fs12}Question?
Dialogue: 0,1:02:28.17,1:02:38.37,yin,,0,0,0,,[学生提问]\N{\fs12}Student:[inaudible]
Dialogue: 0,1:02:38.37,1:02:41.40,yin,,0,0,0,,问题是 下载这幅图像之前\N{\fs12}Yeah, so the question is before I start downloading this image,
Dialogue: 0,1:02:41.40,1:02:42.48,yin,,0,0,0,,要不要检查一下\N{\fs12}wouldn't I want to check to see
Dialogue: 0,1:02:42.49,1:02:44.54,yin,,0,0,0,,是否已经有正在进行的下载任务\N{\fs12}if I already have a download going on,
Dialogue: 0,1:02:44.56,1:02:46.60,yin,,0,0,0,,答案是 是的 要检查一下\N{\fs12}and the answer is yes you would.
Dialogue: 0,1:02:47.38,1:02:48.90,yin,,0,0,0,,这只是个示例演示 我们就不做了\N{\fs12}You know, this is demo, we're not doing it,
Dialogue: 0,1:02:49.04,1:02:49.95,yin,,0,0,0,,但是大家可以这样做\N{\fs12}but you would want to do that,
Dialogue: 0,1:02:49.97,1:02:51.44,yin,,0,0,0,,你可能要有一个局部变量\N{\fs12}you probably want to have a local variable
Dialogue: 0,1:02:51.44,1:02:54.26,yin,,0,0,0,,是当前下载的URL\N{\fs12}which is the URL that you're currently downloading,
Dialogue: 0,1:02:55.26,1:02:56.73,yin,,0,0,0,,甚至要有一个URL数组\N{\fs12}maybe even an array of them.
Dialogue: 0,1:02:56.95,1:02:59.16,yin,,0,0,0,,因为用户可能会来回点击\N{\fs12}Because the person might click back and forth and back and forth,
Dialogue: 0,1:02:59.74,1:03:01.51,yin,,0,0,0,,这些URL是正在下载的内容\N{\fs12}and so these are all the ones I have outstanding,
Dialogue: 0,1:03:01.51,1:03:02.56,yin,,0,0,0,,然后你可能要查找一下\N{\fs12}and then you'd want to go and look and see
Dialogue: 0,1:03:02.57,1:03:03.51,yin,,0,0,0,,看是否包含目标对象\N{\fs12}if it contains that object,
Dialogue: 0,1:03:03.52,1:03:05.57,yin,,0,0,0,,如果已经有了 就不要再下载了\N{\fs12}and if it does, just don't, don't do this.
Dialogue: 0,1:03:05.99,1:03:07.16,yin,,0,0,0,,等它下载完成\N{\fs12}Okay? Wait for it to come back.
Dialogue: 0,1:03:07.53,1:03:09.16,yin,,0,0,0,,很好的想法\N{\fs12}So that's really good, good point.
Dialogue: 0,1:03:10.23,1:03:12.70,yin,,0,0,0,,这里有一个警告 抱歉 有问题吗\N{\fs12}And then I have this warning right here, oh sorry, question?
Dialogue: 0,1:03:13.88,1:03:25.35,yin,,0,0,0,,[学生提问]\N{\fs12}Student:[inaudible]
Dialogue: 0,1:03:25.37,1:03:27.21,yin,,0,0,0,,好的 问题是 你是说\N{\fs12}Yeah, so, the question, so you mean
Dialogue: 0,1:03:27.22,1:03:29.99,yin,,0,0,0,,各种操作对应的队列...\N{\fs12}which, where is this queue that all this stuff...
Dialogue: 0,1:03:30.48,1:03:31.83,yin,,0,0,0,,何时开始一个新队列呢\N{\fs12}When do we start a actually new queue?
Dialogue: 0,1:03:31.84,1:03:33.84,yin,,0,0,0,,这个队列\N{\fs12}Yeah, so that, that queue,
Dialogue: 0,1:03:34.00,1:03:36.93,yin,,0,0,0,,会执行这个完成处理程序\N{\fs12}that is going to do this completionHandler, right,
Dialogue: 0,1:03:36.93,1:03:38.39,yin,,0,0,0,,这里的这个completionHandler\N{\fs12}this completionHandler right here,
Dialogue: 0,1:03:38.45,1:03:41.30,yin,,0,0,0,,创建它的队列是由会话任务创建的\N{\fs12}the queue to create that is created by the session task,
Dialogue: 0,1:03:41.32,1:03:42.92,yin,,0,0,0,,当需要时 它就会创建它\N{\fs12}and it creates it when it needs it.
Dialogue: 0,1:03:43.15,1:03:44.18,yin,,0,0,0,,可能就是在\N{\fs12}Probably it creates it
Dialogue: 0,1:03:44.19,1:03:45.94,yin,,0,0,0,,调用这个completionHandler前创建的\N{\fs12}right before it calls this completionHandler,
Dialogue: 0,1:03:45.95,1:03:46.96,yin,,0,0,0,,但如果你有一个委托\N{\fs12}but if you had a delegate
Dialogue: 0,1:03:46.96,1:03:48.19,yin,,0,0,0,,它可能会在开始时就创建它\N{\fs12}it might create it right at the beginning
Dialogue: 0,1:03:48.21,1:03:50.05,yin,,0,0,0,,然后用它来调用委托\N{\fs12}and use it to call your delegate, right?
Dialogue: 0,1:03:50.49,1:03:52.00,yin,,0,0,0,,在这里 你可能是在需要用它\N{\fs12}So in this case, you probably created it
Dialogue: 0,1:03:52.01,1:03:53.69,yin,,0,0,0,,触发这段代码之前创建它的\N{\fs12}right before you need it and fired this off.
Dialogue: 0,1:03:53.94,1:03:55.92,yin,,0,0,0,,因为真正的URL下载操作\N{\fs12}Because the actual URL download is happening
Dialogue: 0,1:03:55.92,1:03:57.35,yin,,0,0,0,,是在另一个队列中执行的\N{\fs12}in yet another queue, right?
Dialogue: 0,1:03:57.35,1:03:58.33,yin,,0,0,0,,URL下载队列\N{\fs12}The URL downloading queue,
Dialogue: 0,1:03:58.34,1:04:00.20,yin,,0,0,0,,实际上 可能是在另一个进程中执行的\N{\fs12}and, in fact, it could be another process
Dialogue: 0,1:04:00.32,1:04:02.21,yin,,0,0,0,,如果你用了后台会话模式\N{\fs12}if you use that background session thing.
Dialogue: 0,1:04:03.13,1:04:04.12,yin,,0,0,0,,这是我想到的\N{\fs12}So that's all I think,
Dialogue: 0,1:04:04.13,1:04:05.22,yin,,0,0,0,,但这个队列应该是在\N{\fs12}but this queue is probably created
Dialogue: 0,1:04:05.24,1:04:07.07,yin,,0,0,0,,调用这个completionHandler前创建的\N{\fs12}right before it calls this handler,
Dialogue: 0,1:04:07.18,1:04:08.99,yin,,0,0,0,,是由URLSession创建的\N{\fs12}it's created by the session, URLSession,
Dialogue: 0,1:04:09.11,1:04:10.49,yin,,0,0,0,,在调用这个completionHandler前创建的\N{\fs12}right before it calls this handler.
Dialogue: 0,1:04:10.93,1:04:12.37,yin,,0,0,0,,[学生提问]\N{\fs12}Student:[inaudible]
Dialogue: 0,1:04:12.48,1:04:12.88,yin,,0,0,0,,不\N{\fs12}No.
Dialogue: 0,1:04:12.96,1:04:14.22,yin,,0,0,0,,因为这是完全不同的队列\N{\fs12}Because this is totally separate queue,
Dialogue: 0,1:04:14.37,1:04:15.98,yin,,0,0,0,,毫无关联\N{\fs12}totally unrelated to it. Okay?
Dialogue: 0,1:04:15.99,1:04:17.87,yin,,0,0,0,,我们只会在这里用到主队列\N{\fs12}This is the only time we're touching the main queue,
Dialogue: 0,1:04:18.31,1:04:19.24,yin,,0,0,0,,就是这里\N{\fs12}right here, is when we...
Dialogue: 0,1:04:19.26,1:04:22.80,yin,,0,0,0,,即便在这里 这个block会被放到主队列中\N{\fs12}and even here, this block gets put in line on the main queue,
Dialogue: 0,1:04:22.81,1:04:25.15,yin,,0,0,0,,而主队列可能在执行别的操作\N{\fs12}the main queue might be busy doing other things.
Dialogue: 0,1:04:25.19,1:04:27.14,yin,,0,0,0,,从它的队列中调取别的block\N{\fs12}Okay? Pulling other blocks off its queue,
Dialogue: 0,1:04:27.15,1:04:28.45,yin,,0,0,0,,因为这个block排在队列末尾\N{\fs12}because this goes at the end of the line.
Dialogue: 0,1:04:28.96,1:04:30.01,yin,,0,0,0,,所以如果有其他block\N{\fs12}So if there's other blocks,
Dialogue: 0,1:04:30.04,1:04:31.31,yin,,0,0,0,,会先执行它们\N{\fs12}those are going to get executed first
Dialogue: 0,1:04:31.34,1:04:34.68,yin,,0,0,0,,最后才会执行这个block\N{\fs12}and then eventually this block will get executed. Okay?
Dialogue: 0,1:04:35.49,1:04:37.31,yin,,0,0,0,,这里有一个警告\N{\fs12}So anyway, we have this one warning right here,
Dialogue: 0,1:04:37.31,1:04:38.56,yin,,0,0,0,,为什么会有这个警告呢\N{\fs12}why do we have this warning?
Dialogue: 0,1:04:38.74,1:04:41.35,yin,,0,0,0,,因为我们创建了这个task\N{\fs12}That's because this task, we created it,
Dialogue: 0,1:04:41.35,1:04:42.99,yin,,0,0,0,,但一直没有向它发送任何消息\N{\fs12}but we never sent it a message,
Dialogue: 0,1:04:43.22,1:04:45.32,yin,,0,0,0,,看到了吗 这里提示的是未使用变量task\N{\fs12}you see, this says unused variable task,
Dialogue: 0,1:04:45.50,1:04:48.84,yin,,0,0,0,,很好地提醒了我们 要加上task resume\N{\fs12}and that's a good reminder for us to say task resume,
Dialogue: 0,1:04:49.05,1:04:50.93,yin,,0,0,0,,如果不加上task resume\N{\fs12}because if you don't say task resume,
Dialogue: 0,1:04:51.07,1:04:53.15,yin,,0,0,0,,这个task开始时就会挂起\N{\fs12}this task starts out suspended
Dialogue: 0,1:04:53.16,1:04:54.59,yin,,0,0,0,,不会做任何实际操作\N{\fs12}and it will never actually do anything,
Dialogue: 0,1:04:54.93,1:04:57.57,yin,,0,0,0,,就待在那等着有人恢复它\N{\fs12}just sit there waiting for someone to resume it.
Dialogue: 0,1:04:57.78,1:04:58.21,yin,,0,0,0,,请讲\N{\fs12}Yeah?
Dialogue: 0,1:04:58.84,1:05:03.63,yin,,0,0,0,,[学生提问]\N{\fs12}Student:[inaudible]
Dialogue: 0,1:05:03.63,1:05:07.87,yin,,0,0,0,,问题是 是否有方法可以结束任务\N{\fs12}Yeah, so the question is, is there ways to abort tasks,
Dialogue: 0,1:05:07.99,1:05:09.74,yin,,0,0,0,,我再大体讲一下\N{\fs12}I'm gonna talk more generically
Dialogue: 0,1:05:09.84,1:05:13.57,yin,,0,0,0,,线程或队列上的block\N{\fs12}about blocks on threads, or on queues.
Dialogue: 0,1:05:13.68,1:05:15.27,yin,,0,0,0,,如果一个block离开队列\N{\fs12}If a block is taken off a queue,
Dialogue: 0,1:05:15.66,1:05:17.65,yin,,0,0,0,,开始运行 就不能被终止了\N{\fs12}it starts to run, it cannot be stopped.
Dialogue: 0,1:05:17.81,1:05:18.99,yin,,0,0,0,,需要它自己停下来\N{\fs12}It has to stop itself.
Dialogue: 0,1:05:19.20,1:05:21.51,yin,,0,0,0,,它会意识到\N{\fs12}It would have to realize, oh, this no longer makes sense
Dialogue: 0,1:05:21.51,1:05:23.44,yin,,0,0,0,,不用我再做我做的事情了\N{\fs12}for me to be doing what I'm doing, okay?
Dialogue: 0,1:05:24.44,1:05:27.89,yin,,0,0,0,,URLSession中有个API是做这个的\N{\fs12}There is some API in the URLSession to do things like that,
Dialogue: 0,1:05:27.89,1:05:30.51,yin,,0,0,0,,但我想让大家明白 对于队列上的block\N{\fs12}but I want you to understand that for blocks on queues,
Dialogue: 0,1:05:30.51,1:05:32.18,yin,,0,0,0,,一旦它们开始执行 就不能被终止了\N{\fs12}once they start, they cannot be stopped,
Dialogue: 0,1:05:32.18,1:05:33.36,yin,,0,0,0,,只能自己停下来\N{\fs12}they can only stop themselves.
Dialogue: 0,1:05:33.36,1:05:34.70,yin,,0,0,0,,只能自己退出\N{\fs12}They can just exit from themselves
Dialogue: 0,1:05:34.70,1:05:36.41,yin,,0,0,0,,当它们意识到自己已经不被需要的时候\N{\fs12}when they realize they're no longer necessary.
Dialogue: 0,1:05:36.98,1:05:39.67,yin,,0,0,0,,我没有时间详细讲URLSession部分了\N{\fs12}Okay? I don't have time to get into the URLSession stuff,
Dialogue: 0,1:05:39.69,1:05:41.28,yin,,0,0,0,,这就是你的问题的答案\N{\fs12}but that's the answer to your question.
Dialogue: 0,1:05:43.04,1:05:45.35,yin,,0,0,0,,好了 我们来看看运行效果\N{\fs12}Okay, so, let's see if, how this works.
Dialogue: 0,1:05:46.38,1:05:47.88,yin,,0,0,0,,希望我没落东西\N{\fs12}Hopefully I haven't forgotten anything here.
Dialogue: 0,1:05:54.72,1:05:56.08,yin,,0,0,0,,现在 如果我点击花朵\N{\fs12}Okay, so now if I picked flower,
Dialogue: 0,1:05:56.08,1:05:57.85,yin,,0,0,0,,大家已经能看出不同了吧\N{\fs12}you can already see its different, okay?
Dialogue: 0,1:05:58.01,1:06:00.02,yin,,0,0,0,,当我点击小辣椒时 立刻就跳转到了这里\N{\fs12}When I click peppers, it immediately goes here,
Dialogue: 0,1:06:00.02,1:06:01.52,yin,,0,0,0,,即使这时这里是空的\N{\fs12}even though it's blank, okay?
Dialogue: 0,1:06:01.52,1:06:03.71,yin,,0,0,0,,图片稍后才显示出来\N{\fs12}And the photo comes in later, okay?
Dialogue: 0,1:06:03.85,1:06:05.66,yin,,0,0,0,,但跳转很快 实际上我还可以返回\N{\fs12}But it's immediate and, in fact, I can go back,
Dialogue: 0,1:06:05.77,1:06:07.90,yin,,0,0,0,,我不想要花 我想要小辣椒\N{\fs12}flower, nah, I don't want flower, I want peppers,
Dialogue: 0,1:06:08.14,1:06:09.53,yin,,0,0,0,,不要这个 我想要看水母\N{\fs12}nah, I want jellyfish.
Dialogue: 0,1:06:09.74,1:06:12.35,yin,,0,0,0,,UI反应迅速\N{\fs12}Okay? And, so the UI is taking complete response,
Dialogue: 0,1:06:12.35,1:06:15.18,yin,,0,0,0,,即便我将这些图片下载了很多遍\N{\fs12}even though I'm downloading these things multiple times,
Dialogue: 0,1:06:15.18,1:06:17.39,yin,,0,0,0,,在后台下载 且是不必要的\N{\fs12}actually, in the background, unnecessarily, but,
Dialogue: 0,1:06:18.34,1:06:21.94,yin,,0,0,0,,我们希望UI响应迅速且灵敏\N{\fs12}so this is a way you want your UI to be, very responsive, okay,
Dialogue: 0,1:06:22.19,1:06:25.32,yin,,0,0,0,,用户想要什么\N{\fs12}and just things happening, you know,
Dialogue: 0,1:06:25.34,1:06:28.10,yin,,0,0,0,,立即就执行\N{\fs12}the instant the user wants them, okay?
Dialogue: 0,1:06:29.07,1:06:31.42,yin,,0,0,0,,但这个UI还有一点不太好\N{\fs12}Now, there's one thing that's kind of bad about this UI though
Dialogue: 0,1:06:31.42,1:06:32.29,yin,,0,0,0,,点击这里时\N{\fs12}is when I click here,
Dialogue: 0,1:06:32.39,1:06:34.51,yin,,0,0,0,,这里在做的操作没有反馈\N{\fs12}there's no feedback that's doing anything here,
Dialogue: 0,1:06:34.52,1:06:37.08,yin,,0,0,0,,看起来就像是 我点击了花朵\N{\fs12}this just looks like oh, well, I clicked on flower,
Dialogue: 0,1:06:37.09,1:06:38.79,yin,,0,0,0,,但显示没有花\N{\fs12}oh, there must not be a flower, right?
Dialogue: 0,1:06:39.51,1:06:41.84,yin,,0,0,0,,斯坦福的网速太快了 一下就出来了\N{\fs12}Stanford's network is so fast, [inaudible] but..
Dialogue: 0,1:06:41.97,1:06:44.03,yin,,0,0,0,,用户可能会觉得没有花 那我换下一幅\N{\fs12}he's like oh there's no flower, oh I'll skip it,
Dialogue: 0,1:06:44.23,1:06:45.32,yin,,0,0,0,,没有小辣椒 我换\N{\fs12}there's no peppers, I'll...
Dialogue: 0,1:06:45.33,1:06:47.83,yin,,0,0,0,,因为它在做的操作没有反馈\N{\fs12}because there's no feedback that it's doing anything.
Dialogue: 0,1:06:48.10,1:06:52.44,yin,,0,0,0,,我们来加一个反馈提示\N{\fs12}So let's put some feedback in here that shows something moving
Dialogue: 0,1:06:52.44,1:06:54.48,yin,,0,0,0,,移动标志或者小转轮之类的\N{\fs12}or something, you know, a little spinning wheel
Dialogue: 0,1:06:54.66,1:06:56.73,yin,,0,0,0,,告诉用户 我为你做事呢\N{\fs12}that shows the user hey I'm doing something for you,
Dialogue: 0,1:06:56.82,1:06:58.22,yin,,0,0,0,,在后台运行着呢 不用担心\N{\fs12}in the background, not to worry.
Dialogue: 0,1:06:58.69,1:07:03.00,yin,,0,0,0,,iOS中有一个内置的UIView\N{\fs12}And there is a UIView that's built into iOS,
Dialogue: 0,1:07:03.06,1:07:05.19,yin,,0,0,0,,使用它能够轻松地实现这个功能\N{\fs12}that's really easy to use for doing exactly that.
Dialogue: 0,1:07:05.65,1:07:07.69,yin,,0,0,0,,回到storyboard这里\N{\fs12}So let's go back to our storyboard here.
Dialogue: 0,1:07:08.15,1:07:09.28,yin,,0,0,0,,这是我们的storyboard\N{\fs12}So we have our storyboard,
Dialogue: 0,1:07:09.39,1:07:12.25,yin,,0,0,0,,在右边这个视图中\N{\fs12}and what I'm gonna do is into this view right here,
Dialogue: 0,1:07:12.25,1:07:18.27,yin,,0,0,0,,我要拖进一个UIActivityIndicator\N{\fs12}I'm gonna drag a UIActivityIndicator,
Dialogue: 0,1:07:18.45,1:07:19.83,yin,,0,0,0,,在上面\N{\fs12}just towards the top here,
Dialogue: 0,1:07:20.41,1:07:21.47,yin,,0,0,0,,看起来就是个转轮的样子\N{\fs12}it even looks like a spinning wheel,
Dialogue: 0,1:07:21.48,1:07:23.92,yin,,0,0,0,,我们要的就是这个小转轮\N{\fs12}so this is the little spinning wheel that you're seeing,
Dialogue: 0,1:07:24.03,1:07:24.96,yin,,0,0,0,,我将它拖进这里\N{\fs12}so I'm going to drag it in here.
Dialogue: 0,1:07:24.96,1:07:26.32,yin,,0,0,0,,这里正好可以\N{\fs12}Now, this is gonna be a good opportunity
Dialogue: 0,1:07:26.33,1:07:27.64,yin,,0,0,0,,讲讲文档大纲\N{\fs12}to talk about document outline.
Dialogue: 0,1:07:27.77,1:07:29.94,yin,,0,0,0,,当我把它拖进来时 不错\N{\fs12}So when I drag this in, okay, that's great,
Dialogue: 0,1:07:29.94,1:07:31.46,yin,,0,0,0,,看起来做得很好\N{\fs12}it seems like I've done a good thing.
Dialogue: 0,1:07:31.51,1:07:32.48,yin,,0,0,0,,我已经把它拖进来了\N{\fs12}I've dragged this in here.
Dialogue: 0,1:07:32.72,1:07:34.81,yin,,0,0,0,,但实际上 这样做并不是太好\N{\fs12}But actually, I didn't do a very good thing here,
Dialogue: 0,1:07:35.28,1:07:37.30,yin,,0,0,0,,因为这样将它拖拽进来\N{\fs12}because dragging that in
Dialogue: 0,1:07:37.41,1:07:39.71,yin,,0,0,0,,实际上让它成为了滚动视图的一个子视图\N{\fs12}actually made that a subview of the scroll view.
Dialogue: 0,1:07:40.23,1:07:43.97,yin,,0,0,0,,当你拖进一个视图 放在另一个视图上面\N{\fs12}Okay? When you drag a view in, on top of another view,
Dialogue: 0,1:07:43.97,1:07:45.18,yin,,0,0,0,,它就会成为该视图的子视图\N{\fs12}it makes a subview of that.
Dialogue: 0,1:07:45.36,1:07:47.51,yin,,0,0,0,,可以在左边的文档大纲中看到\N{\fs12}And we can see that over here in the document outline.
Dialogue: 0,1:07:47.51,1:07:48.48,yin,,0,0,0,,这是滚动视图\N{\fs12}Here's the scroll view.
Dialogue: 0,1:07:48.76,1:07:50.48,yin,,0,0,0,,看到它缩进了吗\N{\fs12}And see how this is indented a little?
Dialogue: 0,1:07:50.72,1:07:51.73,yin,,0,0,0,,代表它是一个子视图\N{\fs12}That means it's a subview.
Dialogue: 0,1:07:51.73,1:07:53.30,yin,,0,0,0,,我不想让它成为子视图\N{\fs12}Now, I don't want it to be a subview,
Dialogue: 0,1:07:53.32,1:07:56.94,yin,,0,0,0,,我想让这个转轮显示在滚动视图前面\N{\fs12}I want this wheel to sit in front of the scroll view, right,
Dialogue: 0,1:07:56.94,1:08:00.12,yin,,0,0,0,,当滚动视图执行操作时 转轮转动\N{\fs12}and be spinning whenever the scroll view is doing something
Dialogue: 0,1:08:00.12,1:08:02.58,yin,,0,0,0,,停止操作时 转轮隐藏\N{\fs12}and go, and to hide itself when it stops,
Dialogue: 0,1:08:02.91,1:08:05.50,yin,,0,0,0,,不让它成为子视图 方法是选中它\N{\fs12}and so I can make this not be subview by picking it up
Dialogue: 0,1:08:06.16,1:08:08.44,yin,,0,0,0,,移动为并列视图\N{\fs12}and moving it to be a sibling.
Dialogue: 0,1:08:08.90,1:08:11.75,yin,,0,0,0,,现在的问题是我将它放在了后面\N{\fs12}Okay? Now, the problem here is I put it in the back,
Dialogue: 0,1:08:12.07,1:08:14.16,yin,,0,0,0,,排在上面的子视图显示在后面\N{\fs12}things at the top of the view, subview are in the back,
Dialogue: 0,1:08:14.33,1:08:16.48,yin,,0,0,0,,所以我可以将它拖到上面这里\N{\fs12}so I can just put this up here,
Dialogue: 0,1:08:16.81,1:08:18.90,yin,,0,0,0,,现在转轮在前 滚动视图在后\N{\fs12}and now I've got this in front and this in back.
Dialogue: 0,1:08:19.55,1:08:20.48,yin,,0,0,0,,它们是同级并列的\N{\fs12}Okay? And they're siblings.
Dialogue: 0,1:08:21.18,1:08:22.55,yin,,0,0,0,,它在前面\N{\fs12}So this is in front, okay?
Dialogue: 0,1:08:23.45,1:08:24.71,yin,,0,0,0,,这里还要做一件事\N{\fs12}Another thing I want to do here
Dialogue: 0,1:08:24.73,1:08:26.78,yin,,0,0,0,,就是设置它的约束\N{\fs12}is set my constraints on this guy,
Dialogue: 0,1:08:26.93,1:08:27.68,yin,,0,0,0,,转到这里\N{\fs12}so I'm gonna go here
Dialogue: 0,1:08:27.69,1:08:31.17,yin,,0,0,0,,将它设为水平垂直居中\N{\fs12}and I'm gonna set it to be horizontal/vertical centered,
Dialogue: 0,1:08:31.17,1:08:32.23,yin,,0,0,0,,可以检查一下\N{\fs12}and we can just make sure
Dialogue: 0,1:08:32.23,1:08:34.40,yin,,0,0,0,,是否设置正确 没问题\N{\fs12}that it did the right thing, which it did. Okay?
Dialogue: 0,1:08:34.59,1:08:37.32,yin,,0,0,0,,有些黄线 我们把它弄好\N{\fs12}We got a little yellow there, so let's fix that.
Dialogue: 0,1:08:38.64,1:08:41.57,yin,,0,0,0,,选择修复错位 将它放到正中间\N{\fs12}Fix misplacement, put it right in the middle, okay?
Dialogue: 0,1:08:41.88,1:08:42.68,yin,,0,0,0,,这样就好了\N{\fs12}So we got that.
Dialogue: 0,1:08:42.89,1:08:44.45,yin,,0,0,0,,还有一件事要做\N{\fs12}The other thing I want to do is,
Dialogue: 0,1:08:44.88,1:08:48.84,yin,,0,0,0,,我想让这个小转轮变大\N{\fs12}I want this little spinning thing, I want it to be large
Dialogue: 0,1:08:49.00,1:08:51.26,yin,,0,0,0,,所以样式这里选择Large White大白样式\N{\fs12}so the style I'm gonna use is large white,
Dialogue: 0,1:08:52.02,1:08:53.37,yin,,0,0,0,,但我不希望它是白色的\N{\fs12}but I don't want it to be white,
Dialogue: 0,1:08:53.38,1:08:54.67,yin,,0,0,0,,它是在白色背景上的\N{\fs12}because it's on a white background.
Dialogue: 0,1:08:54.67,1:08:56.18,yin,,0,0,0,,如果是白色就几乎看不清楚了\N{\fs12}So I'm barely gonna be able to see the thing,
Dialogue: 0,1:08:56.37,1:08:57.28,yin,,0,0,0,,我们来修改它的颜色\N{\fs12}so let's change the color.
Dialogue: 0,1:08:57.28,1:08:58.73,yin,,0,0,0,,把它的颜色修改为\N{\fs12}So let's make the color be,
Dialogue: 0,1:08:58.74,1:09:01.77,yin,,0,0,0,,换成和按钮一样的蓝色\N{\fs12}hmm, let's make it be like the blue of the buttons,
Dialogue: 0,1:09:02.05,1:09:03.78,yin,,0,0,0,,蓝色转轮挺好的\N{\fs12}okay, that's a pretty good color for it to be.
Dialogue: 0,1:09:04.31,1:09:06.00,yin,,0,0,0,,还要注意这两个Behavior行为选项\N{\fs12}Also, notice these behaviors.
Dialogue: 0,1:09:06.21,1:09:09.62,yin,,0,0,0,,Animating动画代表它以动画形式开始\N{\fs12}Okay? Animating means this thing starts out animating,
Dialogue: 0,1:09:09.70,1:09:12.20,yin,,0,0,0,,我们想要这种效果 因为当这个视图刚出现时\N{\fs12}which I want, because when this view first appears,
Dialogue: 0,1:09:12.28,1:09:13.33,yin,,0,0,0,,我想让它演示动画\N{\fs12}I want it to be animating,
Dialogue: 0,1:09:13.33,1:09:14.89,yin,,0,0,0,,因为开始时是在加载页面\N{\fs12}because I'm loading from the start.
Dialogue: 0,1:09:15.17,1:09:16.93,yin,,0,0,0,,下面的选项是停止时隐藏\N{\fs12}And then here's hides when stopped,
Dialogue: 0,1:09:16.97,1:09:19.05,yin,,0,0,0,,表示当你在代码中停止它时\N{\fs12}that says when you stop it in your code,
Dialogue: 0,1:09:19.35,1:09:20.20,yin,,0,0,0,,转轮就会隐藏起来\N{\fs12}it's gonna hide it.
Dialogue: 0,1:09:20.71,1:09:21.90,yin,,0,0,0,,这样它就不会不停转动\N{\fs12}So it's not gonna stop turning
Dialogue: 0,1:09:21.90,1:09:24.17,yin,,0,0,0,,始终显示在那里 阻塞滚动视图\N{\fs12}and then sit there blocking your scroll view,
Dialogue: 0,1:09:24.17,1:09:25.35,yin,,0,0,0,,它自己会隐藏起来\N{\fs12}it's going to hide itself.
Dialogue: 0,1:09:25.75,1:09:26.91,yin,,0,0,0,,这是个非常棒的功能\N{\fs12}Okay? So that's a really cool feature,
Dialogue: 0,1:09:26.91,1:09:29.50,yin,,0,0,0,,通常都会选择停止时隐藏\N{\fs12}you almost always want hides when stopped on there.
Dialogue: 0,1:09:29.77,1:09:31.74,yin,,0,0,0,,可能不需要开始动画\N{\fs12}Okay? You may or may not want it to start out animating,
Dialogue: 0,1:09:31.74,1:09:34.01,yin,,0,0,0,,但通常要选择停止时隐藏\N{\fs12}but you always want to hide when stopped.
Dialogue: 0,1:09:34.67,1:09:38.35,yin,,0,0,0,,现在我们回到代码这里\N{\fs12}Okay? So, now, let's go back to our code, over here,
Dialogue: 0,1:09:38.65,1:09:42.38,yin,,0,0,0,,何时开始和结束它呢\N{\fs12}and when do we want to start and stop this thing, okay?
Dialogue: 0,1:09:43.04,1:09:44.33,yin,,0,0,0,,什么时候开始结束比较好呢\N{\fs12}When's a good time to start and stop?
Dialogue: 0,1:09:44.33,1:09:46.87,yin,,0,0,0,,比较好的开始时间是\N{\fs12}Well, a good time to start it is
Dialogue: 0,1:09:46.89,1:09:48.92,yin,,0,0,0,,开始下载图像时\N{\fs12}when we're starting to download an image.
Dialogue: 0,1:09:49.13,1:09:51.41,yin,,0,0,0,,我要用... 对了 在此之前\N{\fs12}So I'm gonna say, oh, well first of all,
Dialogue: 0,1:09:51.45,1:09:53.46,yin,,0,0,0,,我们为什么不做个指向它的输出口呢\N{\fs12}why don't we make an outlet to it?
Dialogue: 0,1:09:53.91,1:09:55.45,yin,,0,0,0,,回到storyboard\N{\fs12}So let's go back to our storyboard,
Dialogue: 0,1:09:56.02,1:09:59.95,yin,,0,0,0,,选择系统编辑器 关闭文档大纲栏\N{\fs12}let's get our system editor up here, let's close this,
Dialogue: 0,1:10:00.99,1:10:03.68,yin,,0,0,0,,我们开着文档大纲栏吧\N{\fs12}and let's, actually let's leave that open
Dialogue: 0,1:10:03.69,1:10:04.53,yin,,0,0,0,,我要演示一下\N{\fs12}because I'll show you,
Dialogue: 0,1:10:04.53,1:10:07.39,yin,,0,0,0,,我说过 从文档大纲中\N{\fs12}I promised you that control drag
Dialogue: 0,1:10:07.40,1:10:09.19,yin,,0,0,0,,进行control拖拽很好用\N{\fs12}from the document outline would be good
Dialogue: 0,1:10:09.20,1:10:11.70,yin,,0,0,0,,这里就是显示出它好用的地方\N{\fs12}and here's an example of when it's really good,
Dialogue: 0,1:10:11.88,1:10:15.10,yin,,0,0,0,,想要从这里进行control拖拽有点困难\N{\fs12}because trying to control drag from this might be a little dicey,
Dialogue: 0,1:10:15.39,1:10:16.97,yin,,0,0,0,,但从这里拖拽是很容易的\N{\fs12}but over here, it's really easy.
Dialogue: 0,1:10:17.18,1:10:19.05,yin,,0,0,0,,我只要从这里按住control键进行拖拽\N{\fs12}So I'm just gonna control, drag from here
Dialogue: 0,1:10:19.51,1:10:23.66,yin,,0,0,0,,拖拽到图像视图控制器 没选中\N{\fs12}into my image view controller, oops, missed it.
Dialogue: 0,1:10:25.88,1:10:26.63,yin,,0,0,0,,这里\N{\fs12}Right there.
Dialogue: 0,1:10:27.26,1:10:28.78,yin,,0,0,0,,我们叫它spinner\N{\fs12}Okay? And we'll call it spinner.
Dialogue: 0,1:10:29.42,1:10:32.66,yin,,0,0,0,,可以看到spinner是UIActivityIndicator类型\N{\fs12}So there's a spinner, see it's a UIActivityIndicator.
Dialogue: 0,1:10:33.37,1:10:36.93,yin,,0,0,0,,现在回到这里 选择视图控制器\N{\fs12}Alright so now let's go back to here, and our view controller,
Dialogue: 0,1:10:36.93,1:10:38.90,yin,,0,0,0,,尽可能扩大显示宽度\N{\fs12}make it as wide as possible.
Dialogue: 0,1:10:39.80,1:10:42.76,yin,,0,0,0,,现在有了这个self.spinner 在这里\N{\fs12}Okay, so now I have this self dot spinner up here.
Dialogue: 0,1:10:43.59,1:10:44.78,yin,,0,0,0,,我要告诉它\N{\fs12}And now I'm going to tell it,
Dialogue: 0,1:10:45.09,1:10:46.73,yin,,0,0,0,,当我开始下载图像的时候\N{\fs12}when I start downloading an image,
Dialogue: 0,1:10:47.16,1:10:50.36,yin,,0,0,0,,self.spinner startAnimating\N{\fs12}self dot spinner startAnimating.
Dialogue: 0,1:10:50.99,1:10:54.04,yin,,0,0,0,,这就是要发送给转轮的方法\N{\fs12}Okay? So that's the method that you send to a spinner
Dialogue: 0,1:10:54.05,1:10:55.10,yin,,0,0,0,,告诉它开始动画\N{\fs12}to tell it to start animating,
Dialogue: 0,1:10:55.18,1:10:57.38,yin,,0,0,0,,如果它是隐藏的 设置了动画时不隐藏\N{\fs12}and if it's hidden and you have that hides when animated,
Dialogue: 0,1:10:57.39,1:10:59.26,yin,,0,0,0,,它就会显示出来 开始转动\N{\fs12}it'll unhide itself and start spinning.
Dialogue: 0,1:10:59.65,1:11:01.26,yin,,0,0,0,,如果它不是隐藏状态 就会直接开始转动\N{\fs12}If it's not hidden, it'll just start spinning.
Dialogue: 0,1:11:01.64,1:11:03.95,yin,,0,0,0,,那么何时停止它动画比较好呢\N{\fs12}Now when's a good time to stop it from animating?
Dialogue: 0,1:11:03.95,1:11:05.81,yin,,0,0,0,,最合适的时间\N{\fs12}Well, the best part, time,
Dialogue: 0,1:11:05.81,1:11:08.69,yin,,0,0,0,,大概就是当有人设置图像的时候\N{\fs12}is probably when someone sets an image.
Dialogue: 0,1:11:09.09,1:11:11.40,yin,,0,0,0,,因为如果这里设置了一幅图像\N{\fs12}Okay? Because if an image gets set in here,
Dialogue: 0,1:11:11.63,1:11:15.28,yin,,0,0,0,,那我们基本可以确定设置好了\N{\fs12}then we can pretty much be assured that we're setting,
Dialogue: 0,1:11:15.28,1:11:17.49,yin,,0,0,0,,操作完成了 所以就要停止转轮动画了\N{\fs12}that we're done, so we'll stop animating then.
Dialogue: 0,1:11:18.41,1:11:20.38,yin,,0,0,0,,所以无论这个setImage的发生\N{\fs12}Okay? So whether this setImage happens
Dialogue: 0,1:11:20.38,1:11:23.22,yin,,0,0,0,,是因为下载操作完成了\N{\fs12}because that start downloading thing finally finishes,
Dialogue: 0,1:11:23.26,1:11:24.54,yin,,0,0,0,,还是因为有人厌烦了\N{\fs12}or because someone gets tired of it
Dialogue: 0,1:11:24.55,1:11:26.79,yin,,0,0,0,,将它设为了某个本地图像\N{\fs12}and sets it to some image that's a local image,
Dialogue: 0,1:11:26.82,1:11:29.02,yin,,0,0,0,,这两种情况 我们都要停止转轮\N{\fs12}either way, boom, we're gonna stop doing that spinner.
Dialogue: 0,1:11:29.90,1:11:32.17,yin,,0,0,0,,我们来看一下\N{\fs12}Okay? So let's take a look at that.
Dialogue: 0,1:11:40.48,1:11:41.56,yin,,0,0,0,,选择花朵\N{\fs12}Alright, so we do the flower,
Dialogue: 0,1:11:41.58,1:11:42.53,yin,,0,0,0,,看到转轮了吗\N{\fs12}and see we got the spinner,
Dialogue: 0,1:11:42.53,1:11:43.67,yin,,0,0,0,,正在转动 很好\N{\fs12}that is spinning, which is nice,
Dialogue: 0,1:11:43.68,1:11:45.61,yin,,0,0,0,,告诉我们有操作正在执行\N{\fs12}it's telling us that something's happening,
Dialogue: 0,1:11:45.63,1:11:48.11,yin,,0,0,0,,我们依旧可以中断它\N{\fs12}and we can still interrupt it, go back,
Dialogue: 0,1:11:48.12,1:11:50.52,yin,,0,0,0,,转轮的各种操作\N{\fs12}it's not blocked, this is not blocking the main thread
Dialogue: 0,1:11:50.52,1:11:52.58,yin,,0,0,0,,不会阻塞主线程\N{\fs12}in any way to do that spinner, okay?
Dialogue: 0,1:11:52.58,1:11:54.39,yin,,0,0,0,,但是它能给用户很好的反馈\N{\fs12}But it gives the user some nice feedback
Dialogue: 0,1:11:54.69,1:11:56.29,yin,,0,0,0,,告诉用户 我在干活呢\N{\fs12}that hey I'm working on something.
Dialogue: 0,1:11:57.56,1:11:59.81,yin,,0,0,0,,有问题吗\N{\fs12}Okay? Question?
Dialogue: 0,1:12:01.15,1:12:02.77,yin,,0,0,0,,[学生提问]\N{\fs12}Student:[inaudible]
Dialogue: 0,1:12:02.88,1:12:03.53,yin,,0,0,0,,好问题\N{\fs12}Great question.
Dialogue: 0,1:12:03.89,1:12:08.08,yin,,0,0,0,,问题是 这个URL的使用有效期是多少\N{\fs12}So the question is what is the lifetime of this URL.
Dialogue: 0,1:12:08.26,1:12:10.26,yin,,0,0,0,,在这里的completionHandler中\N{\fs12}In my completionHandler, right here,
Dialogue: 0,1:12:10.52,1:12:11.96,yin,,0,0,0,,这个localfile的使用有效期是多少\N{\fs12}what is the lifetime of this localfile?
Dialogue: 0,1:12:11.96,1:12:14.70,yin,,0,0,0,,答案是只能用于这个block的有效期范围\N{\fs12}And the answer is only for the lifetime of this block.
Dialogue: 0,1:12:15.71,1:12:18.39,yin,,0,0,0,,一旦这个block停止执行\N{\fs12}Okay? So, as soon as this block stops executing,
Dialogue: 0,1:12:18.41,1:12:19.53,yin,,0,0,0,,那个文件就会被删掉\N{\fs12}that file will be deleted.
Dialogue: 0,1:12:19.93,1:12:21.97,yin,,0,0,0,,所以如果你想保存它 就得复制一下\N{\fs12}So if you want to keep it, you got to copy it.
Dialogue: 0,1:12:22.51,1:12:24.72,yin,,0,0,0,,复制文件的方法\N{\fs12}Okay? And you copy files, by the way,
Dialogue: 0,1:12:24.73,1:12:26.96,yin,,0,0,0,,复制URL要用NSFileManager\N{\fs12}copy URLs using NSFileManager.
Dialogue: 0,1:12:27.47,1:12:28.53,yin,,0,0,0,,下周讲持久化时\N{\fs12}Okay? We'll probably talk
Dialogue: 0,1:12:28.53,1:12:30.31,yin,,0,0,0,,我们可能会\N{\fs12}about NSFileManager briefly next week
Dialogue: 0,1:12:30.32,1:12:31.47,yin,,0,0,0,,快速讲一下NSFileManager\N{\fs12}when we talk about persistence,
Dialogue: 0,1:12:32.33,1:12:34.21,yin,,0,0,0,,但它就是复制文件的方法 用API\N{\fs12}but that's how you copy files, they are API
Dialogue: 0,1:12:34.21,1:12:37.59,yin,,0,0,0,,从URL复制到URL 就可以复制了\N{\fs12}and they're copy from URL to URL and you can copy it away,
Dialogue: 0,1:12:37.91,1:12:38.96,yin,,0,0,0,,很好的想法\N{\fs12}but that's a very good point.
Dialogue: 0,1:12:38.96,1:12:42.45,yin,,0,0,0,,这是一个临时文件 只用于这个block\N{\fs12}This is a temporary file, only here, you know, for this block.
Dialogue: 0,1:12:42.63,1:12:44.10,yin,,0,0,0,,这个block没有了 文件也就无法继续使用了\N{\fs12}And once this block is gone, you're done.
Dialogue: 0,1:12:46.23,1:12:48.85,yin,,0,0,0,,还有一点我要快速讲一下\N{\fs12}Okay? The other thing I'm gonna say, really briefly,
Dialogue: 0,1:12:48.85,1:12:50.26,yin,,0,0,0,,我也不知道幻灯片中是否能讲到\N{\fs12}I don't know if we'll get to this in slides,
Dialogue: 0,1:12:50.89,1:12:53.42,yin,,0,0,0,,做多任务处理时 我可能会要求大家\N{\fs12}when we do multitasking, I'm probably gonna ask you
Dialogue: 0,1:12:53.57,1:12:56.95,yin,,0,0,0,,在这里使用backgroundSessionConfiguration\N{\fs12}to use a backgroundSessionConfiguration here
Dialogue: 0,1:12:56.96,1:13:00.07,yin,,0,0,0,,而不是临时会话配置 在这个配置模式下\N{\fs12}instead of ephemeral, which is this one where...
Dialogue: 0,1:13:00.32,1:13:01.80,yin,,0,0,0,,即便应用未运行\N{\fs12}even if your app's not running,
Dialogue: 0,1:13:01.81,1:13:03.59,yin,,0,0,0,,它也会继续下载目标内容\N{\fs12}it will keep downloading that thing,
Dialogue: 0,1:13:03.60,1:13:06.89,yin,,0,0,0,,完成后再调回你的应用\N{\fs12}and then eventually call your app back,
Dialogue: 0,1:13:06.90,1:13:09.47,yin,,0,0,0,,想要理解它 需要知道多任务执行的工作原理\N{\fs12}but to know that you have to know how the multitasking works.
Dialogue: 0,1:13:10.22,1:13:13.30,yin,,0,0,0,,当这样做时 你需要...\N{\fs12}When you do that, you will have to have,
Dialogue: 0,1:13:14.10,1:13:16.38,yin,,0,0,0,,当使用sessionWithConfiguration时\N{\fs12}when you do the sessionWithConfiguration,
Dialogue: 0,1:13:16.82,1:13:18.21,yin,,0,0,0,,抱歉 这里补上\N{\fs12}sorry, let's do something here.
Dialogue: 0,1:13:21.22,1:13:22.85,yin,,0,0,0,,你需要使用带有委托delegate的\N{\fs12}You will have to use the version of this
Dialogue: 0,1:13:22.85,1:13:24.48,yin,,0,0,0,,sessionWithConfiguration方法\N{\fs12}that has a delegate, okay?
Dialogue: 0,1:13:24.48,1:13:25.86,yin,,0,0,0,,因为后台会话配置模式\N{\fs12}Because the background session one,
Dialogue: 0,1:13:25.86,1:13:26.78,yin,,0,0,0,,需要使用委托\N{\fs12}you got to use the delegate,
Dialogue: 0,1:13:26.78,1:13:28.40,yin,,0,0,0,,不能用完成处理程序\N{\fs12}you can't use the completion handler.
Dialogue: 0,1:13:29.08,1:13:31.16,yin,,0,0,0,,加上委托就可以了\N{\fs12}Okay? Just putting that out there.
Dialogue: 0,1:13:31.33,1:13:33.18,yin,,0,0,0,,我们再讲到这时 我会提醒大家\N{\fs12}I'll remind you when we get back to that, but,
Dialogue: 0,1:13:34.70,1:13:35.86,yin,,0,0,0,,但要知道后台模式要使用委托\N{\fs12}got to use the delegate for that.
Dialogue: 0,1:13:36.30,1:13:38.53,yin,,0,0,0,,但临时会话配置模式可以使用这个完成处理程序\N{\fs12}But for ephemeral, we can use this nice handler.
Dialogue: 0,1:13:39.61,1:13:44.85,yin,,0,0,0,,我们就不讲表视图了\N{\fs12}Okay. So, we are not going to start on table view
Dialogue: 0,1:13:45.25,1:13:51.01,yin,,0,0,0,,下次课再讲 我们来看看最后一张幻灯片\N{\fs12}until next time, but let me, this last slide here.
Dialogue: 0,1:13:52.13,1:13:53.30,yin,,0,0,0,,说说后面要讲的内容\N{\fs12}Talk about what's coming up.
Dialogue: 0,1:13:54.23,1:13:56.21,yin,,0,0,0,,周三的时候 这里写的是更多表视图内容\N{\fs12}So on Wednesday it says more table view,
Dialogue: 0,1:13:56.23,1:13:57.94,yin,,0,0,0,,我们会从头开始讲\N{\fs12}but we'll, we'll do all the table view.
Dialogue: 0,1:13:58.15,1:13:59.33,yin,,0,0,0,,我还会讲iPad\N{\fs12}I'm also gonna do iPad.
Dialogue: 0,1:13:59.64,1:14:02.48,yin,,0,0,0,,专门用于iPad的UI内容\N{\fs12}Okay? Talk about the special UI idioms that are on the iPad.
Dialogue: 0,1:14:03.09,1:14:04.32,yin,,0,0,0,,作业呢 我说了\N{\fs12}Your homework, as I said,
Dialogue: 0,1:14:04.32,1:14:05.61,yin,,0,0,0,,今天不留作业\N{\fs12}there's no homework assigned today,
Dialogue: 0,1:14:05.62,1:14:07.88,yin,,0,0,0,,所以大家两天不用做作业了 太好了\N{\fs12}so you get two days off on homework, good job,
Dialogue: 0,1:14:08.13,1:14:10.07,yin,,0,0,0,,周三会布置一个新作业\N{\fs12}and then Wednesday you'll have a whole new assignment
Dialogue: 0,1:14:10.08,1:14:11.31,yin,,0,0,0,,完成期限一星期\N{\fs12}that will be due a week later,
Dialogue: 0,1:14:11.47,1:14:14.03,yin,,0,0,0,,周五有课外辅导\N{\fs12}and Friday, we do have section,
Dialogue: 0,1:14:14.39,1:14:16.47,yin,,0,0,0,,会开始的早一点\N{\fs12}it's actually gonna be a little bit early,
Dialogue: 0,1:14:16.58,1:14:17.64,yin,,0,0,0,,时间长一些\N{\fs12}and last a little longer,
Dialogue: 0,1:14:17.64,1:14:20.73,yin,,0,0,0,,90分钟的课外辅导 而不是50分钟了\N{\fs12}it's like a 90 minutes instead of a 50-minute section,
Dialogue: 0,1:14:20.91,1:14:23.44,yin,,0,0,0,,斯坦福的同学记得查看Piazza的通知\N{\fs12}so watch Piazza for that Stanford people.
Dialogue: 0,1:14:23.62,1:14:25.45,yin,,0,0,0,,iTunes U上没有\N{\fs12}It won't be on iTunes U.
Dialogue: 0,1:14:25.68,1:14:27.92,yin,,0,0,0,,下周我们会讲Core Data\N{\fs12}And then next week we're gonna talk about core data
Dialogue: 0,1:14:28.37,1:14:29.97,yin,,0,0,0,,大体讲一下持久性\N{\fs12}and persistence in general,
Dialogue: 0,1:14:29.98,1:14:32.47,yin,,0,0,0,,如何让内容留在手机上\N{\fs12}how do we make things stay on the phone,
Dialogue: 0,1:14:32.48,1:14:34.11,yin,,0,0,0,,将它们转为数据库\N{\fs12}and how do we turn them into a database
Dialogue: 0,1:14:34.14,1:14:35.98,yin,,0,0,0,,进行检索等操作\N{\fs12}so we can search for things and stuff like that?
Dialogue: 0,1:14:36.37,1:14:37.89,yin,,0,0,0,,这就是下面要讲的内容\N{\fs12}Okay? So that's what's coming up.
Dialogue: 0,1:14:38.51,1:14:40.74,yin,,0,0,0,,谢谢大家 有问题就过来找我吧\N{\fs12}Thank you all and I'll be here if you have questions.
Dialogue: 0,1:14:43.32,1:14:46.87,yin,,0,0,0,,更多内容 请访问斯坦福网站\N{\fs12}For more, please visit us at stanford.edu.
